!function(){var e,t,n,r,i,o={1:function(e){e.exports={root:"aXDq9y",title:"bXDq9y",description:"cXDq9y",image:"dXDq9y",primaryButton:"eXDq9y",secondaryButton:"fXDq9y"}},72917:function(e){e.exports={button:"aIqTfg",button_round:"bIqTfg",button_unselectable:"cIqTfg",content:"dIqTfg",button_uppercase:"eIqTfg",buttonWrapper:"fIqTfg",buttonWrapper_isIcon:"gIqTfg",icon:"hIqTfg",button_theme_primary:"iIqTfg",button_theme_secondary:"jIqTfg",button_theme_secondaryLight:"kIqTfg",button_theme_secondaryDark:"lIqTfg",button_theme_outline:"mIqTfg",button_theme_outlineDark:"nIqTfg",button_theme_outlineLight:"oIqTfg",button_theme_flat:"pIqTfg",button_theme_flatLight:"qIqTfg",button_theme_flatDark:"rIqTfg",button_theme_mono:"sIqTfg",button_theme_custom:"tIqTfg",button_theme_custom_hideOverlay:"uIqTfg",button_disabled:"vIqTfg",button_inGroup_horizontal:"wIqTfg",button_inGroup_vertical:"xIqTfg",button_inGroup:"yIqTfg",button_isButtonLink:"zIqTfg",button_wide_true:"AIqTfg",button_wideTabletS_true:"BIqTfg",button_wideTabletS_false:"CIqTfg",button_wideTabletL_true:"DIqTfg",button_wideTabletL_false:"EIqTfg",button_wideDesktopS_true:"FIqTfg",button_wideDesktopS_false:"GIqTfg",button_wideDesktopM_true:"HIqTfg",button_wideDesktopM_false:"IIqTfg",button_wideDesktopL_true:"JIqTfg",button_wideDesktopL_false:"KIqTfg",progressiveFillContainer:"LIqTfg",progressiveFill:"MIqTfg",buttonWrapper_disableHorizontalPadding:"NIqTfg",buttonWrapper_disableVerticalPadding:"OIqTfg"}},53225:function(e){e.exports={carousel:"aj-+Axw",controlContainer:"bj-+Axw",button:"cj-+Axw",button_disabled:"dj-+Axw",sliderFrame:"ej-+Axw",sliderFrame_stretch:"fj-+Axw",item:"gj-+Axw"}},33286:function(e){e.exports={root:"aOHieT","root_fit-y":"bOHieT","root_fit-x-y":"cOHieT","root_fit-true":"dOHieT","root_fit-x":"eOHieT",wideDesktopMd:"fOHieT"}},54686:function(e){e.exports={root:"atGZQw",marker:"btGZQw",content:"ctGZQw",title:"dtGZQw",description:"etGZQw"}},75706:function(e){e.exports={root:"aRjZqH",root_standalone:"bRjZqH",mainContent:"cRjZqH",leftContent:"dRjZqH",text:"eRjZqH",title:"fRjZqH",description:"gRjZqH",imageWrapper:"hRjZqH",image:"iRjZqH",actionsWrapper:"jRjZqH"}},38834:function(e){e.exports={root:"ar71-+M",root_standalone:"br71-+M",mainContent:"cr71-+M",leftContent:"dr71-+M",text:"er71-+M",title:"fr71-+M",description:"gr71-+M",imageWrapper:"hr71-+M",image:"ir71-+M",carouselWrapper:"jr71-+M"}},76525:function(e){e.exports={root:"auSNkO",background:"buSNkO",icon:"cuSNkO",svgIcon:"duSNkO"}},19138:function(e){e.exports={layout:"adaH4g",layout_notTransparent:"bdaH4g",layout_alignTop:"cdaH4g",layout_open:"ddaH4g",showOverlay:"edaH4g",layout_close:"fdaH4g",hideOverlay:"gdaH4g",alignSpace:"hdaH4g",circle:"idaH4g",svgWrapper:"jdaH4g",svg:"kdaH4g",showSvg:"ldaH4g",hideSvg:"mdaH4g",svgWrapper_size_xs:"ndaH4g",svgWrapper_size_s:"odaH4g",svgWrapper_size_m:"pdaH4g",svgWrapper_size_l:"qdaH4g",svgWrapper_size_xl:"rdaH4g",svgWrapper_size_xxl:"sdaH4g",svgWrapper_centered:"tdaH4g","animate-rotate":"udaH4g"}},2166:function(e){e.exports={root:"abKNLs","animate-container":"bbKNLs",circle:"cbKNLs","animate-circle":"dbKNLs"}},98585:function(e){e.exports={slide_open:"amWQ9n",showPopupSlide:"bmWQ9n",slide_close:"cmWQ9n",hidePopupSlide:"dmWQ9n",fade_open:"emWQ9n",showPopupFade:"fmWQ9n",fade_close:"gmWQ9n",hidePopupFade:"hmWQ9n",combined_open:"imWQ9n",combined_close:"jmWQ9n"}},88965:function(e){e.exports={root:"aoRtpW",root_media_phone:"boRtpW",root_theme_onOverlay:"coRtpW",root_theme_onDark:"doRtpW",root_theme_onPaper:"eoRtpW",root_theme_onLight:"foRtpW"}},44858:function(e){e.exports={root:"a3trEI",root_transparent:"b3trEI",backdrop:"c3trEI",root_closed:"d3trEI",hideOverlay:"e3trEI",root_opened:"f3trEI",showOverlay:"g3trEI",backdrop_noAnimation:"h3trEI",showOverlayNested:"i3trEI",root_disabledAnimation:"j3trEI",root_blurred:"k3trEI",popupScrollableWrapper:"l3trEI",root_disabledScroll:"m3trEI",popupWrapper:"n3trEI"}},35250:function(e){e.exports={root:"azMJaA",root_media_phone:"bzMJaA",root_size_fullscreen:"czMJaA",root_alignCross_center:"dzMJaA",root_alignCross_start:"ezMJaA",paper:"fzMJaA",root_disableHorizontalPadding:"gzMJaA",root_size_l:"hzMJaA",root_size_m:"izMJaA",root_size_s:"jzMJaA",root_size_auto:"kzMJaA",root_size_custom:"lzMJaA",root_mobileSize_s:"mzMJaA",root_mobileSize_fullscreen:"nzMJaA",paperInner:"ozMJaA"}},11742:function(e){e.exports={closeButtonContainer:"ayGnpe",closeButton:"byGnpe",closeButton_media_phone:"cyGnpe",closeButton_media_tabletS:"dyGnpe",closeButton_media_tabletL:"eyGnpe",closeButton_media_desktopS:"fyGnpe",closeButton_media_desktopM:"gyGnpe"}},92081:function(e){e.exports={button:"a2WJcz",button_round:"b2WJcz",button_unselectable:"c2WJcz",content:"d2WJcz",button_uppercase:"e2WJcz",buttonWrapper:"f2WJcz",icon:"g2WJcz",button_theme:"h2WJcz",button_theme_primary:"i2WJcz",button_theme_secondary:"j2WJcz",button_theme_secondaryDestructive:"k2WJcz",button_theme_outline:"l2WJcz",button_theme_accent:"m2WJcz",button_theme_flat:"n2WJcz",button_theme_flatDestructive:"o2WJcz",button_theme_primaryOnLight:"p2WJcz",button_theme_secondaryOnLight:"q2WJcz",button_theme_outlineOnLight:"r2WJcz",button_theme_flatOnLight:"s2WJcz",button_theme_primaryOnDark:"t2WJcz",button_theme_secondaryOnDark:"u2WJcz",button_theme_outlineOnDark:"v2WJcz",button_theme_flatOnDark:"w2WJcz",button_theme_mono:"x2WJcz",button_theme_custom:"y2WJcz",button_theme_custom_hideOverlay:"z2WJcz",button_disabled:"A2WJcz",button_inGroup_horizontal:"B2WJcz",button_inGroup_vertical:"C2WJcz",button_inGroup:"D2WJcz",button_isButtonLink:"E2WJcz",button_wide_true:"F2WJcz",button_wideTabletS_true:"G2WJcz",button_wideTabletS_false:"H2WJcz",button_wideTabletL_true:"I2WJcz",button_wideTabletL_false:"J2WJcz",button_wideDesktopS_true:"K2WJcz",button_wideDesktopS_false:"L2WJcz",button_wideDesktopM_true:"M2WJcz",button_wideDesktopM_false:"N2WJcz",button_wideDesktopL_true:"O2WJcz",button_wideDesktopL_false:"P2WJcz",progressiveFillContainer:"Q2WJcz",progressiveFill:"R2WJcz",buttonWrapper_isIcon:"S2WJcz",buttonWrapper_leftIcon:"T2WJcz",buttonWrapper_rightIcon:"U2WJcz",buttonWrapper_disableHorizontalPadding:"V2WJcz",buttonWrapper_disableVerticalPadding:"W2WJcz"}},15295:function(e){e.exports={root:"aPsujX"}},38418:function(e){e.exports={}},73210:function(e){e.exports={flex:"aYpArL",hidden:"bYpArL"}},19328:function(e){e.exports={crossAppNavigateLoader:"aXQBdD"}},53301:function(e){e.exports={spinner:"asBg--E","spinner-blade":"bsBg--E","resfreshing-spinner":"csBg--E","transition-spinner":"dsBg--E",rotateAnimation:"esBg--E","refreshing-spinner-blade":"fsBg--E","spinner-fade":"gsBg--E"}},98248:function(e){e.exports={supremeLoader:"aX15QF"}},73579:function(e){e.exports={webviewFallback:"ad98-+e",fixedWebviewFallback:"bd98-+e"}},37624:function(e){e.exports={fadeOutOverlay:"axTEt0",hide:"bxTEt0",hideAnimation:"cxTEt0"}},16810:function(e){e.exports={}},17389:function(e){e.exports={crossAppNavigateLoader:"aHwrEc"}},94360:function(e){e.exports={errorFailRoute:"aGGC7B"}},83998:function(e){e.exports={errorFailRoute:"aSGcnq",container:"bSGcnq"}},76307:function(e){e.exports={container:"aRv5i1",container_mobile:"bRv5i1",container_mobile_chat_list:"cRv5i1",content:"dRv5i1"}},48860:function(e){e.exports={error:"aGUj1y",error_actions:"bGUj1y"}},19740:function(e){e.exports={wrapper:"aFI--K8",icon:"bFI--K8",unread:"cFI--K8"}},19105:function(e){e.exports={icon:"a1IfS9"}},33852:function(e){e.exports={icon:"aXEGG5"}},67685:function(e){e.exports={wrapper:"amqKi0"}},73089:function(e){e.exports={wrapper_separate_page:"az-+ufN",wrapper_popup:"bz-+ufN",wrapper_body_separate_page:"cz-+ufN",wrapper_body_popup:"dz-+ufN",wrapper_body_opened:"ez-+ufN",wrapper_body:"fz-+ufN",wrapper_icon_separate_page:"gz-+ufN",wrapper_icon_popup:"hz-+ufN"}},78636:function(e){e.exports={loader:"akwKXJ"}},4504:function(e){e.exports={splash_screen:"aSupm1",splash_screen_logo_wrapper:"bSupm1"}},28792:function(e){e.exports={supremeLoader:"aIf9zN"}},61381:function(e){e.exports={root:"aYhU2t",header:"bYhU2t",text:"cYhU2t"}},7239:function(e){e.exports={container:"avrHb8",iframe:"bvrHb8"}},13410:function(e){e.exports={layout_wrapper:"auIqit"}},73295:function(e){e.exports={visibilityChangeLoader:"apvtxp"}},21664:function(e){e.exports={}},83264:function(e){e.exports={}},6142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BOXY_BLOCK_PROJECT_TITLE=t.BOXY_BLOCK_SCHEMA_VERSION=t.BOXY_BLOCK_TYPE=t.BOXY_FORWARD_DOM_REF=t.getBusToken=t.BOXY_BUS=t.BOXY_DISPATCH=t.getPropertiesToken=t.BOXY_PROPERTIES=void 0;const r=n(15617);t.BOXY_PROPERTIES=(0,r.createToken)("BOXY_PROPERTIES"),t.getPropertiesToken=()=>t.BOXY_PROPERTIES,t.BOXY_DISPATCH=(0,r.createToken)("BOXY_DISPATCH"),t.BOXY_BUS=(0,r.createToken)("BOXY_BUS"),t.getBusToken=()=>t.BOXY_BUS,t.BOXY_FORWARD_DOM_REF=(0,r.createToken)("BOXY_FORWARD_DOM_REF"),t.BOXY_BLOCK_TYPE=(0,r.createToken)("BOXY_BLOCK_TYPE"),t.BOXY_BLOCK_SCHEMA_VERSION=(0,r.createToken)("BOXY_BLOCK_SCHEMA_VERSION"),t.BOXY_BLOCK_PROJECT_TITLE=(0,r.createToken)("BOXY_BLOCK_PROJECT_TITLE")},6840:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(20986),i=n(33926),o=n(44121),a=n.n(o),s=n(85572),u=["className","children","dataQaData","dataQaType","disabled","innerClassName","href","rel","style","tabIndex","tagName","target","type","onClick","cobrowsingSecure","innerDataQaType","innerRef","download","onModifierKeyClick"],c=function(e){if("undefined"==typeof WeakMap)return e;var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}((function(e){var t=e.onClick,n=e.onModifierKeyClick;return function(e){if(1!==e.button)return e.metaKey||e.ctrlKey?null==n?void 0:n(e):void t(e)}})),l=(0,o.forwardRef)((function(e,t){var n,o,l=e.className,d=e.children,f=e.dataQaData,p=e.dataQaType,v=void 0===p?"uikit/clickable":p,h=e.disabled,g=e.innerClassName,m=e.href,y=e.rel,b=e.style,_=e.tabIndex,E=e.tagName,w=e.target,S=e.type,T=e.onClick,A=e.cobrowsingSecure,k=e.innerDataQaType,O=e.innerRef,C=e.download,R=e.onModifierKeyClick,I=(0,i.Z)(e,u);return"string"==typeof m?(n="a",o={download:C,href:m,rel:"_blank"===w?"noopener noreferrer "+(y||""):y,tabIndex:h?-1:_,target:w,onClick:T&&c({onClick:T,onModifierKeyClick:R})}):(n="button",o={disabled:h,tabIndex:_,type:void 0!==S?S:"button",onClick:T}),E&&(n=E),"button"!==n&&(delete o.type,o=(0,r.Z)({},o,{disabled:void 0,"aria-disabled":h||void 0})),a().createElement(n,Object.assign({},I,o,(0,s.Z)({dataQaData:f,dataQaType:v}),{"data-cobrowsing-secure":A?"text":void 0,className:l,style:h?(0,r.Z)({pointerEvents:"none"},b):b,ref:t}),a().createElement("span",{className:g,"data-qa-type":k,style:{outline:"none"},tabIndex:-1,ref:O},d))}));l.displayName="Clickable";var d=l},85572:function(e,t){"use strict";t.Z=function(e){var t=e.dataQaType,n=e.dataQaData;return{"data-qa-type":t,"data-qa-data":"object"==typeof n?JSON.stringify(n):n}}},2350:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(52723);var i=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],o=function(e){return n=void 0===(t=(e||"").split(" ").map((function(e){return"true"===e})))?[]:t,[a=void 0!==(o=(i=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,n,4))[0])&&o,u=void 0===(s=i[1])?a:s,void 0===(c=i[2])?a:c,void 0===(l=i[3])?u:l];var t,n,i,o,a,s,u,c,l};function a(e){var t={};return o(e).forEach((function(e,n){e&&(t[i[n]]=0)})),t}},23286:function(e,t,n){"use strict";var r=n(33926),i=n(44121),o=n.n(i),a=n(64805),s=n.n(a),u=n(6840),c=n(61879),l=n(11734),d=["ariaBusy","ariaLabel","children","dataQaData","dataQaType","disabled","flatCorners","href","icon","inGroup","isButtonLink","progressiveFill","round","size","tabIndex","tagName","target","theme","type","unselectable","uppercase","vertical","wide","wideDesktopL","wideDesktopM","wideDesktopS","wideTabletL","wideTabletS","onClick","onMouseLeave","onMouseOver","innerRef","disableHorizontalPadding","disableVerticalPadding"],f=(0,i.forwardRef)((function(e,t){var n=e.ariaBusy,i=e.ariaLabel,a=e.children,s=e.dataQaData,f=e.dataQaType,p=e.disabled,v=e.href,h=e.icon,g=e.progressiveFill,m=e.size,y=e.tabIndex,b=e.tagName,_=e.target,E=e.type,w=e.onClick,S=e.onMouseLeave,T=e.onMouseOver,A=e.innerRef,k=(0,r.Z)(e,d),O=(0,c.Z)(e);return o().createElement(u.Z,Object.assign({},k,{"data-size":m,ref:t,"aria-busy":n,dataQaData:s,dataQaType:f,tagName:b,target:_,type:v?void 0:E,href:v,"aria-label":(!a||"string"!=typeof a)&&i||void 0,disabled:p,onClick:w,onMouseOver:T,onMouseLeave:S,tabIndex:y,className:O.button.className,style:O.button.style,innerClassName:O.buttonWrapper.className,innerRef:A}),g?o().createElement("span",{className:O.progressiveFillContainer.className},o().createElement("span",{"data-qa-type":f+".progressiveFill",className:O.progressiveFill.className,style:O.progressiveFill.style})):null,h&&o().createElement("span",{className:O.icon.className,"data-qa-type":f+".icon"},o().createElement(l.Z,{icon:h})),a&&o().createElement("span",{className:O.content.className,"data-qa-type":f+".content"},a))}));f.defaultProps={dataQaType:"uikit/button",size:"xl",theme:"primary",type:"button",onClick:s(),onMouseOver:s(),onMouseLeave:s()},f.displayName="Button",t.Z=f},11734:function(e,t,n){"use strict";var r=n(44121),i=n.n(r);t.Z=function(e){var t=e.icon,n=t;return i().createElement(i().Fragment,null,"object"==typeof t?t:i().createElement(n,{iconSize:24}))}},61879:function(e,t,n){"use strict";var r=n(20986),i=n(10521),o=n.n(i),a=n(13142),s=n(83996),u=n(2350),c=n(72917),l=n.n(c);t.Z=function(e){var t,n,i=e.theme,c=e.isButtonLink,d=e.disabled,f=e.wide,p=e.wideTabletS,v=e.wideTabletL,h=e.wideDesktopS,g=e.wideDesktopM,m=e.wideDesktopL,y=e.inGroup,b=e.round,_=e.vertical,E=e.uppercase,w=e.unselectable,S=e.icon,T=e.children,A=e.flatCorners,k=e.disableHorizontalPadding,O=e.disableVerticalPadding,C=e.progressiveFill,R=S&&!T,I="object"!=typeof i?i:"custom",N=i,M=o()(((t={})[l().button]=!0,t[l()["button_theme_"+I]]=!c&&!0,t[l().button_theme_custom_hideOverlay]=null==N?void 0:N.hideOverlay,t[l().button_disabled]=d,t[l()["button_wide_"+f]]=f,t[l()["button_wideTabletS_"+p]]=void 0!==p,t[l()["button_wideTabletL_"+v]]=void 0!==v,t[l()["button_wideDesktopS_"+h]]=void 0!==h,t[l()["button_wideDesktopM_"+g]]=void 0!==g,t[l()["button_wideDesktopL_"+m]]=void 0!==m,t[l().button_inGroup]=y,t[l().button_round]=R&&b,t[l().button_isButtonLink]=c,t[l().button_inGroup_horizontal]=y&&!_,t[l().button_inGroup_vertical]=y&&_,t[l().button_uppercase]=E,t[l().button_unselectable]=w,t)),x={};N&&(x={color:N.background&&(0,a.calcFontColor)((0,s.Z)(N.background)),border:N.border||N.background&&"1px solid transparent",background:N.background&&N.background+" border-box"}),x=(0,r.Z)({},x,u.o(A));var P,L=o()(((n={})[l().buttonWrapper]=!0,n[l().buttonWrapper_disableHorizontalPadding]=k,n[l().buttonWrapper_disableVerticalPadding]=O,n[l().buttonWrapper_isIcon]=R,n)),D={};return C&&(D.transform="translateX("+(P=-100+C,Math.min(Math.max(P,-100),0)+"%)")),{button:{className:M,style:x},buttonWrapper:{className:L},progressiveFillContainer:{className:l().progressiveFillContainer},progressiveFill:{className:l().progressiveFill,style:D},icon:{className:l().icon},content:{className:l().content}}}},36395:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(20986),i=n(33926),o=n(44121),a=n.n(o),s=n(41124),u=["className","children","dataQaData","dataQaType","disabled","innerClassName","href","rel","referrerPolicy","style","tabIndex","tagName","target","type","onClick","cobrowsingSecure","innerDataQaType","innerRef","download","onModifierKeyClick"],c=function(e){if("undefined"==typeof WeakMap)return e;var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}((function(e){var t=e.onClick,n=e.onModifierKeyClick;return function(e){if(1!==e.button)return e.metaKey||e.ctrlKey?null==n?void 0:n(e):void t(e)}})),l=(0,o.forwardRef)((function(e,t){var n,o,l=e.className,d=e.children,f=e.dataQaData,p=e.dataQaType,v=void 0===p?"uikit/clickable":p,h=e.disabled,g=e.innerClassName,m=e.href,y=e.rel,b=e.referrerPolicy,_=e.style,E=e.tabIndex,w=e.tagName,S=e.target,T=e.type,A=e.onClick,k=e.cobrowsingSecure,O=e.innerDataQaType,C=e.innerRef,R=e.download,I=e.onModifierKeyClick,N=(0,i.Z)(e,u);if("string"==typeof m){n="a";var M=[];"_blank"===S&&(M.push("noopener"),"same-origin"!==b&&M.push("noreferrer")),y&&M.push(y),o={download:R,href:m,rel:M.length?M.join(" "):void 0,referrerPolicy:b,tabIndex:h?-1:E,target:S,onClick:A&&c({onClick:A,onModifierKeyClick:I})}}else n="button",o={disabled:h,tabIndex:E,type:void 0!==T?T:"button",onClick:A};return w&&(n=w),"button"!==n&&(delete o.type,o=(0,r.Z)({},o,{disabled:void 0,"aria-disabled":h||void 0})),a().createElement(n,Object.assign({},N,o,(0,s.Z)({dataQaData:f,dataQaType:v}),{"data-cobrowsing-secure":k?"text":void 0,className:l,style:h?(0,r.Z)({pointerEvents:"none"},_):_,ref:t}),a().createElement("span",{className:g,"data-qa-type":O,style:{outline:"none"},tabIndex:-1,ref:C},d))}));l.displayName="Clickable";var d=l},30176:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r,i,o=n(10521),a=n.n(o),s=n(44121),u=n.n(s),c=n(41124),l=n(33286),d=n.n(l),f=(r=function(e){var t;return a()(d().root,((t={})[d()["root_fit-"+e.fit]]=e.fit,t[d().wideDesktopMd]=e.wideDesktopMd,t))},void 0===(i={dataQaType:"uikit/container"})&&(i={}),function(e){var t=e.dataQaType,n=e.dataQaData,o=e.tagName,a=void 0===o?"div":o,s=e.children;return u().createElement(a,Object.assign({},(0,c.Z)({dataQaType:t||i.dataQaType,dataQaData:n||i.dataQaData}),{className:r(e)}),s)})},41124:function(e,t){"use strict";t.Z=function(e){var t=e.dataQaType,n=e.dataQaData;return{"data-qa-type":t,"data-qa-data":"object"==typeof n?JSON.stringify(n):n}}},68613:function(e,t,n){"use strict";n.d(t,{m:function(){return ge}});var r=n(33926),i=n(44121),o=n.n(i),a=n(20986),s=n(64805),u=n.n(s),c=n(36395),l=n(10521),d=n.n(l),f=n(11444),p=n(72557),v=n(22628),h=n(92081),g=n.n(h),m=["ariaBusy","ariaLabel","children","dataQaData","dataQaType","disabled","flatCorners","href","leftIcon","rightIcon","inGroup","isButtonLink","progressiveFill","round","size","tabIndex","tagName","target","theme","type","unselectable","uppercase","vertical","wide","wideDesktopL","wideDesktopM","wideDesktopS","wideTabletL","wideTabletS","onClick","onMouseLeave","onMouseOver","innerRef","disableHorizontalPadding","disableVerticalPadding","UNSAFE_className","UNSAFE_style"],y=(0,i.forwardRef)((function(e,t){var n=e.ariaBusy,i=e.ariaLabel,s=e.children,u=e.dataQaData,l=e.dataQaType,h=e.disabled,y=e.href,b=e.leftIcon,_=e.rightIcon,E=e.progressiveFill,w=e.size,S=e.tabIndex,T=e.tagName,A=e.target,k=e.type,O=e.onClick,C=e.onMouseLeave,R=e.onMouseOver,I=e.innerRef,N=e.UNSAFE_className,M=e.UNSAFE_style,x=(0,r.Z)(e,m),P=function(e,t){var n,r,i=e.theme,o=e.isButtonLink,s=e.disabled,u=e.wide,c=e.wideTabletS,l=e.wideTabletL,h=e.wideDesktopS,m=e.wideDesktopM,y=e.wideDesktopL,b=e.inGroup,_=e.round,E=e.vertical,w=e.uppercase,S=e.unselectable,T=e.leftIcon,A=e.rightIcon,k=e.children,O=e.flatCorners,C=e.disableHorizontalPadding,R=e.disableVerticalPadding,I=e.progressiveFill,N=e.UNSAFE_className,M=e.UNSAFE_style,x=(T||A)&&!k,P="object"!=typeof i?i:"custom",L=i,D=function(e){return null!=t&&t[e]?d()(g()[e],t[e]):g()[e]},j=d()(((n={})[D("button")]=!0,n[D("button_theme_"+P)]=!o,n[D("button_theme_custom_hideOverlay")]=null==L?void 0:L.hideOverlay,n[D("button_disabled")]=s,n[D("button_wide_"+u)]=u,n[D("button_wideTabletS_"+c)]=void 0!==c,n[D("button_wideTabletL_"+l)]=void 0!==l,n[D("button_wideDesktopS_"+h)]=void 0!==h,n[D("button_wideDesktopM_"+m)]=void 0!==m,n[D("button_wideDesktopL_"+y)]=void 0!==y,n[D("button_inGroup")]=b,n[D("button_round")]=x&&_,n[D("button_isButtonLink")]=o,n[D("button_inGroup_horizontal")]=b&&!E,n[D("button_inGroup_vertical")]=b&&E,n[D("button_uppercase")]=w,n[D("button_unselectable")]=S,n),N),B={};L&&(B={color:L.color||L.background&&(0,f.calcFontColor)((0,p.Z)(L.background)),background:L.background&&L.background+" border-box","--tui-component--button--border-color":L.borderColor||"transparent"}),B=(0,a.Z)({},B,v.o(O),M);var U,F=d()(((r={})[D("buttonWrapper")]=!0,r[D("buttonWrapper_disableHorizontalPadding")]=C,r[D("buttonWrapper_disableVerticalPadding")]=R,r[D("buttonWrapper_isIcon")]=x,r[D("buttonWrapper_leftIcon")]=!!T,r[D("buttonWrapper_rightIcon")]=!!A,r)),V={};return I&&(V.transform="translateX("+(U=-100+I,Math.min(Math.max(U,-100),0)+"%)")),{button:{className:j,style:B},buttonWrapper:{className:F},progressiveFillContainer:{className:D("progressiveFillContainer")},progressiveFill:{className:D("progressiveFill"),style:V},icon:{className:D("icon")},content:{className:D("content")}}}((0,a.Z)({},e,{UNSAFE_className:N,UNSAFE_style:M}));return o().createElement(c.Z,Object.assign({},x,{"data-size":w,ref:t,"aria-busy":n,dataQaData:u,dataQaType:l,tagName:T,target:A,type:y?void 0:k,href:y,"aria-label":(!s||"string"!=typeof s)&&i||void 0,disabled:h,onClick:O,onMouseOver:R,onMouseLeave:C,tabIndex:S,className:P.button.className,style:P.button.style,innerClassName:P.buttonWrapper.className,innerRef:I}),E?o().createElement("span",{className:P.progressiveFillContainer.className},o().createElement("span",{"data-qa-type":l+".progressiveFill",className:P.progressiveFill.className,style:P.progressiveFill.style})):null,b&&o().createElement("span",{className:P.icon.className,"data-qa-type":l+".icon"},b),s&&o().createElement("span",{className:P.content.className,"data-qa-type":l+".content"},s),_&&o().createElement("span",{className:P.icon.className,"data-qa-type":l+".icon"},_))}));y.defaultProps={dataQaType:"uikit/button",size:"l",theme:"primary",type:"button",onClick:u(),onMouseOver:u(),onMouseLeave:u()},y.displayName="Button";var b=y,_=n(52723);var E=function(e){var t=(0,i.useState)(Array.isArray(e)?e[0]:e),n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(_.Z,t,2),r=n[0],o=n[1];return(0,i.useEffect)((function(){if(e&&(!Array.isArray(e)||e.length)){var t=document.createElement("img");t.onerror=function(){o(null)},t.onload=function(){o(t.currentSrc||t.src||null)};var n=function(){t.onload=null,t.onerror=null};if("string"==typeof e)return t.src=e,n;if(t.src=e[0],e.length>1&&"srcset"in t){var r=e.map((function(e,t){return e+" "+(t+1)+"x"})).join(",");t.srcset=r}return n}o(null)}),[e]),r},w=n(41124),S=n(54686),T=n.n(S),A=["onClick"],k=function(e){var t=e.onClick,n=(0,r.Z)(e,A),i=n.title,a=n.description,s=n.icon;return o().createElement("div",{className:T().root,onClick:function(e){null==t||t(e,n)}},o().createElement("div",{className:T().marker},s),o().createElement("div",{className:T().content},o().createElement("h3",{className:T().title},i),o().createElement("p",{className:T().description},a)))},O=n(75706),C=n.n(O),R=function(e){var t,n=e.title,r=e.description,i=e.image,a=e.imageWrapperClassName,s=e.imageWrapperStyle,u=e.additionalActions,c=e.additionalContent,l=e.actionButtonProps,f=(e.cardsPerRow,e.dataQaData),p=e.embedded,v=e.enableActionButton,h=void 0!==v&&v,g=e.actionButtonTitle,m=void 0===g?"На главную":g,y=e.dataQaType,_=void 0===y?"uikit/errorPageDesktop":y,S=E(null==i?void 0:i.src);return o().createElement("main",Object.assign({},(0,w.Z)({dataQaType:_,dataQaData:f}),{className:d()((t={},t[C().root]=!0,t[C().root_standalone]=!p,t))}),o().createElement("section",{className:C().mainContent},o().createElement("div",{className:C().leftContent},o().createElement("div",{className:C().text},o().createElement("h1",{className:C().title},n),o().createElement("p",{className:C().description},r)),h?o().createElement(b,Object.assign({},l,{size:"l"}),m):null,c),S?o().createElement("div",{style:s,className:d()(C().imageWrapper,a)},o().createElement("img",Object.assign({},i,{className:C().image}))):null),u&&u.length>0&&o().createElement("section",{className:C().actionsWrapper},u.map((function(e){return o().createElement(k,Object.assign({key:null!=e&&e.key?e.key:e.title+"-"+e.description},e))}))))},I=n(68781),N=n(58903),M=n(35207),x=n(40126),P=n.n(x),L=n(20329),D=n.n(L);function j(e){var t=+e;return 0===t||Number.isNaN(t)?t:t>0?1:-1}function B(e,t,n){return Math.max(e,Math.min(n,t))}function U(e,t,n){var r=t%n-(e||n),i=r+n;return j(Math.abs(r)<=Math.abs(i)?r:i)}function F(e){return e?Array.isArray(e)?e.length:1:0}function V(e){return e?Array.isArray(e)?e:[e]:[]}function W(e){return!!e.touches}var q,H=n(53225),G=n.n(H);function Z(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}try{q=document}catch(e){q={addEventListener:u(),removeEventListener:u()}}var K="touchstart",J="touchmove",z="touchend",Y="mousedown",Q="mousemove",X="mouseup",$=function(e){function t(t){var n;return(n=e.call(this,t)||this).container=o().createRef(),n.sliderFrame=o().createRef(),n.items=void 0,n.refMemo=void 0,n.currentIndex=void 0,n.elemWidth=void 0,n.moving=void 0,n.dragging=void 0,n.moved=void 0,n.drag=void 0,n.setRef=function(e){return n.refMemo[e]||(n.refMemo[e]=function(t){n.items[e]=t}),n.refMemo[e]},n.handleTransitionEnd=function(){n.moving=!1},n.handleResize=function(){if(n.sliderFrame.current){var e=n.props,t=e.perPage,r=void 0===t?1:t,i=e.sliderFrameWidth;n.elemWidth=(i||n.sliderFrame.current.getBoundingClientRect().width)/r,n.setContainerHeight()}},n.handleStart=function(e){var t=W(e)?e.touches[0]:e;n.dragging||(n.dragging=!0,n.drag.start=t.pageX,n.drag.startY=t.pageY),n.updateAriaHiddenOfElems(),W(e)||e.preventDefault(),q.addEventListener(J,n.handleMove,{passive:!1}),q.addEventListener(z,n.handleEnd),q.addEventListener(Q,n.handleMove),q.addEventListener(X,n.handleEnd)},n.handleMove=function(e){var t=n.props.onDrag;(void 0===t?u():t)();var r=W(e),i=W(e)?e.touches[0]:e,o=n.drag.start-i.pageX;n.moved=!0,n.drag.direction||(n.drag.direction=Math.abs(n.drag.startY-i.pageY)>Math.abs(o)?"vertical":"horizontal"),r&&"vertical"===n.drag.direction?n.handleEnd(e):(r&&e.preventDefault(),n.drag.end=i.pageX,n.sliderFrame.current&&(n.sliderFrame.current.style.cursor="grabbing"),n.toggleFrameTransition(!1),n.setFramePosition(n.normalizePosition(n.currentIndex+o/n.elemWidth)))},n.handleEnd=function(e){var t=n.props.onSlideRootClick;n.sliderFrame.current&&(n.sliderFrame.current.style.cursor="initial"),(n.drag.end||n.moved)&&n.drag.start!==n.drag.end&&0!==n.drag.end?n.updateAfterDrag():t&&n.items["item-"+n.currentIndex]===e.target&&(e.preventDefault(),t()),n.clearDrag(),n.updateAriaHiddenOfElems(),q.removeEventListener(z,n.handleEnd),q.removeEventListener(J,n.handleMove),q.removeEventListener(X,n.handleEnd),q.removeEventListener(Q,n.handleMove)},n.handleContainerScroll=function(){var e;n.state.focusedSlide&&null!=(e=n.container)&&e.current&&(n.container.current.scrollLeft=0)},n.handleSlideFocus=function(e){return function(){n.setState({focusedSlide:e})}},n.refMemo={},n.currentIndex=t.startIndex||0,n.drag={},n.items={},n.clearDrag(),n.state={preview:!0},n}(0,M.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({preview:!1})},n.componentDidUpdate=function(e,t){var n,r,i,o,s=this,u=this.props,c=u.children,l=u.startIndex,d=void 0===l?0:l,f=u.draggable,p=void 0===f||f,v=u.perPage,h=void 0===v?1:v,g=this.state,m=g.preview,y=g.focusedSlide,b=F(e.children),_=F(c),E=["autoHeight","perPage","draggable","startIndex"].reduce((function(t,n){var r;return(0,a.Z)({},t,((r={})[n]=s.props[n]!==e[n],r))}),{previewState:t.preview!==m,childrenLength:_!==b,newFocusedSlide:t.focusedSlide!==y});if((E.previewState||E.perPage||E.autoHeight||E.childrenLength)&&(this.handleResize(),this.toggleFrameTransition(!1),this.setFramePosition(this.normalizePosition(this.currentIndex))),E.startIndex){var w=U(this.currentIndex,d,b);this.translate(this.currentIndex,d,w)}if(E.newFocusedSlide&&!Number.isNaN(y)&&this.isElemHidden(y)){var S=U(this.currentIndex,Number(y),b);this.translate(this.currentIndex,Number(y),S)}E.previewState&&window.addEventListener("resize",this.handleResize),(E.previewState||E.perPage||E.draggable||E.childrenLength)&&(p&&b>h?(null==(n=this.container.current)||n.addEventListener(K,this.handleStart),null==(r=this.container.current)||r.addEventListener(Y,this.handleStart)):(null==(i=this.container.current)||i.removeEventListener(K,this.handleStart),null==(o=this.container.current)||o.removeEventListener(Y,this.handleStart)))},n.componentWillUnmount=function(){var e,t;window.removeEventListener("resize",this.handleResize),null==(e=this.container.current)||e.removeEventListener(K,this.handleStart),q.removeEventListener(z,this.handleEnd),q.removeEventListener(J,this.handleMove),null==(t=this.container.current)||t.removeEventListener(Y,this.handleStart),q.removeEventListener(X,this.handleEnd),q.removeEventListener(Q,this.handleMove)},n.getChildren=function(){var e=this.props,t=e.children,n=e.perPage,r=void 0===n?1:n,i=e.loop,o=e.stagePadding,a=e.startIndex,s=void 0===a?0:a,u=e.autoHeight,c=this.state.preview;if(F(t)<=r)return t;var l=V(t),d=i?[].concat(Z(N.Z,l.slice(-r-1)),Z(N.Z,l),Z(N.Z,l.slice(0,r+1))):l;if(c&&u){var f=s,p=s+r;return i&&(f+=r+1,p+=r+1),o&&(f=Math.max(f-1,0),p+=1),d.map((function(e,t){return t<f||t>p?null:e}))}return d},n.getCycledIndex=function(e){return e%F(this.props.children)+(e<0?F(this.props.children):0)},n.getSlideStep=function(){var e=this.props,t=e.perPage,n=void 0===t?1:t;return e.slideStep||n-1||1},n.getItemStyles=function(e){var t=this.props,n=t.animateHiding,r=t.hideInvisibleSlides,i=t.perPage,o=void 0===i?1:i,a=t.easing,s=this.moving,u=this.isElemHidden(e),c=u&&!s?"hidden":"visible";return r?{visibility:c,opacity:r&&u?0:1,transition:n?"opacity "+100/o*.01+"s "+a:void 0}:{visibility:c}},n.getTransform=function(e){var t=this.props,n=t.perPage,r=void 0===n?1:n,i=t.loop,o=t.children,a=t.stagePadding,s=void 0===a?0:a,u=t.outerPadding,c=void 0===u?0:u,l=t.margin,d=void 0===l?0:l,f=e,p=F(o),v=Math.ceil((r>1?p:p-1)/r),h=p-r===Math.floor(f),g=U(this.currentIndex,e,p),m=f<1,y=0;if(F(o)<=r)return"none";if(i)return"translate3d("+-100*(f+=r+1)/r+"%, 0, 0)";switch(!0){case m&&-1!==g:y=s?(s+c)*e+d/2*e:c/2*e/r;break;case v<=Math.ceil(e)&&-1===g:y=s?(s+c)*e/r+s+d-c-(p/r>2.5?0:s/1.6*(v-e)):c*e/r-c;break;case h&&1!==g:y=s?(s+c)*e/r+s+d-c:c*e/r-c;break;default:y=s?(s+c)*e/r+s/2+d/2-c/2:c*e/r-c/2}return"translate3d(calc("+-100*f/r+"% + "+y+"px), 0, 0)"},n.isElemHidden=function(e,t){var n=this.props,r=n.perPage,i=void 0===r?1:r,o=n.loop,a=n.margin,s=void 0===a?0:a,u=n.innerPadding,c=void 0===u?0:u,l=n.stagePadding,d=void 0===l?0:l,f=n.children,p=n.hideInvisibleSlides,v=(t||0===t?t:this.currentIndex)+(o&&F(f)>i?i+1:0),h=v+i-1;return!p&&(o?c+d+s:c+d)>s&&(h+=1,(o||v-e>=0)&&(v-=1)),!(v<=e&&h>=e)||void 0},n.normalizePosition=function(e){var t=this.props,n=t.children,r=t.perPage,i=void 0===r?1:r,o=t.elastic;if(!t.loop){var a=F(n)-i;return o?function(e,t,n,r){void 0===r&&(r=.25);var i=B(0,t,n);return i-(i-n)*r}(0,a,e):B(0,a,e)}return this.getCycledIndex(e)},n.translate=function(e,t,n){var r=this,i=this.props,o=i.loop,a=i.onSlide,s=void 0===a?u():a,c=i.elastic,l=i.perPage,d=void 0===l?1:l,f=i.children;this.moving=!0;var p=this.normalizePosition(e),v=this.normalizePosition(t);v=c&&!o?B(0,F(this.getChildren())-d,v):v,o&&j(v-p)!==n&&(p-=F(f)*n),this.toggleFrameTransition(!1),this.toggleElemsTransition(!1),this.setFramePosition(p),window.requestAnimationFrame((function(){v!==r.currentIndex&&(r.currentIndex=v,r.setContainerHeight()),r.toggleFrameTransition(!0),r.toggleElemsTransition(!0),r.setFramePosition(v),s(v)}))},n.setFramePosition=function(e){if(this.sliderFrame){var t=this.getTransform(e);this.sliderFrame.current&&(this.sliderFrame.current.style.transform=t),this.updateAriaHiddenOfElems(e)}},n.clearDrag=function(){this.dragging=!1,this.moved=!1,this.drag={start:0,end:0,direction:null,startY:0}},n.setContainerHeight=function(){var e=this;if(this.container){var t=this.props,n=t.autoHeight,r=t.perPage,i=void 0===r?1:r;if(n){var o=P()(this.currentIndex,this.currentIndex+i).reduce((function(t,n){var r=e.props.loop?e.getCycledIndex(n)+i+1:n;if(!e.items["item-"+r])return D()((function(e){return e}),V(e.getChildren()).map((function(t,n){return e.items["item-"+n].getBoundingClientRect().height})));var o=e.items["item-"+r].getBoundingClientRect().height;return Math.max(t,o)}),0);this.container.current&&(this.container.current.style.height=o+"px")}else this.container.current&&(this.container.current.style.height="auto")}},n.updateAfterDrag=function(){var e=this.props,t=e.threshold,n=void 0===t?150:t,r=e.loop,i=e.onDragEnd,o=void 0===i?u():i,a=this.drag.start-this.drag.end,s=a/this.elemWidth,c=this.currentIndex+s,l=this.currentIndex+parseInt(""+s,10)+(Math.abs(a%this.elemWidth)>n?j(a):0),d=j(l-c);(r||-1!==l&&l!==F(this.getChildren()))&&o(),this.translate(c,l,d)},n.prev=function(){this.translate(this.currentIndex,this.currentIndex-this.getSlideStep(),-1)},n.next=function(){this.translate(this.currentIndex,this.currentIndex+this.getSlideStep(),1)},n.toggleFrameTransition=function(e){if(this.sliderFrame){var t=this.props,n=t.duration,r="transform "+(e?n:0)+"ms "+t.easing;this.sliderFrame.current&&(this.sliderFrame.current.style.transition=r)}},n.toggleElemsTransition=function(e){for(var t=F(this.getChildren()),n=0;n<t;n++){var r=this.items["item-"+n]||{},i=e?this.getItemStyles(n).transition:null;r.style&&(r.style.transition=i||"")}},n.updateAriaHiddenOfElems=function(e){for(var t=this.props.hideInvisibleSlides,n=F(this.getChildren()),r=0;r<n;r++){var i=this.items["item-"+r]||{},o=this.isElemHidden(r,e),a=this.dragging&&o&&!this.isElemHidden(r+1,e),s=this.dragging&&o&&!this.isElemHidden(r-1,e);i.style&&(a?(i.removeAttribute("aria-hidden"),i.style.visibility="visible",void 0!==e&&t&&(i.style.opacity=""+(1-e+Math.floor(e)))):s?(i.removeAttribute("aria-hidden"),i.style.visibility="visible",void 0!==e&&t&&(i.style.opacity=""+(e-Math.floor(e)))):o?(i.setAttribute("aria-hidden","true"),i.style.visibility=this.moving||this.dragging?"visible":"hidden",i.style.opacity=t&&!this.dragging?"0":"1"):(i.removeAttribute("aria-hidden"),i.style.visibility="visible",i.style.opacity=t?"1":""))}},n.getMarginRight=function(e){var t=this.props,n=t.margin,r=t.outerPadding,i=t.stagePadding,o=t.loop,a=e===F(this.getChildren())-1,s=n;return a&&0!==i&&!o&&(s=0),a&&r?r:s},n.getInnerPadding=function(){var e=this.props,t=e.innerPadding,n=void 0===t?0:t,r=e.loop,i=e.stagePadding,o=e.margin,a=void 0===o?0:o;return r&&n&&i?"0 "+(n+i+a)+"px":r&&i?"0 "+(i+a)+"px":"0 "+n+"px"},n.render=function(){var e,t,n=this,r=this.props,i=r.margin,s=void 0===i?0:i,u=r.autoHeight,c=r.duration,l=r.easing,f=r.stagePadding,p=void 0===f?0:f,v=r.outerPadding,h=void 0===v?0:v,g=r.perPage,m=void 0===g?1:g,y=r.startIndex,b=void 0===y?0:y,_=r.dataQaType,E=r.containerOverflow,S=void 0===E?"hidden":E,T=r.borderRadius,A=r.loop,k=u?"height "+c+"ms "+l:void 0;if(this.state.preview){var O=this.normalizePosition(b);t=this.getTransform(O)}var C=this.getInnerPadding(),R="calc("+100/m+"% - "+((A?0:(p+h)/m)+s)+"px)";return o().createElement("div",{ref:this.container,style:{padding:C,transition:k,overflow:S,borderRadius:T},onScroll:this.handleContainerScroll},o().createElement("ul",Object.assign({},(0,w.Z)({dataQaType:_+".frame"}),{ref:this.sliderFrame,className:d()((e={},e[G().sliderFrame]=!0,e[G().sliderFrame_stretch]=!u,e)),style:{marginRight:0===p||A?-s:0,transform:t},onTransitionEnd:this.handleTransitionEnd}),V(this.getChildren()).map((function(e,t){var r="item-"+t;return o().createElement("li",Object.assign({},(0,w.Z)({dataQaType:_+".item"}),{ref:n.setRef(r),className:G().item,"aria-hidden":n.isElemHidden(t),"data-key":r,key:r,style:(0,a.Z)({minWidth:R,maxWidth:R,marginLeft:A||0!==t?0:h,marginRight:n.getMarginRight(t)},n.getItemStyles(t)),onFocus:n.handleSlideFocus(t)}),e)}))))},t}(i.PureComponent);$.defaultProps={duration:400,easing:"ease",perPage:1,startIndex:0,draggable:!0,threshold:150,loop:!1,onSlide:u(),children:[],margin:0,innerPadding:0,stagePadding:0,outerPadding:0,autoHeight:!1,slideStep:null,elastic:!1,onDragEnd:u(),onDrag:u()};var ee=$,te=n(84282),ne=n(64999),re=function(e){var t,n,r=e.dataQaType,i=e.carouselId,a=e.onNextClick,s=e.onPrevClick,u=e.prevAriaLabel,c=void 0===u?"Previous":u,l=e.nextAriaLabel,f=void 0===l?"Next":l,p=e.nextDisabled,v=e.prevDisabled;return o().createElement("div",Object.assign({className:G().controlContainer,"aria-controls":i},(0,w.Z)(e)),o().createElement("div",Object.assign({className:d()((t={},t[G().button]=!0,t[G().button_left]=G().button_left,t[G().button_disabled]=v,t)),"aria-label":c,onClick:v?void 0:s},(0,w.Z)({dataQaType:r+".back"})),o().createElement(te.ZP,{icon:ne,iconSize:24,rotate:90})),o().createElement("div",Object.assign({className:d()((n={},n[G().button]=!0,n[G().button_right]=G().button_right,n[G().button_disabled]=p,n)),"aria-label":f,onClick:p?void 0:a},(0,w.Z)({dataQaType:r+".forward"})),o().createElement(te.ZP,{icon:ne,iconSize:24,rotate:270})))};function ie(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var oe=["activeIndex","autoplay","autoplayTimeout","children","customControls","customCounter","dataQaType","nextButton","prevButton","setActive","withControls","withCounter","perPage"],ae=function(){},se=function(e){var t=e.activeIndex,n=void 0===t?0:t,a=e.autoplay,s=e.autoplayTimeout,u=e.children,c=e.customControls,l=e.customCounter,d=e.dataQaType,f=e.nextButton,p=e.prevButton,v=e.setActive,h=e.withControls,g=e.withCounter,m=e.perPage,y=void 0===m?1:m,b=(0,r.Z)(e,oe),E=(0,i.useRef)(null),S=(0,i.useRef)((0,I.Z)()),T=(0,i.useRef)(),A=(0,i.useState)(n),k=ie(_.Z,A,2),O=k[0],C=k[1],R=(0,i.useState)(n),N=ie(_.Z,R,2),M=N[0],x=N[1],P=(0,i.useState)(!1),L=ie(_.Z,P,2),D=L[0],j=L[1],B=(0,i.useCallback)((function(){var e;null==(e=E.current)||e.next()}),[]),U=(0,i.useCallback)((function(){var e;null==(e=E.current)||e.prev()}),[]),F=(0,i.useCallback)((function(e){C(e),v&&v(e)}),[v]),V=(0,i.useCallback)((function(){j(!0)}),[]),W=(0,i.useCallback)((function(){j(!1)}),[]),q=(0,i.useCallback)((function(){void 0===T.current&&(T.current=window.setInterval((function(){var e;null==(e=E.current)||e.next()}),s))}),[s]),H=(0,i.useCallback)((function(){void 0!==T.current&&clearInterval(T.current),T.current=void 0}),[]);(0,i.useEffect)((function(){n!==M&&x(n)}),[n,M]),(0,i.useEffect)((function(){return a&&!D?q():H(),function(){H()}}),[a,D,q,H]);var Z=o().Children.toArray(u),K=Z.length>y;return o().createElement("div",Object.assign({},(0,w.Z)({dataQaType:d}),{id:S.current,className:G().carousel,onMouseEnter:a?V:void 0,onMouseLeave:a?W:void 0}),p&&K&&o().cloneElement(p,{disabled:!e.loop&&0===O,onClick:U,carouselId:S.current,dataQaType:d+".prevButton"}),o().createElement(ee,Object.assign({},b,{perPage:y,dataQaType:d+".slider",ref:E,startIndex:M,onSlide:F}),Z),f&&K&&o().cloneElement(f,{disabled:!e.loop&&O>=Z.length-y,onClick:B,carouselId:S.current,dataQaType:d+".nextButton"}),g&&K&&l&&o().createElement(l,{dataQaType:d+".counter",currentSlideIndex:O+1,totalSlidesCount:Z.length}),h&&!(p||f)&&K&&c&&o().createElement(c,{dataQaType:d+".controls",carouselId:S.current,prevDisabled:!e.loop&&0===O,nextDisabled:!e.loop&&O>=Z.length-y,onNextClick:B,onPrevClick:U}))};se.defaultProps=(0,a.Z)({},ee.defaultProps,{activeIndex:0,children:[],dataQaType:"uikit/carousel",withControls:!1,withCounter:!1,customCounter:null,prevButton:null,nextButton:null,customControls:re,setActive:ae,startIndex:0,perPage:1,loop:!1,slideStep:null,autoplay:!1,autoplayTimeout:1e4,onDragEnd:ae,onDrag:ae,hideInvisibleSlides:!1,animateHiding:!0});var ue=se,ce=function(e){return o().createElement(ue,e)};ce.defaultProps=(0,a.Z)({},ue.defaultProps,{customControls:function(e){return o().createElement(re,Object.assign({prevAriaLabel:"Назад",nextAriaLabel:"Вперёд"},e))}});var le=ce,de=n(38834),fe=n.n(de);var pe=["onClick","key"],ve=function(e){var t,n=e.title,a=e.description,s=e.image,u=e.imageWrapperClassName,c=e.imageWrapperStyle,l=e.additionalActions,f=e.actionButtonProps,p=e.additionalContent,v=e.embedded,h=e.dataQaData,g=e.dataQaType,m=void 0===g?"uikit/errorPageMobile":g,y=e.enableActionButton,S=void 0!==y&&y,T=e.actionButtonTitle,A=void 0===T?"На главную":T,O=(0,i.useState)(!1),C=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(_.Z,O,2),R=C[0],I=C[1],N=E(null==s?void 0:s.src);return o().createElement("main",Object.assign({},(0,w.Z)({dataQaType:m,dataQaData:h}),{className:d()((t={},t[fe().root]=!0,t[fe().root_standalone]=!v,t))}),o().createElement("section",{className:fe().mainContent},o().createElement("div",{className:fe().leftContent},o().createElement("div",{className:fe().text},o().createElement("h1",{className:fe().title},n),o().createElement("p",{className:fe().description},a)),S?o().createElement(b,Object.assign({},f,{size:"m"}),A):null,p),N?o().createElement("div",{style:c,className:d()(fe().imageWrapper,u)},o().createElement("img",Object.assign({},s,{className:fe().image}))):null),l&&(null==l?void 0:l.length)>0&&o().createElement("div",{className:fe().carouselWrapper},o().createElement(le,{margin:16,outerPadding:16,stagePadding:50,onDragEnd:function(){return I(!0)},setActive:function(){return I(!1)}},l.map((function(e){var t=e.onClick,n=e.key,i=(0,r.Z)(e,pe);return o().createElement(k,Object.assign({key:n||i.title+"-"+i.description},i,{onClick:R?void 0:t}))})))))},he=["isMobile","cardsPerRow"],ge=function(e){var t=e.isMobile,n=e.cardsPerRow,i=(0,r.Z)(e,he);return t?o().createElement(ve,i):o().createElement(R,Object.assign({cardsPerRow:n},i))}},22628:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(52723);var i=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],o=function(e){return n=void 0===(t=(e||"").split(" ").map((function(e){return"true"===e})))?[]:t,[a=void 0!==(o=(i=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,n,4))[0])&&o,u=void 0===(s=i[1])?a:s,void 0===(c=i[2])?a:c,void 0===(l=i[3])?u:l];var t,n,i,o,a,s,u,c,l};function a(e){var t={};return o(e).forEach((function(e,n){e&&(t[i[n]]=0)})),t}},68781:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}}),n(44121);var r=function(e){var t=function(e){return e&&e.constructor&&e.constructor.name||"dsId"}(e);return t+"_"+function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}(10)}},84282:function(e,t,n){"use strict";n.d(t,{ZP:function(){return q}});var r,i=n(52723),o=n(20986),a=n(33926),s=n(44121),u=n.n(s),c=n(41124),l={};r=function(e){return l[e]=l[e]||fetch(e).then((function(e){return e.text()})).catch((function(t){console.error(t),l[e]=new Promise((function(e){e(void 0)}))})),l[e]};var d=n(67744),f=n.n(d),p=(n(53188),{}),v=Object.create(null),h=function(e,t){p[e]=t},g=function(e){return p[e]},m=function(e){return e.replace(/[\t\n\r]+/g,"")},y=function(e){var t,n=e.match(/[\w-]+\.svg/),r=n?n[0]:void 0;return t=e,["http://","https://","//"].some((function(e){return f()(e,t)})),r},b=function(e){var t=y(e);return t&&p[t]?Promise.resolve(p[t]):(v[e]=v[e]||r(e),v[e].then((function(e){var n=m(e);return h(t,n),n})))};function _(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}n(53188);var E=["iconPath","fallbackBlock"],w=function(e,t){return g(e)?g(e):function(e,t){if("document"in window){var n=document.querySelector('[data-svg-id="'+e+'"]');if(!n)return!1;var r=n.innerHTML;return void 0===r&&(r=m((new XMLSerializer).serializeToString(n))),function(e,t){return h(e,t),t}(e,r)}}(e)},S=n(68781);var T,A={};function k(e,t){var n=e.split("#"),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,n,2),o=r[0],a=r[1];(function(e){var t=new XMLHttpRequest;return new Promise((function(n){t.onreadystatechange=function(){if(4===t.readyState){var e=t.responseText,r=document.implementation.createHTMLDocument("");r.body.innerHTML=e;var i=r.body.firstChild;n(i)}},t.open("get",e),t.send()}))})(o).then((function(e){var n=e.getElementById(a).cloneNode(!0),r=T||(T=document.createElement("svg"),document.body.appendChild(T),T);n.id=t,r.appendChild(n)}))}var O=function(e){return u().createElement("use",Object.assign({},e,{href:(t=e.href,!function(e){return!e.startsWith("#")}(t)||function(){var e=window.navigator.userAgent;if(e.match(/Trident\//))return!1;var t=e.match(/Edge\/(\d+)/);return!t||+t[1]>12}()?t:"#"+function(e){if(A[e])return A[e];var t=(0,S.Z)();return A[e]=t,k(e,t),t}(t))}));var t},C=["icon"],R=function(e){var t=e.icon,n=(0,a.Z)(e,C);if("object"==typeof t){var r=t.url||"#"+t.id;return u().createElement("svg",n,u().createElement(O,{href:r}))}return u().createElement(t,n)},I=n(85643),N=n.n(I),M={gray:{color:N()["textfield-placeholder"],background:N()["card-secondary"]},red:{color:N()["status-error"],background:"#fbe4e3"},green:{color:N()["status-success"],background:"#dff3e2"},blue:{color:N().link,background:N().secondary},blueFilled:{color:"#fff",background:N().link},yellow:{color:N()["text-primary"],background:N().primary},white:{color:N()["textfield-placeholder"],background:N()["blank-white"]},attention:{color:N()["primary-active"],background:"#fff1ab"}},x=n(76525),P=n.n(x);var L,D=["dataQaType","dataQaData","iconSize","withContainer","containerSize","square","dataSvgId","svgCode","rotate","reverse","backgroundSize","verticalAlign","theme","cursor","children","idRegExp"],j=["icon","iconPath"],B=/paint/g,U={32:10,36:12,40:12,44:15,48:15,64:20,96:30,128:40},F={horizontal:"scaleX(-1)",vertical:"scaleY(-1)"},V=(0,s.memo)((function(e){var t=e.dataQaType,n=void 0===t?"uikit/icon":t,r=e.dataQaData,l=e.iconSize,d=void 0===l?64:l,f=e.withContainer,p=e.containerSize,v=e.square,h=e.dataSvgId,g=e.svgCode,m=e.rotate,y=e.reverse,b=e.backgroundSize,_=e.verticalAlign,E=e.theme,w=e.cursor,T=e.children,A=e.idRegExp,k=void 0===A?B:A,O=(0,a.Z)(e,D),C=M[E]||("object"==typeof E?E:{}),R=C.color,I=C.background,N=function(e,t){var n=e?"rotate("+e+"deg)":"",r=t?F[t]:void 0;return r&&(n+=" "+r),n.length?n:void 0}(m||0,y),x=(0,s.useState)(g),L=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,x,2),j=L[0],V=L[1];return(0,s.useEffect)((function(){var e;if(k&&null!=g&&g.toString().includes("paint")){var t=(0,S.Z)();e=null==g?void 0:g.toString().replace(k,t)}else e=g;V(e)}),[k,g]),u().createElement("span",Object.assign({},O,(0,c.Z)({dataQaType:n,dataQaData:r}),{className:P().root,style:{width:p,height:p,color:R,cursor:w,verticalAlign:_}}),f&&u().createElement("span",{className:P().background,style:{background:I,borderRadius:v&&p&&16!==p&&24!==p&&U[p]||void 0,width:b,height:b}}),u().createElement("span",Object.assign({},(0,c.Z)({dataQaType:n+".content"}),{"data-svg-id":h,className:P().icon,style:(0,o.Z)({WebkitTransform:N,transform:N,width:d,height:d},O.style),role:"presentation"},j?{dangerouslySetInnerHTML:{__html:j.toString()}}:{}),T))})),W=(L=V,function(e){var t=e.iconPath,n=e.fallbackBlock,r=(0,a.Z)(e,E),o=(0,s.useState)(y(t)),c=_(i.Z,o,2),l=c[0],d=c[1],f=(0,s.useState)(!1),p=_(i.Z,f,2),h=p[0],g=p[1],m=(0,s.useState)(w(l)),S=_(i.Z,m,2),T=S[0],A=S[1],k=(0,s.useState)(!1),O=_(i.Z,k,2),C=O[0],R=O[1],I=function(e){return v[e]}(t),N=(0,s.useRef)("");return I&&I.then((function(e){return e!==T&&h&&A(e)})).catch((function(){return h&&A("")})),(0,s.useEffect)((function(){if(l&&t){var e=w(l);e&&A(e)}return g(!0),function(){g(!1)}}),[]),(0,s.useEffect)((function(){N.current!==t&&(d(y(t)),b(t).then((function(e){h&&A(e)})).catch((function(){R(!0)}))),N.current=t}),[T,t,h]),C&&n?n:T?u().createElement(L,Object.assign({},r,{svgCode:T,dataSvgId:l})):u().createElement("div",{style:{width:r.width||r.size||r.containerSize||r.iconSize,height:r.height||r.size||r.containerSize||r.iconSize}})}),q=function(e){var t=e.icon,n=e.iconPath,r=(0,a.Z)(e,j);return t?"string"==typeof t?u().createElement(W,Object.assign({},r,{iconPath:t})):u().createElement(V,r,u().createElement(R,{icon:t,className:P().svgIcon})):n?u().createElement(W,Object.assign({iconPath:n},r)):u().createElement(V,r)}},15118:function(e,t,n){"use strict";var r=n(52723),i=n(20986),o=n(44121),a=n.n(o),s=n(10521),u=n.n(s),c=n(85643),l=n.n(c),d=n(41124),f=n(19138),p=n.n(f);var v={yellow:l()["yellow-100"],black:l()["black-300"],current:"currentColor"},h={true:{animateStart:!0,animateEnd:!0},false:{animateStart:!1,animateEnd:!1},start:{animateStart:!0,animateEnd:!1},end:{animateStart:!1,animateEnd:!0}},g=function(e){var t,n,s=e.alignTop,c=e.centered,l=e.color,f=void 0===l?"yellow":l,g=e.dataQaType,m=void 0===g?"uikit/loader":g,y=e.fadeAnimation,b=void 0===y?"true":y,_=e.hidden,E=e.overlay,w=e.semiTransparentBg,S=void 0===w||w,T=e.size,A=void 0===T?"xl":T,k=e.UNSAFE_className,O=e.UNSAFE_style,C=h[b],R=C.animateEnd,I=C.animateStart,N=!_&&I||_&&R,M=(0,o.useState)(E?!N&&_:_),x=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,M,2),P=x[0],L=x[1],D=function(){var e;return a().createElement("div",Object.assign({},(0,d.Z)({dataQaType:m+".svgWrapper"}),{className:u()((e={},e[p().svgWrapper]=!0,e[p()["svgWrapper_size_"+A]]=A,e[p().svgWrapper_centered]=c,e),k),style:(0,i.Z)({"--tui-loader-color":v[f]||f},O)}),a().createElement("svg",Object.assign({},(0,d.Z)({dataQaType:m+".svg"}),{viewBox:"0 0 100 100",className:p().svg}),a().createElement("circle",{fill:"none",className:p().circle,stroke:"currentColor",cx:"50",cy:"50",r:"44"})))};return(0,o.useEffect)((function(){L(E?!N&&_:_)}),[_,E,N]),P?null:E?a().createElement("div",Object.assign({},(0,d.Z)({dataQaType:m}),{className:u()((t={},t[p().layout]=!0,t[p().layout_alignTop]=(n=s,null!=n),t[p().layout_notTransparent]=!S,t[p().layout_close]=R&&_,t[p().layout_open]=I&&!_,t)),onTransitionEnd:R||I?function(){L(_)}:void 0}),!!s&&a().createElement("div",{className:p().alignSpace,style:{maxHeight:s}}),D()):D()};g.defaultProps={dataQaType:"uikit/loader",size:"xl",color:"yellow",centered:!1,alignTop:null,hidden:!1,semiTransparentBg:!0,fadeAnimation:"true"},t.Z=g},30873:function(e,t,n){"use strict";n.r(t),n.d(t,{Spinner:function(){return v},default:function(){return r.Z}});var r=n(15118),i=n(20986),o=n(33926),a=n(44121),s=n.n(a),u=n(10521),c=n.n(u),l=n(2166),d=n.n(l),f=["variant","size","UNSAFE_className","UNSAFE_style"],p={default:"var(--tui-background-accent-1)",onLight:"var(--tui-background-accent-opposite)",onDark:"var(--tui-background-base)",currentColor:"currentcolor"},v=function(e){var t=e.variant,n=void 0===t?"default":t,r=e.size,a=void 0===r?"xl":r,u=e.UNSAFE_className,l=e.UNSAFE_style,v=(0,o.Z)(e,f);return s().createElement("svg",Object.assign({focusable:"false"},v,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100","data-size":a,className:c()(d().root,u),style:(0,i.Z)({"--tui-spinner-color":p[n]},l)}),s().createElement("circle",{cx:"50",cy:"50",r:"47",className:d().circle}))}},11444:function(e,t){"use strict";t.__esModule=!0,t.calcFontColor=function(e){return l(e)?p(v(d(e)))>186?"#333":"#fff":"#333"},t.checkHash=function(e){return!s(e,"string")||6!==e.length&&7!==e.length?"":l(e)?e:"#"+e},t.colorType=function(e){return l(e)?p(v(d(e)))>186?"light":"dark":"light"},t.colorsDiff=function(e,t){return void 0===n&&(n=h("fff","000")),100*h(e,t)/n},t.dec2hex=g,t.getColor=function(e){var t=!s(e,"number")||e<0?0:e;return a[t%a.length]},t.getShiftColor=function(e,t,n){void 0===t&&(t=-17),void 0===n&&(n=360);var r=d(e),i=t,o="h",a=1;return f(r)&&(o="v",i=30),(r=w(r)).h>.119&&r.h<.23&&(i=-10),(r.h*n+i>=n||r.h*n+i<=0)&&(a=-1),r[o]=(r.h*n+i*a)/n,S(r)},t.hex2hsv=w,t.hex2rgb=v,t.hex2rgba=function(e,t){if(void 0===t&&(t=1),!l(e))return"rgba("+i.r+","+i.g+","+i.b+",1)";var n=v(e);return"rgba("+n.r+","+n.g+","+n.b+","+t+")"},t.hexa2hex=function(e){var t=e.match(/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/).slice(1).map((function(e){return parseInt(e,16)})),n=t[0],r=t[1],i=t[2],o=t[3];return"#"+[n,r,i].map((function(e){return Math.floor(e*o/255)+255-o})).map((function(e){return("0"+e.toString(16)).slice(-2)})).join("")},t.hsl2rgb=b,t.hsv2hex=S,t.hsv2rgb=E,t.isGrayShade=f,t.isHSVColor=c,t.isHexAColor=function(e){return s(e,"string")&&/^#[0-9a-fA-F]{8}$/.test(e)},t.isHexColor=l,t.isRGBColor=u,t.isWhite=function(e){return e&&"#ffffff"===d(e)},t.list=void 0,t.luminance=p,t.productGradientColor=function(e){var t=v(d(e)),n=t.r,r=t.g,i=t.b,o=y({r:n,g:r,b:i}),a=o.h,s=o.s,u=o.l,c=s<.5?-10:10;return Math.abs(n-r)<=3&&Math.abs(i-r)<=3?m(b({h:a,s:s,l:u+.15})):m(b({h:a+c/360,s:s,l:u+.15}))},t.restoreCssHexColor=d,t.rgb2hex=m,t.rgb2hsl=y,t.rgb2hsv=_,t.rgba2hex=function(e){var t=e.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),n=parseFloat(t[3]||1),r=Math.round(n*parseInt(t[0],10)+255*(1-n)),i=Math.round(n*parseInt(t[1],10)+255*(1-n)),o=Math.round(n*parseInt(t[2],10)+255*(1-n));return"#"+("0"+r.toString(16)).slice(-2)+("0"+i.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2)};var n,r="",i={r:255,g:255,b:255},o={h:0,s:0,v:1},a=["#00bee0","#ffdd2d","#5695c4","#b39fda","#ff9797","#37a89d","#6bd2ec","#ffad5c","#b3baec","#ffb4b4","#68c24d","#80abcc","#ffba00","#b186c4","#f97f7c","#17d15f","#589db6","#ff9138","#d4a0f3","#d97789","#50a06f","#00c6d3","#ff7047","#db8cec","#dd567a","#4dbf81","#66b1ad","#f2bc85","#f3a3ff","#ff85b4","#bfd386"];function s(e,t){return""!==e&&void 0!==e&&typeof e===t}function u(e){return s(e,"object")&&s(e.r,"number")&&s(e.g,"number")&&s(e.b,"number")}function c(e){return s(e,"object")&&s(e.h,"number")&&s(e.s,"number")&&s(e.v,"number")}function l(e){return s(e,"string")&&(7===e.length||4===e.length)&&/^#/.test(e)}function d(e){void 0===e&&(e="");var t=e.toLowerCase().replace(/[^\da-f]/g,"");return!s(t,"string")||3!==t.length&&6!==t.length?r:(3===t.length&&(t=t.replace(/(.)/g,"$1$1")),"#"+t)}function f(e){var t=d(e);return t.slice(1,3)===t.slice(3,5)&&t.slice(3,5)===t.slice(5,7)}function p(e){return u(e)?.299*e.r+.587*e.g+.114*e.b:r}function v(e){return l(e)?{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)}:i}function h(e,t){var n=v(d(e)),r=v(d(t)),i=(n.r+r.r)/2,o=n.r-r.r,a=n.g-r.g,s=n.b-r.b,u=2+i/256,c=2+(255-i)/256;return Math.sqrt(u*o*o+4*a*a+c*s*s)}function g(e){if(e>255||e<0)return"ff";var t=Math.round(+e).toString(16);return 1===t.length?"0"+t:t}function m(e){return u(e)?"#"+g(e.r)+g(e.g)+g(e.b):"#ffffff"}function y(e){var t,n=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(n,r,i),a=Math.max(n,r,i),s=a-o;a===o?t=0:n===a?t=(r-i)/s:r===a?t=2+(i-n)/s:i===a&&(t=4+(n-r)/s),(t=Math.min(60*t,360))<0&&(t+=360);var u=(o+a)/2;return{h:t/360,s:a===o?0:u<=.5?s/(a+o):s/(2-a-o),l:u}}function b(e){var t,n,r,i=e.h,o=e.s,a=e.l;if(0===o)return{r:r=255*a,g:r,b:r};for(var s=2*a-(t=a<.5?a*(1+o):a+o-a*o),u=[0,0,0],c=0;c<3;c++)(n=i+1/3*-(c-1))<0?n++:n>1&&n--,r=6*n<1?s+6*(t-s)*n:2*n<1?t:3*n<2?s+(t-s)*(2/3-n)*6:s,u[c]=255*r;return{r:u[0],g:u[1],b:u[2]}}function _(e){if(!u(e))return o;var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r),s=i,c=i-a,l=0===i?0:c/i,d=i;if(i===a)d=0;else{switch(i){case t:d=(n-r)/c+(n<r?6:0);break;case n:d=(r-t)/c+2;break;case r:d=(t-n)/c+4}d/=6}return{h:d,s:l,v:s}}function E(e){var t,n,r,o,a,s,u,l;if(!c(e))return i;switch(o=Math.floor(6*e.h),a=6*e.h-o,s=e.v*(1-e.s),u=e.v*(1-a*e.s),l=e.v*(1-(1-a)*e.s),o%6){case 0:t=e.v,n=l,r=s;break;case 1:t=u,n=e.v,r=s;break;case 2:t=s,n=e.v,r=l;break;case 3:t=s,n=u,r=e.v;break;case 4:t=l,n=s,r=e.v;break;case 5:t=e.v,n=s,r=u}return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*r)}}function w(e){return l(e)?_(v(e)):o}function S(e){return c(e)?m(E(e)):r}t.list=a},72557:function(e,t,n){"use strict";t.Z=function(e){var t,n;if(function(e){return a.test(e)}(e))t=(0,r.rgba2hex)(e);else if(function(e){return o.test(e)}(e)){var c=u.exec(e);t=(0,r.rgb2hex)({r:Number(c[1]),g:Number(c[2]),b:Number(c[3])})}else if((0,r.isHexColor)(e))t=e;else if((0,r.isHexAColor)(e))t=(0,r.hexa2hex)(e);else if(n=e,i.test(n)){var l=s.exec(e);void 0!==l[1]?t=l[1]:void 0!==l[2]&&(t=(0,r.rgb2hex)({r:Number(l[2]),g:Number(l[3]),b:Number(l[4])}))}return t};var r=n(11444),i=/linear-gradient/,o=/^rgb/,a=/^rgba/,s=/linear-gradient\(.+?,\s?(?:(#[\w\d]*)|rgb\((\d+),\s?(\d+),\s?(\d+)\))/,u=/\((\d+),\s?(\d+),\s?(\d+)/},13142:function(e,t){"use strict";t.__esModule=!0,t.calcFontColor=function(e){return l(e)?p(v(d(e)))>186?"#333":"#fff":"#333"},t.checkHash=function(e){return!s(e,"string")||6!==e.length&&7!==e.length?"":l(e)?e:"#"+e},t.colorType=function(e){return l(e)?p(v(d(e)))>186?"light":"dark":"light"},t.colorsDiff=function(e,t){return void 0===n&&(n=h("fff","000")),100*h(e,t)/n},t.dec2hex=g,t.getColor=function(e){var t=!s(e,"number")||e<0?0:e;return a[t%a.length]},t.getShiftColor=function(e,t,n){void 0===t&&(t=-17),void 0===n&&(n=360);var r=d(e),i=t,o="h",a=1;return f(r)&&(o="v",i=30),(r=w(r)).h>.119&&r.h<.23&&(i=-10),(r.h*n+i>=n||r.h*n+i<=0)&&(a=-1),r[o]=(r.h*n+i*a)/n,S(r)},t.hex2hsv=w,t.hex2rgb=v,t.hex2rgba=function(e,t){if(void 0===t&&(t=1),!l(e))return"rgba("+i.r+","+i.g+","+i.b+",1)";var n=v(e);return"rgba("+n.r+","+n.g+","+n.b+","+t+")"},t.hexa2hex=function(e){var t=e.match(/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/).slice(1).map((function(e){return parseInt(e,16)})),n=t[0],r=t[1],i=t[2],o=t[3];return"#"+[n,r,i].map((function(e){return Math.floor(e*o/255)+255-o})).map((function(e){return("0"+e.toString(16)).slice(-2)})).join("")},t.hsl2rgb=b,t.hsv2hex=S,t.hsv2rgb=E,t.isGrayShade=f,t.isHSVColor=c,t.isHexAColor=function(e){return s(e,"string")&&/^#[0-9a-fA-F]{8}$/.test(e)},t.isHexColor=l,t.isRGBColor=u,t.isWhite=function(e){return e&&"#ffffff"===d(e)},t.list=void 0,t.luminance=p,t.productGradientColor=function(e){var t=v(d(e)),n=t.r,r=t.g,i=t.b,o=y({r:n,g:r,b:i}),a=o.h,s=o.s,u=o.l,c=s<.5?-10:10;return Math.abs(n-r)<=3&&Math.abs(i-r)<=3?m(b({h:a,s:s,l:u+.15})):m(b({h:a+c/360,s:s,l:u+.15}))},t.restoreCssHexColor=d,t.rgb2hex=m,t.rgb2hsl=y,t.rgb2hsv=_,t.rgba2hex=function(e){var t=e.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),n=parseFloat(t[3]||1),r=Math.round(n*parseInt(t[0],10)+255*(1-n)),i=Math.round(n*parseInt(t[1],10)+255*(1-n)),o=Math.round(n*parseInt(t[2],10)+255*(1-n));return"#"+("0"+r.toString(16)).slice(-2)+("0"+i.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2)};var n,r="",i={r:255,g:255,b:255},o={h:0,s:0,v:1},a=["#00bee0","#ffdd2d","#5695c4","#b39fda","#ff9797","#37a89d","#6bd2ec","#ffad5c","#b3baec","#ffb4b4","#68c24d","#80abcc","#ffba00","#b186c4","#f97f7c","#17d15f","#589db6","#ff9138","#d4a0f3","#d97789","#50a06f","#00c6d3","#ff7047","#db8cec","#dd567a","#4dbf81","#66b1ad","#f2bc85","#f3a3ff","#ff85b4","#bfd386"];function s(e,t){return""!==e&&void 0!==e&&typeof e===t}function u(e){return s(e,"object")&&s(e.r,"number")&&s(e.g,"number")&&s(e.b,"number")}function c(e){return s(e,"object")&&s(e.h,"number")&&s(e.s,"number")&&s(e.v,"number")}function l(e){return s(e,"string")&&(7===e.length||4===e.length)&&/^#/.test(e)}function d(e){void 0===e&&(e="");var t=e.toLowerCase().replace(/[^\da-f]/g,"");return!s(t,"string")||3!==t.length&&6!==t.length?r:(3===t.length&&(t=t.replace(/(.)/g,"$1$1")),"#"+t)}function f(e){var t=d(e);return t.slice(1,3)===t.slice(3,5)&&t.slice(3,5)===t.slice(5,7)}function p(e){return u(e)?.299*e.r+.587*e.g+.114*e.b:r}function v(e){return l(e)?{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)}:i}function h(e,t){var n=v(d(e)),r=v(d(t)),i=(n.r+r.r)/2,o=n.r-r.r,a=n.g-r.g,s=n.b-r.b,u=2+i/256,c=2+(255-i)/256;return Math.sqrt(u*o*o+4*a*a+c*s*s)}function g(e){if(e>255||e<0)return"ff";var t=Math.round(+e).toString(16);return 1===t.length?"0"+t:t}function m(e){return u(e)?"#"+g(e.r)+g(e.g)+g(e.b):"#ffffff"}function y(e){var t,n=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(n,r,i),a=Math.max(n,r,i),s=a-o;a===o?t=0:n===a?t=(r-i)/s:r===a?t=2+(i-n)/s:i===a&&(t=4+(n-r)/s),(t=Math.min(60*t,360))<0&&(t+=360);var u=(o+a)/2;return{h:t/360,s:a===o?0:u<=.5?s/(a+o):s/(2-a-o),l:u}}function b(e){var t,n,r,i=e.h,o=e.s,a=e.l;if(0===o)return{r:r=255*a,g:r,b:r};for(var s=2*a-(t=a<.5?a*(1+o):a+o-a*o),u=[0,0,0],c=0;c<3;c++)(n=i+1/3*-(c-1))<0?n++:n>1&&n--,r=6*n<1?s+6*(t-s)*n:2*n<1?t:3*n<2?s+(t-s)*(2/3-n)*6:s,u[c]=255*r;return{r:u[0],g:u[1],b:u[2]}}function _(e){if(!u(e))return o;var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r),s=i,c=i-a,l=0===i?0:c/i,d=i;if(i===a)d=0;else{switch(i){case t:d=(n-r)/c+(n<r?6:0);break;case n:d=(r-t)/c+2;break;case r:d=(t-n)/c+4}d/=6}return{h:d,s:l,v:s}}function E(e){var t,n,r,o,a,s,u,l;if(!c(e))return i;switch(o=Math.floor(6*e.h),a=6*e.h-o,s=e.v*(1-e.s),u=e.v*(1-a*e.s),l=e.v*(1-(1-a)*e.s),o%6){case 0:t=e.v,n=l,r=s;break;case 1:t=u,n=e.v,r=s;break;case 2:t=s,n=e.v,r=l;break;case 3:t=s,n=u,r=e.v;break;case 4:t=l,n=s,r=e.v;break;case 5:t=e.v,n=s,r=u}return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*r)}}function w(e){return l(e)?_(v(e)):o}function S(e){return c(e)?m(E(e)):r}t.list=a},83996:function(e,t,n){"use strict";t.Z=function(e){var t,n;if(function(e){return a.test(e)}(e))t=(0,r.rgba2hex)(e);else if(function(e){return o.test(e)}(e)){var c=u.exec(e);t=(0,r.rgb2hex)({r:Number(c[1]),g:Number(c[2]),b:Number(c[3])})}else if((0,r.isHexColor)(e))t=e;else if((0,r.isHexAColor)(e))t=(0,r.hexa2hex)(e);else if(n=e,i.test(n)){var l=s.exec(e);void 0!==l[1]?t=l[1]:void 0!==l[2]&&(t=(0,r.rgb2hex)({r:Number(l[2]),g:Number(l[3]),b:Number(l[4])}))}return t};var r=n(13142),i=/linear-gradient/,o=/^rgb/,a=/^rgba/,s=/linear-gradient\(.+?,\s?(?:(#[\w\d]*)|rgb\((\d+),\s?(\d+),\s?(\d+)\))/,u=/\((\d+),\s?(\d+),\s?(\d+)/},62432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlocksTrackingEvents=t.sendEvent=t.techSendEvent=t.makeEvent=void 0;var r=n(80476).__importDefault(n(48945)),i=n(85176),o=(0,r.default)("analytics:tracking");function a(e,t){var n;try{n=new CustomEvent(e,{detail:t,bubbles:!0})}catch(r){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!1,t)}return n}function s(e,t,n){void 0===n&&(n=document.body);var r=n;return(0,i.isConnected)(n)||(t.originalTarget=n,r=document.body),null!==r&&(r.dispatchEvent(a(e,t)),!0)}function u(e,t,n){void 0===n&&(n=document.body),s(e,t,n)&&o.info("Dispatched event:",e,t)}t.makeEvent=a,t.techSendEvent=s,t.sendEvent=u;var c=function(){function e(e,t,n){this._eventea=e,this._tree=t,this._trackingOptions=n}var t=e.prototype;return t.trackBlock=function(e,t,n){var r=this._tree.traverseBlockTarget(e);if(r){var i=r.guid,o=r.payload;if(!this._tree.isActiveTracking(i))return;var a=Object.assign({},n,o);this.sendEvent(t,a,e)}},t.sendEvent=function(e,t,n){this._eventea&&!this._trackingOptions.disableEventea?this._eventea.send({project:"boxy",event:e,payload:t}):u(e,t,n)},e}();t.BlocksTrackingEvents=c},15306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80476),i=r.__importStar(n(44121)),o=r.__importDefault(n(42622)),a=["flags"];t.default=function(e){return function(t){var n=(0,i.useMemo)((function(){var e,n,r,i,a=new o.default({options:null!==(e=t.trackingOptions)&&void 0!==e?e:null===(n=t.dival)||void 0===n?void 0:n.trackingOptions,eventea:null!==(r=t.eventea)&&void 0!==r?r:null===(i=t.dival)||void 0===i?void 0:i.eventea});return a.setTree(t.tree),a}),[]);(0,i.useEffect)((function(){return n.mount(),n.unmount}),[]);var r=Object.assign({},t.dival,{blocksTrackingFeatures:a});return i.default.createElement(e,Object.assign({},t,{dival:r,saveDomRef:function(e,r){return t.saveDomRef&&t.saveDomRef(e,r),n.registerElement(e,r)}}))}}},86905:function(e,t,n){"use strict";var r=n(80476),i=r.__importDefault(n(64315)),o=r.__importDefault(n(15306));t.Z=(0,o.default)(i.default)},19231:function(e,t,n){"use strict";var r=n(28385),i=n(37151),o=n(40941);function a(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_SCHEMA_KEYS=void 0,t.LIST_SCHEMA_KEYS=["slideList","slides","panels","panelList","banners"];var s=function(){function e(e,t){void 0===e&&(e=[]),this.segments=e,this.noImpressions=(null==t?void 0:t.noImpressions)||!1,this.hasListKey=(null==t?void 0:t.hasListKey)||!1}var n=e.prototype;return n.get=function(e){return this.segments[e]},n.getAsNumber=function(e){var t=this.segments[e],n=parseInt(t);if(isFinite(n))return n},n.asNumber=function(){if(1===this.length)return this.getAsNumber(0)},n.getListKey=function(){if(this.hasListKey)return this.segments[0]},n.toString=function(){return this.segments.join(".")},n.concat=function(t){var n=[].concat(a(i,this.segments),a(i,t.segments)),r=this.length?this.hasListKey:t.hasListKey;return new e(n,{noImpressions:this.noImpressions||t.noImpressions,hasListKey:r})},e.parseString=function(n){void 0===n&&(n="");var i=n.split("|"),o=a(r,i),s=o[0],u=o.slice(1),c=s.split(".").filter((function(e){return e.length})),l={noImpressions:!1,hasListKey:c.reduce((function(e,n){return e||-1!==t.LIST_SCHEMA_KEYS.indexOf(n)}),!1)};return u.forEach((function(t){var n,r;return null===(r=(n=e.flagHandlersMap)[t])||void 0===r?void 0:r.call(n,{segments:c,options:l})})),new e(c,l)},o(e,[{key:"length",get:function(){return this.segments.length}}]),e}();t.default=s,s.flagHandlersMap={noimp:function(e){e.options.noImpressions=!0},lst:function(e){e.options.hasListKey=!0},nolst:function(e){e.options.hasListKey=!1}}},42622:function(e,t,n){"use strict";var r=n(40941);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LOCAL_KEYS=t.DEFAULT_IMPRESSION_DELAY=t.DEFAULT_IMPRESSION_BATCH_DELAY=t.CLICK_DEDUP_KEY=t.DelayedActionType=void 0;var i,o=n(80476),a=o.__importDefault(n(48945)),s=o.__importStar(n(19231)),u=n(59416),c=n(62432),l=n(63640),d=n(85176);!function(e){e[e.Negative=0]="Negative",e[e.Positive=1]="Positive"}(i=t.DelayedActionType||(t.DelayedActionType={}));var f=(0,a.default)("boxy:blocks-tracking");t.CLICK_DEDUP_KEY="dedup_click",t.DEFAULT_IMPRESSION_BATCH_DELAY=300,t.DEFAULT_IMPRESSION_DELAY=100,t.DEFAULT_LOCAL_KEYS=["itemType","itemName"];var p=Array.prototype.forEach,v=function(e,t){return void 0===t&&(t={}),"undefined"!=typeof IntersectionObserver?new IntersectionObserver(e,Object.assign({root:null},t)):(console.warn("IntersectionObserver feature not supported!"),v=function(){return null},null)};function h(e,t){for(var n,r=function(e){return e.dataset?t.some((function(t){return null==e?void 0:e.dataset[t]}))?{v:e}:void 0:0},i=e.parentElement;i;i=i.parentElement)if(0!==(n=r(i))&&n)return n.v}function g(e,t){e.unobserve(t),e.observe(t)}function m(e,t){return Array.prototype.find.call(e,t)}function y(e){if(!(0,d.isConnected)(e))return!1;var t=getComputedStyle(e);return"0"!==t.opacity&&"none"!==t.display&&"hidden"!==t.visibility}var b=function(){function e(e){var n=this;void 0===e&&(e={}),this._elemsMutObserver=null,this._elementsMap={},this._recheckQueue=[],this._delayedActions={},this._trackedAsVisibleMap={},this._elemsSeenTimings={},this.mount=function(){f.info("mount"),document.addEventListener("mousedown",n.handleMouseDown,!0),document.addEventListener("visibilitychange",n.handlePageVisChange)},this.unmount=function(){f.info("umount"),n.elemsInObserver&&n.elemsInObserver.disconnect(),document.removeEventListener("visibilitychange",n.handlePageVisChange),document.removeEventListener("mousedown",n.handleMouseDown,!0),Object.keys(n._delayedActions).forEach((function(e){var t;clearTimeout(null===(t=n._delayedActions[e])||void 0===t?void 0:t.actionTimeout)})),n._delayedActions={}},this.handleMouseDown=function(e){var t,r,i,o;n._events.trackBlock((r=function(e,t){try{return"elementsFromPoint"in document?document.elementsFromPoint(e,t):"msElementsFromPoint"in document?document.msElementsFromPoint(e,t):null}catch(e){return null}}((t=e).clientX,t.clientY)||[],i=t.target||void 0,(o=m(r,(function(e){return e instanceof HTMLElement&&!!e.dataset.guid})))&&m(r,(function(e){return e instanceof HTMLElement&&(!!e.dataset.schemaPath||e===o)||e instanceof Node&&!o.contains(e)}))||i||document.body),"blockClick",{itemType:"block"})},this.handleElemsIntersection=function(e){document.hidden?e.forEach((function(e){n._recheckQueue.push(e.target)})):e.forEach((function(e){var t=y(e.target),r=n._tree.getTargetDesc(e.target);if(r){var o=r.guid+"/"+r.schemaPath.toString(),a="impression_"+o;if(e.intersectionRatio>=n._trackingOptions.elemsIntersectionThreshold&&t)n.cancelableDelayedAction(a,i.Positive,(function(){n._trackedAsVisibleMap[o]||(n._trackedAsVisibleMap[o]=!0,n._elemsSeenTimings[o]=Date.now(),n._events.trackBlock(e.target,"blockImpressionIn",{itemType:"block"}))}),n._trackingOptions.elemsImpressionDelay);else{var s=o in n._trackedAsVisibleMap,u=a in n._delayedActions;if(!s&&!u)return;n.cancelableDelayedAction(a,i.Negative,(function(){if(n._trackedAsVisibleMap[o]){n._trackedAsVisibleMap[o]=!1;var t=o in n._elemsSeenTimings?Date.now()-n._elemsSeenTimings[o]:0;n._events.trackBlock(e.target,"blockImpressionOut",{itemType:"block",componentTime:t})}}),n._trackingOptions.elemsImpressionDelay)}}}))},this.handlePageVisChange=function(){var e=n.elemsInObserver;!document.hidden&&n._recheckQueue.length>0&&e&&(n._recheckQueue.forEach((function(t){g(e,t)})),n._recheckQueue=[])},this.handleElemsMutation=function(e){var t=n.elemsInObserver;t&&e.forEach((function(e){var r=n._tree.getTargetDesc(e.target);if(r){var i,o=r.guid+"/"+r.schemaPath.toString();n._trackedAsVisibleMap[o]||(i=e.target,y(i)?Promise.resolve(!0):new Promise((function(e){setTimeout((function(){e(y(i))}),350)}))).then((function(n){n&&t&&g(t,e.target)}))}}))};var r=e,o=r.options,a=void 0===o?{}:o,s=r.eventea;this._trackingOptions=Object.assign({elemsIntersectionThreshold:.4,elemsImpressionDelay:t.DEFAULT_IMPRESSION_DELAY,impressionBatchDelay:t.DEFAULT_IMPRESSION_BATCH_DELAY,localKeys:t.DEFAULT_LOCAL_KEYS,disableEventea:!1},a),this._tree=new u.BlocksTree(this._trackingOptions),this._events=new c.BlocksTrackingEvents(s||null,this._tree,this._trackingOptions)}var n=e.prototype;return n.setTree=function(e){e&&this._tree.setPageMakerTree(e)},n.registerElement=function(e,t){var n=this;if(null!==t)if(t instanceof HTMLElement){if(t!==this._elementsMap[e]&&this._elementsMap[e]&&this.unregisterElement(e),this.attachInfoDataAttrsToElement(e,t),t.dataset.guid=e,!this._tree.isActiveTracking(e))return;f.info({event:"attach",guid:e}),p.call(t.querySelectorAll("[data-eye-target]"),(function(e){n.observeElem(e)})),this.getListElements(e,t).forEach((function(e){n.observeElem(e)})),this._elementsMap[e]=t}else f.warn("Couldn't find dom node for "+e)},n.unregisterElement=function(e){var t,n=this._elementsMap[e];n instanceof HTMLElement&&(delete n.dataset.guid,delete this._elementsMap[e],null===(t=this._elemsInObserver)||void 0===t||t.unobserve(n))},n.getListElements=function(e,t){if(!this._tree.hasBlockInfo(e))return[];var n=[t].concat(Array.from(t.querySelectorAll("[data-schema-path]"))).map((function(e){return{elem:e,schemaPath:s.default.parseString(e.dataset.schemaPath)}})).filter((function(e){return e.schemaPath.hasListKey}));if(0===n.length)return[t];var r=n.find((function(e){return 1===e.schemaPath.length}));if(r){var i=r.elem,o=[];return p.call(i.querySelectorAll("[data-schema-path]"),(function(e){if(e instanceof HTMLElement){var t=s.default.parseString(e.dataset.schemaPath);t.noImpressions||void 0===t.asNumber()||h(e,["schemaPath"])!==i||o.push(e)}})),o}return n.reduce((function(e,n){var r=n.elem,i=n.schemaPath;if(!i.noImpressions&&h(r,["schemPath","guid"])===t){if(i.length>2||void 0===i.getAsNumber(1))throw new Error("data-schema-path, that contain list keys ("+s.LIST_SCHEMA_KEYS+"), have to look like '"+i.getListKey()+"}' or `"+i.getListKey()+".${index}`");e.push(r)}return e}),[])},n.observeElem=function(e){var t,n;f.info({event:"attach to elem",element:e}),null===(t=this.elemsInObserver)||void 0===t||t.observe(e),null===(n=this.elemsMutObserver)||void 0===n||n.observe(e,{childList:!1,attributes:!0,subtree:!1})},n.attachInfoDataAttrsToElement=function(e,t){try{if(localStorage.getItem("set-page-maker-data-attrs")){var n=this._tree.getBlockInfo(e).block,r=n.type,i=n.version,o=n.render;t.dataset.type=r,t.dataset.schemaVersion=String(i),t.dataset.render=JSON.stringify(o)}}catch(e){}},n.cancelableDelayedAction=function(e,t,n,r){var i=this;if(0===r)(0,l.requestIdleCallbackWithDuration)((function(){return n.call(i)}));else{var o=this._delayedActions[e];o&&(delete this._delayedActions[e],clearTimeout(o.actionTimeout)),o&&o.actionType!==t||(this._delayedActions[e]={actionType:t,actionTimeout:setTimeout((function(){delete i._delayedActions[e],(0,l.requestIdleCallbackWithDuration)((function(){return n.call(i)}))}),r)})}},r(e,[{key:"elemsInObserver",get:function(){return void 0===this._elemsInObserver&&(this._elemsInObserver=v(this.handleElemsIntersection,{threshold:this._trackingOptions.elemsIntersectionThreshold})),this._elemsInObserver}},{key:"elemsMutObserver",get:function(){return void 0===this._elemsMutObserver&&(this._elemsMutObserver=new MutationObserver(this.handleElemsMutation)),this._elemsMutObserver}}]),e}();t.default=b},59416:function(e,t,n){"use strict";var r=n(37151);Object.defineProperty(t,"__esModule",{value:!0}),t.BlocksTree=void 0;var i=n(80476).__importDefault(n(19231)),o={active:!1},a={localKeys:["itemType","itemName"]};function s(e,t,n){for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n(o,t[o])&&(e[o]=t[o])}return e}var u=function(){function e(e){void 0===e&&(e={}),this._traversedTargets=new WeakMap,this._blocksTrackingMeta={},this._blocksTrackingData={},this._opts=Object.assign(a,e)}var t=e.prototype;return t.setPageMakerTree=function(e){var t={};!function e(n,i){void 0===i&&(i=[]),t[n.id]={block:n,pagePosition:i.join(".")},Array.isArray(n.content)&&n.content.forEach((function(t,n){return e(t,[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r,i),[n+1]))}))}(e),this._blocksRegistry=t},t.hasBlockInfo=function(e){return!!this._blocksRegistry&&e in this._blocksRegistry},t.getBlockInfo=function(e){if(this._blocksRegistry)return this._blocksRegistry[e]},t.doCollect=function(e,t,n){var r=this;if(void 0===n&&(n=[]),this._blocksRegistry&&this._blocksRegistry[e]){var i,o=t.length,a=this.getBlockPayload(e),u=this._blocksRegistry[e].block.properties||{},c=t.getListKey();if(c)if((i=u[c].filter((function(e){return!1!==e.active}))).length>1){var l=u.panelProps||u.slideProps;l&&l.type&&"row"===l.type.substr(0,3)?a.view="row":a.view="slider"}else a.view="default";var d=u;u&&u.analytics&&Object.assign(a,u.analytics);for(var f,p,v=-1,h=!1,g=!1,m=0;m<t.length;m++){var y=t.get(m);if(h=m==o-1,!(d=d[y]))throw new Error("Connection with block schema is broken, is data-schema-path missed? path="+t+", error-at="+y);if(-1!==v){f=p="card";var b=t.getAsNumber(m);c&&!g&&void 0!==b&&(g=!0,a.componentMaxPosition=i.length,a.componentPosition=b+1-u[c].slice(0,b).filter((function(e){return!1===e.active})).length,d.productName&&(a.componentProductName=d.productName),d.productCategory&&(a.componentProductCategory=d.productCategory))}var _=function(e){return!!h||-1===r._opts.localKeys.indexOf(e)};s(a,n[m],_),d.analytics&&s(a,d.analytics,_),t.getListKey()===y&&(v=m)}if(t.length>0){var E,w=!c||-1!==v&&o-1-v>=2;if(!a.itemType){var S=w?t.get(o-1):f;S&&(a.itemType=S)}a.itemName||(w||a.itemType!==f||(E=p),w&&(E=d.title||d.text),"string"==typeof E&&(a.itemName=E))}return{guid:e,payload:a}}},t.traverseBlockTarget=function(e){var t=this.getTargetDesc(e);if(t)return this.doCollect(t.guid,t.schemaPath,t.payloadVector)},t.getTargetDesc=function(e){if(e){if(!this._traversedTargets)return this.traverseTargetDesc(e);if(!this._traversedTargets.has(e)){var t=this.traverseTargetDesc(e);this._traversedTargets.set(e,t)}return this._traversedTargets.get(e)}},t.traverseTargetDesc=function(e){if(e instanceof HTMLElement||e instanceof SVGElement)for(var t=[],n=new i.default,r={},o=e;o;o=o.parentElement){var a=o.dataset;if(a){if(a.schemaPath){n.length&&t.unshift(r),r={};var s=i.default.parseString(a.schemaPath);n=s.concat(n);for(var u=s.length;u-- >1;)t.unshift({})}if(0!==n.length){if(a.aData)try{Object.assign(r,JSON.parse(a.aData),r)}catch(e){}for(var c=0,l=["itemType","itemName"];c<l.length;c++){var d=l[c];a[d]&&!r[d]&&(r[d]=a[d])}}var f=a.guid;if(f)return n.length&&t.unshift(r),{guid:f,schemaPath:n,payloadVector:t}}}},t.getTrackingData=function(e){if(!this._blocksRegistry)throw new Error("blocksRegistry is not ready");if(!this._blocksTrackingMeta[e]){var t=this._blocksRegistry[e];if(!t)return o;var n=((t.block.meta||{}).analytics||{}).tracking||{active:!0};this._blocksTrackingMeta[e]=n}return this._blocksTrackingMeta[e]},t.getBlockPayload=function(e){var t=this._blocksRegistry;if(!t)throw new Error("blocksRegistry is not ready");var n=this.getTrackingData(e),r=t[e];if(!r)throw new Error("No metadata found for block "+e);var i=r.block,o=r.pagePosition,a=n.trackingName||i.type+"_"+i.id;return Object.assign({},this._blocksTrackingData[e],{type:i.type,name:a,pagePosition:o,componentPosition:1,componentMaxPosition:1})},t.isActiveTracking=function(e){return this.getTrackingData(e).active||function(){try{if("true"===localStorage.getItem("page_tracking_force_enabled"))return!0}catch(e){}return!1}()},e}();t.BlocksTree=u},63640:function(e,t){"use strict";function n(e,t){if("function"==typeof window.requestIdleCallback)return window.requestIdleCallback(e,t);var n=Date.now();return window.setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-n))}})}),1)}Object.defineProperty(t,"__esModule",{value:!0}),t.requestIdleCallbackWithDuration=t.safeCancelIdleCallback=t.safeRequestIdleCallback=void 0,t.safeRequestIdleCallback=n,t.safeCancelIdleCallback=function(e){return window.cancelIdleCallback?window.cancelIdleCallback(e):clearTimeout(e)};t.requestIdleCallbackWithDuration=function(e,t){var r=function(e){return Math.min(e||10,50)}(null==t?void 0:t.duration);!function i(){n((function(t){if(t.timeRemaining()<r&&!t.didTimeout)return i();e(t)}),t)}()}},85176:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isConnected=void 0,t.isConnected=function(e){return!(e instanceof Node)||(void 0!==e.isConnected?e.isConnected:!((e.ownerDocument||document).compareDocumentPosition(e)&Node.DOCUMENT_POSITION_DISCONNECTED))}},91232:function(e,t,n){"use strict";var r=n(37710),i=["npmVersion"];t._q=function(e,t,n){void 0===n&&(n={});var s=n,u=s.runInfo,c=s.cacheHash;return Object.keys(e).reduce((function(n,s){var l;return Object.assign({},n,((l={})[s]=Object.keys(e[s]).reduce((function(n,l){var d,f,p=e[s][l];if("clientJs"in p)f=p;else{p.npmVersion;var v=r(p,i),h="";if(!1===(null==u?void 0:u.flags.omitNamespace)){var g=u.blocks.find((function(e){return(0,a.toBlockName)(e.name)===s}));if(!g)throw new Error("Block "+s+" not found in runInfo.blocks");g.name.startsWith("@")&&(h="/"+g.name.split("/")[0])}var m=function(e,t,n){var r=e.mifName,i=e.npmVersion,o=(void 0===n?{}:n).cacheHash,a=t+"/"+r+"/"+i+"/"+r,s=o?"?cache_hash="+o:"";return{clientJs:a+".client.js"+s,serverJs:a+".server.js"+s,css:a+".css"+s}}({mifName:(0,o.kebabize)(s),npmVersion:p.npmVersion},t+h,{cacheHash:c});f=Object.assign({},v,m)}return Object.assign({},n,((d={})[l]=f,d))}),{}),l))}),{})};var o=n(89938),a=n(34780)},52493:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.split("-").map((function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})).join("")}},89938:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.kebabize=t.camelize=t.FIRST_ID=void 0,t.traverseTree=a,t.mapTree=s,t.asTree=function e(n,r){if(void 0===r&&(r=0),"string"==typeof n)return e({id:n});if(Array.isArray(n)&&"string"==typeof n[0]){var o=n.map((function(t){return e({id:t})}));return e(o)}var a=n,u=r;return Array.isArray(a)?e({type:"fragment",content:a}):s(n,(function(e){var n,r,o=e.id;if(!o){var a=u>0?"-"+String(u):"";o=""+t.FIRST_ID+a,u++}return{id:o,type:(0,i.default)(null!=(n=e.type)?n:"as-tree-generated-type"),version:null!=(r=e.version)?r:"AS_TREE_PLACEHOLDER",content:e.content,render:e.render,properties:e.properties,projectTitle:e.projectTitle}}))};var i=r(n(52493));t.camelize=i.default;var o=r(n(74035));function a(e,t,n){var r,i=null!=(r=null==n?void 0:n.pattern)?r:"post-order";return function e(n,r,o,a,s){var u,c,l;void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=void 0);var d=null!=(u=null==(c=n.content)?void 0:c.length)?u:0,f=null!=(l=n.content)?l:null,p={depth:r,layerPosition:a,neighborsCount:o,parentNode:s};switch(i){case"pre-order":var v=t(n,f,p);if(Array.isArray(n.content)){var h=n.content.map((function(t,n){return e(t,r+1,d-1,n,v)}));v&&"object"==typeof v&&(v.content=h)}return v;case"post-order":return Array.isArray(n.content)&&(f=n.content.map((function(t,i){return e(t,r+1,d-1,i,n)}))),t(n,f,p);default:throw new Error('wrong pattern value: "'+i+'"')}}(e)}function s(e,t){return a(e,(function(e,n){return Object.assign({},t(e),{content:n})}))}t.kebabize=o.default,t.FIRST_ID="generated-id"},74035:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/([a-z]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}},24650:function(e,t,n){"use strict";var r=n(17935),i=n(56330),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fillMap=t.getMap=void 0;var a=o(n(44121)),s=n(89938),u=n(45302),c=n(17129),l=o(n(48945)),d=n(28619);t.getMap=u.getMap;var f=(0,l.default)("boxy:mm-lazy:client"),p=function(e){var t=e.subtree,n=e.baseUrl,r=e.containerElement,i=e.getRetryUrl;if(void 0!==t.render){var o=(0,u.getTemper)(),s=(0,c.getMmid)(t);if(!o.modules[s]){var l,p=t.render,v=(0,c.getUrl)(t,"clientJs",n);!1===t.render.isCriticalCss&&(l=(0,c.getUrl)(t,"css",n));var h=a.default.forwardRef((function(e,t){return a.default.createElement(d.ClientLazyRender,{clientJs:v,css:l,mmid:s,props:e,forwardedRef:t,modules:o.modules,strategy:p.lazy,containerElement:r,getRetryUrl:i})})),g={initialize:function(){g.initialize=!0,f.debug("initializing lazy",s)},initialized:!0,meta:{mmid:s,clientJs:v,css:l,strategy:p.lazy,render:t.render},exports:h};if(o.modules[s]=g,void 0===g.exports)throw new Error('mm.exports for "'+s+'" is not defined!');g.exports.displayName="ClientLazyRender("+s+")",(0,u._addToMap)(s,g.exports),f.debug("assigned lazy to temper",g)}}},v=function(){var e=i(r.mark((function e(t,n,i,o){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.fillMap)();case 2:return(0,s.traverseTree)(t,(function(e){var t;"string"==typeof(null==(t=e.render)?void 0:t.lazy)&&"none"!==e.render.lazy&&p({subtree:e,baseUrl:n,containerElement:i,getRetryUrl:o})})),e.abrupt("return",(0,u.getMap)());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();t.fillMap=v,t.default=t.fillMap},21159:function(e,t,n){"use strict";var r=n(17935),i=n(56330);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(45302),c=n(89938),l=s(n(52268)),d=s(n(50357)),f=n(17129),p=s(n(48945)),v=n(24650),h=(0,p.default)("boxy:mm-lazy:dynamic"),g=function(){var e=i(r.mark((function e(t){var n,i,a,s,p,g,m,y,b,_,E,w;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tree,i=t.baseUrl,a=t.containerElement,s=t.getRetryUrl,h.debug("starting blockMap with baseUrl and tree",i,n),e.next=4,(0,v.fillMap)(n,i,a,s);case 4:return p=(0,u.getTemper)(),g=[],(0,c.traverseTree)(n,(function(e){if(void 0!==e.render){var t=(0,f.getMmid)(e),n=p.modules[t];if(!(null!=n&&n.exports||null!=n&&n.error)){var r;n?h.debug("module found, but no exports",t,n):h.debug("module not found",t);var o=(0,f.getUrl)(e,"clientJs",i),u=(0,f.getUrl)(e,"css",i);h.debug("block "+e.type+" not found, loading it via solo url",o);var c=e.render&&e.render.integrity,v=Object.assign({mmid:t},null!=(r=c&&{integrity:c})?r:void 0),m=Promise.all([(0,l.default)({type:"stylesheet",href:u,options:v,containerElement:a,getRetryUrl:s}),(0,d.default)({src:o,options:v,containerElement:a,getRetryUrl:s})]).then((function(){return{mmid:t}})).catch((function(){return{mmid:t,failed:!0}}));g.push(m)}}})),m=[],e.next=10,Promise.all(g);case 10:for(y=e.sent,b=o(y,!0);!(_=b()).done;)E=_.value,w=E.mmid,E.failed?h.warn("mmid "+w+" failed to load"):(h.debug("initializing async block "+w),m.push((0,u.initializeModule)(w).catch((function(e){return{error:e}}))));return e.next=14,Promise.all(m);case 14:return e.sent.map((function(e){return null==e?void 0:e.error})).filter(Boolean).length&&h.error({message:"failed to load some modules"}),e.abrupt("return",(0,u.getMap)());case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=g},28619:function(e,t,n){"use strict";var r=n(1953);function i(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientLazyRender=void 0;var c=s(n(44121)),l=u(n(50357)),d=u(n(52268)),f=u(n(48945)),p=n(45302),v=n(75462),h=(0,f.default)("boxy:mm-lazy:render"),g={__html:""},m=(0,v.createUseObserverVisible)({root:null,rootMargin:"200px 0px 0px 0px"}),y={};t.ClientLazyRender=function(e){var t,n=e.mmid,o=e.clientJs,a=e.css,s=e.props,u=e.forwardedRef,f=e.modules,v=e.strategy,b=e.containerElement,_=e.getRetryUrl,E=(0,c.useRef)(0);E.current++,h.info("Render count",E.current,n,s);var w=n+"-lazy-inner",S=(0,c.useState)(!(null==(t=f[w])||!t.initialized)),T=i(r,S,2),A=T[0],k=T[1],O=(0,c.useState)(A),C=i(r,O,2),R=C[0],I=C[1],N=(0,c.useState)(null),M=i(r,N,2),x=M[0],P=M[1],L=(0,c.useState)(null),D=i(r,L,2),j=D[0],B=D[1],U=m(j,"viewport"===v),F=(0,c.useState)(!1),V=i(r,F,2),W=V[0],q=V[1],H=(0,c.useState)(!1),G=i(r,H,2),Z=G[0],K=G[1];h.info("render state",{liid:w,liidModule:f[w],isInitialized:A,isLoaded:R,isInViewport:U,isHovered:W,isIdleForLoad:Z}),(0,c.useEffect)((function(){"function"==typeof s.forwardDomRef&&s.forwardDomRef(j)}),[j]),(0,c.useEffect)((function(){"string"==typeof a&&(h.info("addLink for",a),(0,d.default)({type:"stylesheet",href:a,options:{mmid:n},containerElement:b,getRetryUrl:_}).catch((function(e){return P(e)}))),"idle"===v&&("function"==typeof window.__testRequestIdleCallback?__testRequestIdleCallback((function(){return K(!0)})):"function"==typeof window.requestIdleCallback?window.requestIdleCallback((function(){return K(!0)})):K(!0))}),[]);var J,z=void 0===v||"none"===v,Y="hover"===v&&W,Q="viewport"===v&&U,X="idle"===v&&Z,$="static"===v&&0===(null==j?void 0:j.innerHTML.length),ee=z||Y||Q||X||$;if(h.info("isTriggered",ee),ee&&!R&&(0,l.default)({src:o,options:{mmid:w},containerElement:b,getRetryUrl:_}).then((function(){return I(!0)})).catch((function(e){return P(e)})),(0,c.useEffect)((function(){R&&!A&&(h.info("call initialize()",w,f[w]),(0,p.initializeModule)(w).then((function(){k(!0)})).catch((function(e){return P(e)})))}),[R,A]),x)throw x;if(A){var te,ne,re=null!=(te=f[w].exports)?te:c.default.Fragment;null==s.onBotaUpdate||s.onBotaUpdate(re.bota);var ie=s;return null!=re&&null!=(ne=re.prototype)&&ne.render&&(ie=Object.assign({},s,{ref:u})),h.info("returning loaded component",re),c.default.createElement("div",{"data-mmid":n,ref:function(e){return B(e)},style:y},c.default.createElement(re,Object.assign({},ie)))}return"hover"===v&&(J={onMouseMove:function(){W||q(!0)}}),h.info("returning stub"),c.default.createElement("div",Object.assign({"data-mmid":n,ref:function(e){return B(e)},style:y,suppressHydrationWarning:!0,dangerouslySetInnerHTML:g},J))},t.ClientLazyRender.displayName="ClientLazyRender"},75462:function(e,t,n){"use strict";var r=n(1953);Object.defineProperty(t,"__esModule",{value:!0}),t.createUseObserverVisible=void 0;var i=n(44121);t.createUseObserverVisible=function(e){return function(t,n){var o=(0,i.useState)(!1),a=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r,o,2),s=a[0],u=a[1];return(0,i.useEffect)((function(){if(t&&!s&&n){var r=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(t.disconnect(),u(!0))}))}),e);return r.observe(t),function(){r.disconnect()}}}),[t]),s}}},52268:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=t.type,r=t.href,u=t.containerElement,c=t.options,l=t.getRetryUrl;if(a.info("start",r,n,c),s.has(r)){var d=s.get(r);return a.info("return from cache",r,d),d}var f=document.createElement("link");Object.assign(f,{rel:n,href:r});var p=(null!=l?l:i.defaultGetRetryUrl)(r),v=new Promise((function(t,i){f.onerror=function(){if(!p){var s=new Error("could not load link "+r);return(0,o.initEmptyTemperAndAddLoadError)(c.mmid,s),a.error("fail to load (and no retry url)",s),void i(s)}a.error("script.onerror retry addLink() call",p),e({type:n,href:p,options:c,containerElement:u,getRetryUrl:l}).then(t,i)},"onload"in f?f.onload=t:setTimeout(t,50);var s=null!=u?u:document.head;a.info("appending link to target",f,s),s.appendChild(f)}));return s.set(r,v),v};var i=n(50785),o=n(22468),a=(0,r(n(48945)).default)("boxy:mm:addLink"),s=new Map},50357:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=t.src,r=t.options,i=t.containerElement,c=t.getRetryUrl;if(s.info("start",n,r),u.has(n)){var l=u.get(n);return s.info("return from cache",l),l}var d=document.createElement("script");Object.assign(d,{async:!0,crossOrigin:"anonymous",src:n}),"mmid"in r&&(d.dataset.mmid=r.mmid),r.integrity&&d.setAttribute("integrity",r.integrity);var f=(null!=c?c:o.defaultGetRetryUrl)(n),p=new Promise((function(t,o){d.onerror=function(){if(!f||f===n){var u=new Error("could not load script "+n);return(0,a.initEmptyTemperAndAddLoadError)(r.mmid,u),s.error("fail to load (and no retry url)",u),void o(u)}s.error("script.onerror retry addScript() call",f),e({src:f,options:r,containerElement:i,getRetryUrl:c}).then(t,o)},d.onload=t;var u=null!=i?i:document.head;s.info("appending script to target",d,u),u.appendChild(d)}));return s.info("setting promise to cache",n,p),u.set(n,p),p};var i=r(n(48945)),o=n(50785),a=n(22468),s=(0,i.default)("boxy:mm:addScript"),u=new Map},50785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGetRetryUrl=function(e){for(var t in r)if(0===e.indexOf(t))return e.replace(t,r[t])};var n="https://fallback.cdn-tinkoff.ru/",r={"https://cdn.tbank.ru":n+"acdn","https://acdn.tinkoff.ru":n+"acdn"}},17129:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=function(e,t,n){var r=e.type,a=e.render;if(void 0===a)throw new Error("render field is not defined for "+r+"@"+e.version);if(t in a&&"string"==typeof a[t])return a[t];if("npmVersion"in a){var s=(0,i.default)(r);return n+"/"+s+"/"+a.npmVersion+"/"+s+o[t]}throw new Error("failed to get resource location for "+e.id)},t.getMmid=function(e){var t,n,r=e.type,i=e.render;if(void 0===i)throw new Error("failed to get mmid for subtree "+e.id);return null!=(t=null!=(n=i.mmid)?n:i.clientJs)?t:r+"@"+i.npmVersion};var i=r(n(74035)),o={clientJs:".client.js",css:".css",jsMap:".client.js.map"}},45302:function(e,t,n){"use strict";var r=n(17935),i=n(56330),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fillMap=t.initializeModule=t._addToMap=t.getTemper=t.getMap=t._map=void 0;var a=o(n(44121)),s=o(n(90776)),u=(0,o(n(48945)).default)("mm:client");t._map={},t.getMap=function(){return t._map},t.getTemper=function(){window.__tempref59452||(window.__tempref59452={});var e=window.__tempref59452;return void 0===e.externals&&(e.externals={react:a.default,"react-dom":s.default}),void 0===e.modules&&(e.modules={}),e},t._addToMap=function(e,n){t._map[e]=n},t.initializeModule=function(e){var n=(0,t.getTemper)().modules[e];if(void 0===n){var r="module "+e+" not found";return u.error(r),Promise.reject(new Error(r))}return u.debug("initial mm value",n),!1===n.initialized?(n.initialize()||Promise.resolve()).then((function(){n.initialized=!0,n.exports||u.error("no exports after initialization",e,n),u.debug("mm initialized",n),(0,t._addToMap)(e,n.exports)})).catch((function(t){throw n.error=t,u.error("initialization of "+e+" failed with error "+t.message+"\n"+t.stack),t})):Promise.resolve()};var c=function(){var e=i(r.mark((function e(){var n,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in n=(0,t.getTemper)(),i=[],n.modules)i.push((0,t.initializeModule)(o).catch((function(e){return{error:e}})));return e.next=5,Promise.all(i);case 5:return e.sent.map((function(e){return null==e?void 0:e.error})).filter(Boolean).length&&u.error({message:"failed to load some modules"}),e.abrupt("return",t._map);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.fillMap=c,t.default=t.fillMap},22468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEmptyTemperAndAddLoadError=function(e,t){var n=(0,r.getTemper)();n.modules[e]||(n.modules[e]={initialized:!1,initialize:function(){}});var i=n.modules[e];if(i.loadFailed=!0,i.error){var o,a=i.error.errors?null==(o=i.error.errors)?void 0:o.concat(t):[i.error,t];i.error=new Error(""+a.map((function(e){return e.message})).join("\n")),i.error.errors=a}else i.error=t};var r=n(45302)},91401:function(e,t){"use strict";t.gV=void 0,t.Z5=function(e,n){void 0===e&&(e={});var r=(null!=n?n:window.__tempref59452).modules;if(!r)return null;for(var i=0,o=0,a=0,s=0,u=[],c=0,l=Object.keys(r);c<l.length;c++){var d,f=r[l[c]];if(f.uniqueName&&!t.gV.has(f.uniqueName)&&f.manifest&&f.manifest.clientSize&&f.manifest.clientEntrySize){t.gV.add(f.uniqueName),u.push(f.uniqueName);var p=void 0;if(f.manifest.clientChunks){var v=(p=Object.values(f.manifest.clientChunks).filter((function(e){return"shared"===e.type}))).reduce((function(e,t){return e+t.size}),0);a+=v,s+=v}if(i+=f.manifest.clientSize,o+=f.manifest.clientEntrySize,f.sharingResult&&null!=(d=p)&&d.length)for(var h=function(){var e=m[g];if(e.from===f.uniqueName){var t=p.find((function(t){return t.module===e.module}));t&&(o+=t.size,s-=t.size)}},g=0,m=Object.values(f.sharingResult);g<m.length;g++)h()}}return{blocks:u,totalJs:i,loadedJs:o,sharedJs:a,savedViaSharingJs:s,totalCss:0,withSharing:a>0,urlMask:e.urlMask||"unspecified"}},t.gV=new Set},34780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PUBLIC_PATH=void 0,t.removeNs=i,t.toBlockName=function(e){return(0,r.camelize)(i(e))},t.toMifName=function(e){return(0,r.kebabize)(i(e))};var r=n(89938);function i(e){return e.startsWith("@")?e.split("/")[1]:e}t.DEFAULT_PUBLIC_PATH="mm"},23041:function(e,t,n){"use strict";var r=n(37151);function i(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useBlockTreeMap=void 0;var c=n(89938),l=u(n(48945)),d=s(n(44121)),f=(0,l.default)("page-maker");t.useBlockTreeMap=function(e,t){var n=t.blocksMap,o=t.use,a=t.miss;return(0,d.useMemo)((function(){var t=new WeakMap;return e&&(0,c.traverseTree)(e,(function(e,s,u){var c,l,p,v,h,g=u.depth,m=u.parentNode;void 0!==n?v=null!=(h=n[e.id])?h:n[e.type]:"function"==typeof o&&(v=o(e,{depth:g})),v||(v=function(t){var n=t.children;return d.default.createElement("div",{"data-fail-type":e.type},n)},f.warn({message:"Component "+e.type+" not found. Using fallback instead div data-fail-type={subtree.type}",subtree:{type:e.type,version:e.version,render:e.render}}),null==a||a(e));var y=[];if(null!=(c=v)&&null!=(c=c.bota)&&c.exposes&&v.bota.providers){var b=new Set(v.bota.exposes);y=v.bota.providers.filter((function(e){return b.has(e.provide)}))}var _={id:e.id,component:v,provides:(null==(l=v)?void 0:l.provides)||(null==m?void 0:m.provides),parentsGarbage:[].concat(i(r,null!=(p=null==m?void 0:m.parentsGarbage)?p:[]),i(r,y))};if("string"==typeof e.id){if(t.has(e))throw new Error('Duplicate block "'+e.id+'" in subtree');t.set(e,_)}return _}),{pattern:"pre-order"}),t}),[e,n,o,a])}},40848:function(e,t,n){"use strict";var r=n(37151);function i(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeProps=t.getProps=t.fillProps=t.isDep=t.isPlainObject=void 0;var o=n(15617);t.isPlainObject=function(e){return(null==e?void 0:e.constructor)===Object},t.isDep=function(e){var t,n;return null!=(t=null==e||null==(n=e.token)?void 0:n.isToken)?t:null==e?void 0:e.isToken},t.fillProps=function(e,n){return Object.keys(e).reduce((function(r,i){var o,a=e[i],s=null!=(o=a.token)?o:a;if((0,t.isDep)(s)){if(n.has(s))r[i]=n.get(s);else if(!a.optional)throw new Error("Не найден провайдер для токена "+s+" ("+String(i)+")")}else r[i]=(0,t.fillProps)(a,n);return r}),{})},t.getProps=function(e,n){var a;if(void 0===e.props)return{};var s=e.props,u=[].concat(i(r,null!=(a=e.providers)?a:[]),i(r,n)),c=(0,o.initContainer)({modules:e.modules,providers:u});return(0,t.fillProps)(s,c)},t.mergeProps=function(e,n,r){if(void 0===r)return e;if(void 0===n)throw new Error("No bota props provided for schema");var i=Object.keys(r).reduce((function(i,o){if(!r[o])return i[o]=e[o],i;var a;if((0,t.isDep)(r[o]))return i[o]=null!=(a=null==n?void 0:n[o])?a:null==e?void 0:e[o],i;if((0,t.isPlainObject)(n[o]))return i[o]=(0,t.mergeProps)(e[o],n[o],r[o]),i;throw new Error('botaProps["'+o+'"] does not matches schema')}),{});return Object.assign({},e,i)}},70956:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createDi=t.ALLOWED_KEYS=void 0,(0,r(n(48945)).default)("page-maker:di"),t.ALLOWED_KEYS=Symbol("allowed_di_keys"),t.createDi=function(e){var n,r=e.dival,i=e.diKeys,o=((n={})[t.ALLOWED_KEYS]=i,n.get=function(e){var n,i=o[t.ALLOWED_KEYS];return(void 0===i||-1!==i.indexOf(e))&&(n=null==r?void 0:r[e]),n},n);return o}},11383:function(e,t,n){"use strict";var r=n(95552),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=void 0;var o=i(n(44121)),a=["Mobile","Desktop","Independent"],s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={},n}r(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.componentDidCatch=function(e,t){var n=this.props.onError;null==n||n(e,Object.assign({},t,{subtree:this.props.subtree}));var r=this.props.eventea,i=this.props.subtree.type;a.some((function(e){return i.includes(e)}))&&(null==r||r.send({project:"boxy",event:"block-error-boundry",payload:{type:i,message:e.stack||e.toString()}}))},n.render=function(){return this.state.error?o.default.createElement("div",{"data-fail-reason":this.state.error,"data-fail-type":this.props.subtree.type}):this.props.render(this.props)},t}(o.default.Component);s.displayName="ErrorBoundary (PageMakerNode)",t.ErrorBoundary=s,t.default=s},74700:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateProps=void 0;var i=r(n(48945)),o=n(70956),a=(0,i.default)("page-maker:di");t.generateProps=function(e,t){var n,r,i=t.children,s=t.ids,u=t.missedDi,c=t.bota,l={};e.hasOwnProperty("type")&&(l.blockType=e.type),e.hasOwnProperty("version")&&(l.schemaVersion=e.version),e.hasOwnProperty("projectTitle")&&(l.blockProject=e.projectTitle);var d=Object.assign({},t.dival),f=function(t){void 0===t&&(t=[]),t.forEach((function(t){d&&t in d||u({key:t,bota:c,subtree:e})}))},p=(0,o.createDi)({dival:d,diKeys:null==(n=c)?void 0:n.diKeys,type:e.type});f(null==(r=c)?void 0:r.diRequiredKeys);var v=d&&Object.keys(d).reduce((function(e,t){var n;return null!=(n=c)&&null!=(n=n.diKeys)&&n.includes(t)&&(e[t]=d[t]),e}),{});return Object.assign({},e.properties,l,{di:p,dival:v,dispatch:function(n){return a.debug({message:"dispatch was called with payload",payload:n}),t.act(n,e,s)},bus:function(n,r){return a.debug({message:"component "+e.id+" is subscribing for event "+n}),t.bus(e.id,n,r)},key:e.id,id:e.id,children:i,forwardDomRef:function(n){return t.saveDomRef(e.id,n,e)}},"sticky"===e.type?{scrollParent:t.scrollParent}:{},{onBotaUpdate:function(e){var t,n;c=e,p[o.ALLOWED_KEYS]=null==(t=c)?void 0:t.diKeys,f(null==(n=c)?void 0:n.diRequiredKeys)}})}},64315:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PAGEMAKER_BUILTIN_BLOCK_TYPES=t.JointMaker=t.NakedMaker=void 0;var a=n(73857),s=o(n(49315));t.JointMaker=s.default;var u=Object.keys(s.known);t.PAGEMAKER_BUILTIN_BLOCK_TYPES=u,t.default=s.default;var c=a.MasterOfScroll;t.NakedMaker=c},49315:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.jointUse=t.known=void 0;var s=o(n(44121)),u=a(n(48945)),c=n(90077),l=n(73857),d=(0,u.default)("page-maker:render");function f(e){var n=e.use,r=e.map;(0,s.useEffect)((function(){var t;return(t=window.__tempref59452)&&(t.pageMaker=t.pageMaker||{},t.pageMaker.props=e),function(){t&&(t.pageMaker=void 0)}}),[]);var i={};return r?i={map:Object.assign({},r,t.known)}:n&&(i={use:function(e,r){return(0,t.jointUse)(e)||(null==n?void 0:n(e,r))}}),s.default.createElement(l.MasterOfScroll,Object.assign({},e,i))}t.known={flex:c.Flex,fragment:c.Fragment,screen:c.Screen},t.jointUse=function(e){var n=e.type;if(void 0!==t.known[n])return d.debug('for type "'+n+'" found build-in component, returning'),t.known[n];d.debug('jointUse: type "'+n+'" not found inside page-maker, going outside')},f.displayName="JointMaker",t.default=f},40482:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=r(n(44121)),o=r(n(10521)),a=r(n(73210)),s=["padding","background","flex","flexDirection","justifyContent","alignItems","borderTop","borderBottom","alignSelf"].concat(["fontSize","fontFamily","fontWeight","color"]),u=function(e,t){return Object.keys(e).reduce((function(n,r){return-1!==t.indexOf(r)&&e[r]&&(n[r]=e[r]),n}),{})};function c(e){var t,n=e.className,r=e.hidden,c=e.html,l=e.forwardDomRef,d=u(e,s),f=(0,o.default)(a.default.flex,n,((t={})[a.default.hidden]=r,t));return c&&!e.children?i.default.createElement("div",{ref:l,dangerouslySetInnerHTML:{__html:c},className:f,style:d}):i.default.createElement("div",{ref:l,className:f,style:d},e.children)}c.displayName="Flex"},90077:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Flex=void 0,t.Fragment=o,t.Screen=a;var i=r(n(40482));function o(e){return e.children}function a(e){return e.children}t.Flex=i.default,o.displayName="PageMakerFragment",a.displayName="PMScreen"},79255:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(44121)).default.createContext({scrollTo:function(e,t){}});i.displayName="StickyContext",t.default=i},73857:function(e,t,n){"use strict";var r=n(80195),i=n(95552),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MasterOfScroll=void 0;var c=s(n(44121)),l=u(n(48945)),d=u(n(79255)),f=u(n(55947)),p=(0,l.default)("page-maker:master-of-scroll"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).contextValue=void 0,n.scrollParentElement=null,n.stack=[],n.beforeHeightsMap={},n.contextValue={scrollTo:n.scrollTo.bind(r(n))},n}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.lazyScrollParent()},n.componentWillUnmount=function(){this.stack=[]},n.lazyScrollParent=function(){if(this.scrollParentElement instanceof HTMLElement)return this.scrollParentElement;var e=null;return this.props.scrollParent&&(e=document.querySelector(this.props.scrollParent)),e instanceof HTMLElement||(e=document.scrollingElement||document.body&&document.body.parentElement),e instanceof HTMLElement&&(this.scrollParentElement=e),p.debug({message:"scrollParentElement",scrollParentElement:e}),this.scrollParentElement},n.scrollTo=function(e,t){void 0===t&&(t={});var n=this.scrollParentElement;if(e instanceof HTMLElement&&n instanceof HTMLElement){var r,i=e.getBoundingClientRect().top+n.scrollTop+(null!=(r=t.offsetTop)?r:0);"function"==typeof this.props.scrollTo?this.props.scrollTo(0,i):"scrollTo"in n?n.scrollTo({left:0,top:i,behavior:"smooth"}):n.scrollTop=i}},n.render=function(){return c.default.createElement(d.default.Provider,{value:this.contextValue},c.default.createElement(f.default,Object.assign({},this.props)))},t}(c.Component);v.displayName="MasterOfScroll",t.MasterOfScroll=v},79171:function(e,t,n){"use strict";var r=n(37151),i=n(37710),o=["subtree","component","hostProviders","dival","act","saveDomRef","scrollParent","missedDi","subscriptions","stickyManager","stickyCounter","nanoProvides","parentsGarbage","children","ids"];function a(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return u(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRenderer=void 0;var d=c(n(44121)),f=l(n(48945)),p=n(6142),v=n(28732),h=n(74700),g=n(40848),m=(0,f.default)("page-maker:node-renderer");t.NodeRenderer=function(e){var t,n,s,u,c=e.subtree,l=e.component,f=e.hostProviders,y=e.dival,b=e.act,_=e.saveDomRef,E=e.scrollParent,w=e.missedDi,S=e.subscriptions,T=e.stickyManager,A=e.stickyCounter,k=e.nanoProvides,O=e.parentsGarbage,C=e.children,R=e.ids,I=i(e,o),N={};l.consumes&&(N=Object.keys(l.consumes).reduce((function(e,t){var n,r=null==(n=l.consumes)?void 0:n[t];if("string"==typeof r&&r.startsWith("EXPERIMENTAL_")){if(!k||!(r in k))throw new Error("token "+r+" is not provided!");e[t]=k[r]}return e}),{}));var M=(0,h.generateProps)(c,{ids:R,children:C,dival:y,bota:l.bota,act:b,saveDomRef:_,scrollParent:E,missedDi:w,bus:function(e,t,n){var r=t+"-"+e;return S.set(r,n),function(){return S.delete(r)}}}),x=[{provide:p.BOXY_DISPATCH,useValue:M.dispatch},{provide:p.BOXY_BUS,useValue:M.bus},{provide:p.BOXY_FORWARD_DOM_REF,useValue:M.forwardDomRef},{provide:p.BOXY_BLOCK_TYPE,useValue:null!=(t=c.type)?t:"unknown"},{provide:p.BOXY_BLOCK_SCHEMA_VERSION,useValue:null!=(n=c.version)?n:"unknown"},{provide:p.BOXY_BLOCK_PROJECT_TITLE,useValue:null!=(s=c.projectTitle)?s:"unknown"}];void 0!==c.properties&&x.push({provide:p.BOXY_PROPERTIES,useValue:c.properties});var P=[].concat(a(r,O),a(r,f),x);m.debug("allProviders",P);var L=(0,d.useMemo)((function(){var e;if(void 0!==(null==(e=l.bota)?void 0:e.props)){var t=l.bota;return(0,g.getProps)(t,P)}}),[l,c.id]);m.debug("botaProps",L);var D=(0,g.mergeProps)(M,L,null==(u=l.bota)?void 0:u.props);return m.debug("resultProps",D),d.default.createElement(v.StickyWrap,Object.assign({},I,D,N,{component:l,componentId:c.id,componentPosition:A,stickyManager:T}))}},55947:function(e,t,n){"use strict";var r=n(1953);function i(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(44121),s=o(n(48945)),u=n(23041),c=n(51092),l=o(n(79255)),d=n(49822),f=(0,s.default)("page-maker:dispatch"),p=(0,s.default)("page-maker"),v=(0,s.default)("page-maker");function h(e){var t=(0,a.useRef)(0);t.current++,v.info("Render count",t.current,e);var n=e.tree,o=e.dival,s=e.saveDomRef,h=e.isConcurrentFeaturesEnabled,g=e.initialStickyOffset,m=e.onBlockRenderError,y=e.providers,b=(0,a.useContext)(l.default),_=(0,a.useState)(new Map),E=i(r,_,1)[0],w=(0,a.useState)(new WeakMap),S=i(r,w,1)[0],T=(0,a.useState)(new Map),A=i(r,T,1)[0],k=(0,a.useRef)([]),O=(0,a.useRef)(!0),C=(0,a.useRef)(new d.StickyManager),R=(0,u.useBlockTreeMap)(n,{blocksMap:e.map,use:e.use,miss:e.miss});g&&C.current.setInitialOffset(g),(0,a.useEffect)((function(){var e=window.__tempref59452;e&&(e.pageMaker=e.pageMaker||{}),(null==e?void 0:e.pageMaker)&&(e.pageMaker.refs=S)}),[]),(0,a.useEffect)((function(){p.debug({event:"reistry",domRegistry:E}),O.current=!1,k.current.length&&(k.current.forEach((function(e){e()})),k.current=[])}),[n]);var I=(0,c.renderTree)(n,{act:function(t,n,r){var i=function(){return function(e,t,n,r){f.debug({event:"action",action:n});var i=t.domRegistry,o=t.stickyContext,a=t.subscriptions,s=t.ids,u=t.stickyManager;if("string"==typeof(null==n?void 0:n.type)){var c=(null==n?void 0:n.payload)||{};switch(null==n?void 0:n.type){case"scrollTo":var l="targetGuid"in c?c.targetGuid:c.blockId;if("string"!=typeof l){v.error("cannot scrollTo, because id is not a string");break}if(o.scrollTo(i.get(l),{offsetTop:-u.getOffset(l)}),!i.has(l)){var d="Failed to scroll to the element with id='"+l+"'.";d=s&&s.has(l)?d+" Tree node id='"+l+"' exists, but html element does not. Make sure forwardDomRef is called.":d+" Tree node id='"+l+"' does not exists. Check block properties.",v.error(d),console.error(d)}break;case"emit":if(c.eventName&&c.blockId){var p=c.eventName+"-"+c.blockId;f.debug("eventName and blockId found in action.payload, key is "+p),a.has(p)?(f.debug("found "+p+" subscription, invoking it with",c.arg),a.get(p)(c.arg)):f.debug("subscription "+p+" not found, all subscriptions:",a)}break;case"send":console.error("Action type send is no longer supported, use emit instead");break;default:"function"==typeof e.act?e.act(n,r):v.warn("action fired, but no one listening",n)}}else v.error('Wrong action shape, no "type: string" found',n)}(e,{domRegistry:E,stickyContext:b,subscriptions:A,ids:r,stickyManager:C.current},t,n)};O.current?k.current.push(i):i()},dival:o,saveDomRef:function(e,t,n){E.set(e,t),S.set(n,t),s&&s(e,t)},subscriptions:A,missedDi:e.missedDi||function(e){},isConcurrentFeaturesEnabled:h,onBlockRenderError:m,stickyManager:C.current,eventea:e.eventea,blocksTreeMap:R,hostProviders:null!=y?y:[]});return I.displayTree}h.displayName="PureMaker",t.default=h},51092:function(e,t,n){"use strict";var r=n(37710),i=["eventea","subtree","onError","render"],o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTree=function(e,t){var n,o=0,a=new Set,s=t.blocksTreeMap,u=t.hostProviders;return v.debug({event:"renderTree",tree:e,options:t}),n=e?(0,d.traverseTree)(e,(function(e,n,l){var d,v,h=l.depth;a.add(e.id),o++,t.stickyManager.setComponentPosition(e.id,o);var g=s.get(e);if(!g)throw new Error("Block with id "+e.id+" not found in the blocksMap");var m=g.component,y=g.provides,b=g.parentsGarbage,_={subtree:e,component:m,hostProviders:u,dival:t.dival,act:t.act,saveDomRef:t.saveDomRef,scrollParent:t.scrollParent,missedDi:t.missedDi,subscriptions:t.subscriptions,stickyManager:t.stickyManager,stickyCounter:o,nanoProvides:y,parentsGarbage:b,children:n,ids:a,key:e.id},E=c.default.createElement(f.ErrorBoundary,{key:e.id,eventea:null!=(d=t.eventea)?d:null==(v=t.dival)?void 0:v.eventea,subtree:e,onError:t.onBlockRenderError,render:function(e){e.eventea,e.subtree,e.onError,e.render;var t=r(e,i);return c.default.createElement(p.NodeRenderer,Object.assign({},t,_))}});return t.isConcurrentFeaturesEnabled&&1===h?c.default.createElement(c.Suspense,{fallback:null},E):E})):null,v.debug({event:"renderTreeResult",result:n,counter:o}),{displayTree:n,counter:o}};var c=s(n(44121)),l=u(n(48945)),d=n(89938),f=n(11383),p=n(79171),v=(0,l.default)("page-maker:render")},49822:function(e,t,n){"use strict";var r=n(1953);function i(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return a(t,void 0!==n&&n<r?n:r)}return e(t,n)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.StickyManager=void 0;var s=function(){function e(e){this.heights=new Map,this.positions=new Map,this.exists=new Map,this.initialOffset=void 0,this.handlers=new Map,this.initialOffset=null!=e?e:0}var t=e.prototype;return t.setInitialOffset=function(e){this.initialOffset=e},t.setComponentPosition=function(e,t){this.positions.set(e,t)},t.setComponentHeight=function(e,t){var n=this.heights.get(e);this.heights.set(e,t),n&&n===t||this.triggerOffsetChange(this.positions.get(e))},t.removeComponentHeightAndPosition=function(e){void 0!==this.positions.get(e)&&(this.heights.delete(e),this.positions.delete(e))},t.removeComponentHandler=function(e){this.handlers.get(e)&&this.handlers.delete(e)},t.getOffset=function(e){for(var t,n=this.initialOffset,a=this.positions.get(e),s=o(this.heights.entries(),!0);!(t=s()).done;){var u=i(r,t.value,2),c=u[0],l=u[1];if(this.exists.get(c)){var d=this.positions.get(c);void 0!==l&&void 0!==d&&d<a&&(n+=l)}else this.removeComponentHeightAndPosition(c)}return n},t.setOffsetChangeHandler=function(e,t){this.handlers.set(e,t)},t.setComponentExists=function(e,t){this.exists.set(e,t)},t.triggerOffsetChange=function(e){for(var t,n=o(this.handlers.entries(),!0);!(t=n()).done;){var a=i(r,t.value,2),s=a[0],u=a[1];this.exists.get(s)?this.positions.get(s)>e&&u():this.removeComponentHandler(s)}},e}();t.StickyManager=s},28732:function(e,t,n){"use strict";var r=n(1953),i=n(37710),o=["component","componentId","componentPosition","stickyManager"];var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StickyWrap=l;var c=u(n(44121));function l(e){var t=e.component,n=e.componentId,a=e.componentPosition,s=e.stickyManager,u=i(e,o),l=(0,c.useState)(!0),d=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r,l,2),f=d[0],p=d[1],v=(0,c.useCallback)((function(){return p(!f)}),[f,p]);s.setComponentExists(n,!0),(0,c.useEffect)((function(){return s.setOffsetChangeHandler(n,v),function(){return s.removeComponentHandler(n)}}),[s,n,v]);var h=(0,c.useCallback)((function(e){var t=e.height;s.setComponentHeight(n,t),s.setComponentPosition(n,a)}),[s,n]);return(0,c.useEffect)((function(){return s.setComponentExists(n,!0),function(){return s.setComponentExists(n,!1)}})),c.default.createElement(t,Object.assign({},u,{registerSticky:h,stickyOffset:s.getOffset(n)}))}l.displayName="StickyWrap (PageMakerNode)"},71833:function(e,t,n){"use strict";n.d(t,{z:function(){return h}});var r=n(45232),i=n(17935),o=n.n(i),a=n(89938),s=n(28288),u=n.n(s),c=n(83958),l=n.n(c);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){return!e||e.length<=0?{}:e.reduce((function(e,t){var n=t.type,r=t.component;return e[n]=r,e}),{})},v=["flex","fragment","screen"],h=function(){function e(e){var t=e.fallbackMapping,n=e.customMapping,r=e.baseMappingExtensions,i=e.boxyLazy,o=e.overwritingMappingExtension,a=e.refreshMappings,s=e.boxyBaseUrl,u=e.urlRewrite;this.map={},this.fallbackMapping=p(t),this.customMapping=p(n),this.baseMappingExtensions=r,this.boxyLazy=i||void 0,this.overwritingMappingExtension=o,this.refreshMappings=a,this.boxyBaseUrl=s&&(s.endsWith("/")?s:s+"/"),this.urlRewrite=u}var t=e.prototype;return t.getBaseMappingExtension=function(){return this.baseMappingExtensions?function(e){for(var t,n={},r=d(e,!0);!(t=r()).done;){var i=t.value;if("function"==typeof i&&(i=i()),Array.isArray(i))for(var o,a=d(i,!0);!(o=a()).done;){var s=o.value;n=u()(n,s)}else n=u()(n,i)}return n}(this.baseMappingExtensions):void 0},t.registerMap=function(e){this.map=e},t.registerTree=function(e){this.tree=e},t.getTree=function(){return this.tree},t.transformTree=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.internalTransformTree());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.internalTransformTree=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,s,u=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),n=this.tree,r=this.getBaseMappingExtension(),i=!1,n){e.next=6;break}return e.abrupt("return",n);case 6:if(s=(0,a.mapTree)(n,(function(e){var t,n,o,a,s,c,d,f,p,h,g,m=null===(t=null==r?void 0:r[e.type])||void 0===t?void 0:t[e.version],y=u.fallbackMapping[e.type],b=null!==(a=null!==(n=null==m?void 0:m.lazy)&&void 0!==n?n:null===(o=e.render)||void 0===o?void 0:o.lazy)&&void 0!==a?a:null===(s=u.boxyLazy)||void 0===s?void 0:s.lazy,_=null===(d=null===(c=u.overwritingMappingExtension)||void 0===c?void 0:c[e.type])||void 0===d?void 0:d[e.version];if(!(y||m||_||e.render||-1!==v.indexOf(e.type)))return void 0!==e.type&&(i=!0),e;if((null===(f=u.boxyLazy)||void 0===f?void 0:f.lazy)||m||_){var E,w=null!=m?m:e.render;(null===(p=e.render)||void 0===p?void 0:p.overwriteLocal)&&(w=e.render),_?E=_:w&&(E=Object.assign({},w,b&&{lazy:b})),g=Object.assign({},e,{render:E})}var S=g||e;if(u.boxyBaseUrl&&(null===(h=S.render)||void 0===h?void 0:h.npmVersion)&&(!("clientJs"in S.render)||!S.render.clientJs)){var T=l()(e.type),A=""+u.boxyBaseUrl+T+"/"+S.render.npmVersion+"/"+T;(g=g||Object.assign({},S)).render=Object.assign({},g.render,{npmVersion:void 0,clientJs:A+".client.js",serverJs:A+".server.js",css:A+".css"})}var k=g||e;if(u.urlRewrite&&k.render&&"clientJs"in k.render){var O=k.render.clientJs?u.urlRewrite(k.render.clientJs):k.render.clientJs,C=k.render.serverJs?u.urlRewrite(k.render.serverJs):k.render.serverJs,R=k.render.css?u.urlRewrite(k.render.css):k.render.css;O===k.render.clientJs&&R===k.render.css&&C===k.render.serverJs||(k=Object.assign({},k,{render:Object.assign({},k.render,{clientJs:O,serverJs:C,css:R})}))}return k})),!i||t||!this.refreshMappings||!r){e.next=13;break}return e.next=10,this.refreshMappings();case 10:if(!e.sent.length){e.next=13;break}return e.abrupt("return",this.internalTransformTree(!0));case 13:return this.tree=s,e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getComponent=function(e,t,n){var r,i=e.type,o=e.render;if(void 0===t&&(t={}),void 0===n&&(n={}),o){var a="clientJs";r=a in o?o[a]:i+"@"+o.npmVersion}return n[i]||this.customMapping[i]||r&&this.map[r]||t[i]||this.fallbackMapping[i]},t.createUse=function(e){var t=this;return void 0===e&&(e={}),function(n){return t.getComponent(n,e.fallbackBlockMap,e.customBlockMap)||e.notFound}},e}()},15081:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},80211:function(e,t,n){"use strict";n.d(t,{e:function(){return l},w:function(){return c}});var r=n(65641),i=n(35207),o=n(59999),a=n(32431),s=n(16842),u=n(67584),c=(0,o.V3)("isDiChildContainer"),l=function(e){function t(t,n){var i;return(i=e.call(this,void 0,n)||this).root=t,i.register({provide:s.Z,useValue:(0,r.Z)(i),scope:u.s.REQUEST}),i.register({provide:c,useValue:!0}),i}(0,i.Z)(t,e);var n=t.prototype;return n.getRecord=function(t){return e.prototype.getRecord.call(this,t)||this.root.getRecord(t)},n.getValue=function(e){return this.recordValues.has(e)?this.recordValues.get(e):e.scope!==u.s.SINGLETON&&e.factory?a.L:this.root.getValue(e)},n.hydrateDeps=function(t){return t.scope===u.s.REQUEST?e.prototype.hydrateDeps.call(this,t):e.prototype.hydrateDeps.call(this.root,t)},n.hydrate=function(t,n,r){return t.scope===u.s.REQUEST?e.prototype.hydrate.call(this,t,n,r):e.prototype.hydrate.call(this.root,t,n,r)},t}(a.W)},32431:function(e,t,n){"use strict";n.d(t,{W:function(){return f},L:function(){return u}});var r=n(67584),i=function(e,t){var n=new Error(e);return Object.assign(n,Object.assign({},t,{stack:t.stack?n.stack+"\n---- caused by: ----\n"+t.stack:n.stack}))},o=n(16842),a=n(59999);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u="__NOT_YET__MARKER",c="__CIRCULAR__MARKER";function l(e){return e.isModernToken?e.name:Symbol.for(e.toString())}function d(e,t,n,r,i,o){return{factory:e,resolvedDeps:t,scope:n,multi:r?[]:void 0,stack:i,staticValue:o}}var f=function(){function e(e,t){var n=this;this.records=new Map,this.recordValues=new Map,e&&e.forEach((function(e){return n.register(e)})),this.fallback=t,this.register({provide:o.Z,useValue:this,scope:r.s.SINGLETON})}var t=e.prototype;return t.get=function(e){var t,n,o,s=!1,u=!1;"string"==typeof e?o=e:"token"in e?(o=e.token,s=e.optional,u=(null===(t=o.options)||void 0===t?void 0:t.multi)||!1):o=e,o=l(o);var c=this.getRecord(o);return!c&&(null===(n=this.fallback)||void 0===n?void 0:n.getRecord(o))?this.fallback.get(e):!c&&s?u?[]:null:(function(e,t){if(void 0===e){var n=(0,a.HY)(t);throw i('Token not found "'+n+'"',{type:r.D.NOT_FOUND})}}(c,o),this.hydrate(c,o,s))},t.getOfDeps=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.get(e[n]));return t},t.getRecord=function(e){return this.records.get(e)},t.has=function(e){return!!this.getRecord(l(e))},t.borrowToken=function(e,t){var n=l(t);if(!this.getRecord(n)){var r=e.getRecord(n);if(r){if(r.multi)for(var i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.multi,!0);!(i=o()).done;){var a=i.value;this.recordValues.set(a,u)}this.records.set(n,r),this.recordValues.set(r,u)}}},t.getValue=function(e){return this.recordValues.get(e)},t.register=function(e){return function(e){if("string"!=typeof e.provide){var t=e.provide.options;if(!e.provide.isModernToken&&t&&t.multi&&!e.multi)throw i("Token "+e.provide.toString()+" require multi providers",{type:r.D.REQUIRE_MULTI,stack:e.__stack})}}(e),this.processProvider(e)},t.processProvider=function(e){var t,n=l(e.provide),o=function(e){var t,n,i,o=null!==(t=e.provide.isModernToken&&e.provide.options.scope)&&void 0!==t?t:r.s.REQUEST,a=!1;return"useFactory"in e?(n=function(t){return e.useFactory(t)},"deps"in e&&(i=e.deps),e.scope?o=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(o=e.provide.options.scope)):"useClass"in e?(n=function(t){return new e.useClass(t)},"deps"in e&&(i=e.deps),e.scope?o=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(o=e.provide.options.scope)):(n=function(){return e.useValue},a=!0,e.scope?o=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(o=e.provide.options.scope)),d(n,i,o,!1,e.__stack,a)}(e),s=function(e){return"useValue"in e?e.useValue:u}(e);if(e.provide.isModernToken&&(null===(t=e.provide.options)||void 0===t?void 0:t.multi)||e.multi){var c=this.getRecord(n);if(c){if(void 0===c.multi)throw i("Mixed multi-provider for "+(0,a.HY)(n),{type:r.D.MIXED_MULTI,stack:e.__stack})}else c=d(void 0,{},e.scope||e.provide.isModernToken&&e.provide.options.scope||r.s.REQUEST,!0,e.__stack),this.records.set(n,c),this.recordValues.set(c,u);c.multi.push(o)}else this.records.set(n,o);this.recordValues.set(o,s)},t.hydrateDeps=function(e){return this.getOfDeps(e.resolvedDeps)},t.hydrate=function(e,t,n){var o=this,s=this.getValue(e);if(function(e,t,n){if(n===c){var o=(0,a.HY)(t);throw i('Circular dep for "'+o+'"',{type:r.D.CIRCULAR_DEP,stack:e.stack})}}(e,t,s),s!==u)return s;if(e.multi){this.recordValues.set(e,c);try{s=e.multi.map((function(e){return o.hydrate(e,t,!1)}))}catch(t){throw this.recordValues.set(e,u),t}}else{this.recordValues.set(e,c);try{s=e.factory(this.hydrateDeps(e))}catch(i){if(this.recordValues.set(e,u),n&&i.type===r.D.NOT_FOUND)return null;!function(e,t){var n=(0,a.HY)(e);throw t.__extendedWithStack?t.message+=" < "+n:(t.__extendedWithStack=!0,t.message=t.message+' at "'+n+'"'),Object.hasOwnProperty.call(t,"stack")&&"string"==typeof t.stack&&(t.stack=t.stack.replace(/^.+\n/,t.name+": "+t.message+"\n")),t}(t,Object.assign(i,{stack:!e.stack||/---- caused by: ----/g.test(i.stack)?i.stack:i.stack+"\n---- caused by: ----\n"+(e.stack||"")}))}}return this.recordValues.set(e,s),s},e}()},67584:function(e,t,n){"use strict";n.d(t,{D:function(){return i},s:function(){return r}});var r={REQUEST:"request",SINGLETON:"singleton"},i={NOT_FOUND:"NotFound",CIRCULAR_DEP:"CircularDep",REQUIRE_MULTI:"RequireMulti",MIXED_MULTI:"MixedMulti",WRONG_FORMAT:"WrongFormat"}},40186:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(80211);function i(e,t){var n=new r.e(e);return t&&t.forEach((function(e){n.register(e)})),n}},95738:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(32431);function i(e){return new r.W(e)}},59999:function(e,t,n){"use strict";function r(e){return e.toString().replace(/^Symbol\((.+)\)$/,"$1")}n.d(t,{HY:function(){return r},V3:function(){return o},jt:function(){return a}});var i=function(){function e(e,t){void 0===t&&(t={}),this.isToken=!0,this.isModernToken=!0,this.name=e?Symbol.for(e):Symbol("token"),this.options=t}return e.prototype.toString=function(){return r(this.name)},e}();function o(e,t){return new i(e,t)}function a(e){return{token:e,optional:!0}}},15617:function(e,t,n){"use strict";n.r(t),n.d(t,{ChildContainer:function(){return i.e},Container:function(){return r.W},DI_TOKEN:function(){return v.Z},INVALID_MODULE_ERROR:function(){return c.I},IS_DI_CHILD_CONTAINER_TOKEN:function(){return i.w},MODULE_PARAMETERS:function(){return u.e},Module:function(){return u.Y},Scope:function(){return p.s},createChildContainer:function(){return d.H},createContainer:function(){return o.f},createToken:function(){return f.V3},declareModule:function(){return g.J},getModuleParameters:function(){return a.s},initContainer:function(){return l},isExtendedModule:function(){return s.W},optional:function(){return f.jt},provide:function(){return h.J},walkOfModules:function(){return c.l}});var r=n(32431),i=n(80211),o=n(95738),a=n(54499),s=n(56245),u=n(80283),c=n(50561),l=function(e){var t=void 0===e?{}:e,n=t.modules,r=void 0===n?[]:n,i=t.initialProviders,l=void 0===i?[]:i,d=t.providers,f=void 0===d?[]:d,p=(0,o.f)(),v=new Set,h=function(e){e.forEach((function(e){p.register(e)}))};return h(l),(0,c.l)(r).forEach((function(e){var t=(0,a.s)(e);v.add((0,s.W)(e)?e.mainModule:e),h(t.providers)})),h(f),v.forEach((function(e){new e(function(e){var t=e[u.e].deps;if(t)return p.getOfDeps(t)}(e))})),p},d=n(40186),f=n(59999),p=n(67584),v=n(16842),h=n(97570),g=n(66598)},66598:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r="_module_parameters_";function i(e){var t,n=e.name,i=e.providers,o=void 0===i?[]:i,a=e.imports,s=void 0===a?[]:a,u=e.extend,c=void 0===u?{}:u,l=function(){},d={},f=function(){var e=c[p];d[p]=function(){return{mainModule:l,providers:e.apply(void 0,arguments)}}};for(var p in c)f();return Object.assign(l,((t={})[r]={name:n,id:n+"-"+Math.random(),providers:o,imports:s},t),d),l}},54499:function(e,t,n){"use strict";n.d(t,{s:function(){return o}});var r=n(80283),i=n(56245),o=function(e){var t;if((0,i.W)(e)){var n=e.mainModule[r.e];(t=Object.assign({},n)).providers=t.providers.concat(e.providers||[]);var o=t.imports||[];t.imports=o.concat(e.imports||[])}else t=e[r.e];return t}},56245:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){return!!e.mainModule}},80283:function(e,t,n){"use strict";n.d(t,{Y:function(){return i},e:function(){return r}});var r="_module_parameters_";function i(e){var t=e.providers,n=e.imports,i=e.deps,o=void 0===i?{}:i;return function(e){var i;return Object.assign(e,((i={})[r]={providers:t,deps:o,imports:n,name:e.name,id:e.name+"-"+Math.random()},i))}}},50561:function(e,t,n){"use strict";n.d(t,{I:function(){return a},l:function(){return s}});var r=n(80283),i=function e(t){return!1!==Boolean(t)&&(r.e in t||"mainModule"in t&&e(t.mainModule))},o=n(54499),a="An invalid module was passed in the list of modules",s=function(e){var t=[],n=new Set,r=new Set,s=function e(s){if(!i(s))throw new Error(a);var u=(0,o.s)(s);n.has(u.id)||(n.add(u.id),r.add(u.name),u.imports&&u.imports.forEach((function(t){e(t)})),t.push(s))};return e.forEach((function(e){s(e)})),t}},97570:function(e,t,n){"use strict";function r(e){return e}n.d(t,{J:function(){return r}})},16842:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=(0,n(59999).V3)("di")},8751:function(e,t,n){"use strict";var r=n(17935),i=n(56330),o=n(37151);function a(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return u(t,void 0!==n&&n<r?n:r)}return e(t,n)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.EventeaBeerClient=void 0;var c=64e3,l=function(){function e(e){var t=this;this.batch=[],this.timer=null;var n=e.baseUrl,r=e.batching;this._request=function(e){return fetch(""+n+e.method,Object.assign({},e,{method:e.httpMethod,keepalive:null==r?void 0:r.batchingEnable})).then((function(e){return e.json()}))},this.batchingEnable=(null==r?void 0:r.batchingEnable)||!1,this.batchSize=(null==r?void 0:r.batchSize)||50,this.batchDelay=(null==r?void 0:r.batchDelay)||50,document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t.sendRemainingBatch()}))}var t=e.prototype;return t.event=function(e){var t=this,n=this.formatEvent(e);return this.batchingEnable?(this.batch.push(n),this.batch.length>=this.batchSize?this.sendBatch():(1===this.batch.length&&(this.timer=setTimeout((function(){return t.sendBatch()}),this.batchDelay)),Promise.resolve())):this.sendImmediately(n)},t.sendAbstractEvent=function(e){this.event(e)},t.formatEvent=function(e){var t,n,r,i,o,a=(null===(t=e.handlersData)||void 0===t?void 0:t.blockType)||(null===(n=e.payload)||void 0===n?void 0:n.blockType),s=(null===(r=e.handlersData)||void 0===r?void 0:r.blockProject)||(null===(i=e.payload)||void 0===i?void 0:i.blockProject);return{project:e.project,event:e.event,payload:Object.assign({},e.payload||{},{appName:null===(o=e.handlersData)||void 0===o?void 0:o.appName,blockType:a,blockProject:s})}},t.sendRequest=function(e){return this._request({method:"event",httpMethod:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"},credentials:"omit"}).catch((function(){}))},t.sendImmediately=function(e){return this.sendRequest(e)},t.calculateBatchSize=function(e){var t=JSON.stringify(e);return new Blob([t]).size},t.splitBatch=function(e){var t=[],n=[];if(this.calculateBatchSize(e)<=c)return[e];for(var r,i=s(e,!0);!(r=i()).done;){var u=r.value;if(this.calculateBatchSize([u])>c)this.sendRequest({project:"eventea",event:"keepAliveDataExceed",payload:{eventName:u.event}});else{var l=[].concat(a(o,n),[u]);this.calculateBatchSize(l)<=c?n=l:(t.push(n),n=[u])}}return n.length>0&&t.push(n),t},t.sendBatch=function(){var e=i(r.mark((function e(){var t,n,i,o,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.batch,n=this.splitBatch(t),this.batch=[],this.timer&&(clearTimeout(this.timer),this.timer=null),i=s(n,!0);case 5:if((o=i()).done){e.next=11;break}return a=o.value,e.next=9,this.sendRequest(a);case 9:e.next=5;break;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sendRemainingBatch=function(){this.batch.length>0&&this.sendBatch()},e}();t.EventeaBeerClient=l},67186:function(e,t,n){"use strict";var r=n(17935),i=n(56330);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.ClientLoader=void 0;var a=n(99236),s=function(){return{}},u=function(){function e(e){var t=this;this.projectSingleLoaders={},this.getSingleLoaderInstance=function(e){var n="string"==typeof e?e:e.projectName,r="string"==typeof e?void 0:e.fallback;return new a.ClientSingleLoader({projectName:n,fallback:r,handleRequestError:t.handleRequestError,timeout:t.timeout,baseUrl:t.baseUrl})},this.getPreloadRoutings=function(){for(var e,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.preloadProjects,!0);!(e=n()).done;){var r=e.value,i="string"==typeof r?r:r.projectName;t.projectSingleLoaders[i]=t.getSingleLoaderInstance(r),t.projectSingleLoaders[i].handleRequest()}},this.addNewLoaderInstance=function(e){return t.projectSingleLoaders[e]=t.getSingleLoaderInstance(e),t.projectSingleLoaders[e]};var n=e.baseUrl,r=e.preloadProjects,i=e.timeout,u=e.handleRequestError;this.preloadProjects=r,this.baseUrl=n,this.timeout=i,this.handleRequestError=u||s,this.getPreloadRoutings()}return e.prototype.getRouting=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t in this.projectSingleLoaders?this.projectSingleLoaders[t].getRouting():this.addNewLoaderInstance(t).getRouting());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}();t.ClientLoader=u},19434:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(67186),t)},77202:function(e,t,n){"use strict";var r=n(17935),i=n(56330);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.requestWithRetry=t.handleRetryOptions=void 0;var s=function(e,t){return setTimeout((function(){return e.abort()}),t)},u=function(){var e=i(r.mark((function e(t){var n,i,o,a,u,c;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.timeout,i=void 0===n?5e3:n,o=t.url,a=new AbortController,u=s(a,i),e.next=5,fetch(o,Object.assign({},t,{signal:a.signal}));case 5:return c=e.sent,clearTimeout(u),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleRetryOptions=function(e){var t={timeout:null==e?void 0:e.timeout,retry:null==e?void 0:e.retry,retryTimeout:null==e?void 0:e.retryTimeout};return t.retry=t.retry?t.retry:t.timeout&&t.retryTimeout?t.timeout/t.retryTimeout:2,t.retryTimeout=t.retryTimeout?t.retryTimeout:t.timeout&&t.retry?t.timeout/t.retry:2500,t.timeout=t.timeout?t.timeout:t.retryTimeout&&t.retry?t.retryTimeout*t.retry:15e3,t};var c=function(){var e=i(r.mark((function e(n,i){var a,s,c,l,d,f,p,v,h,g,m,y;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=function(){var e;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<l)){t.next=7;break}return t.next=4,u({url:n,timeout:d});case 4:e+=1,t.next=1;break;case 7:case"end":return t.stop()}}),a)},a=r.mark(v),c=(0,t.handleRetryOptions)(i),l=c.retry,d=c.retryTimeout,h=o(v(),!0);case 4:if((g=h()).done){e.next=19;break}return m=g.value,e.prev=6,e.next=9,m;case 9:return f=e.sent,e.abrupt("break",19);case 13:return e.prev=13,e.t0=e.catch(6),p=e.t0,e.abrupt("continue",17);case 17:e.next=4;break;case 19:if(f){e.next=21;break}throw p;case 21:if(!(null===(s=f.headers.get("content-type"))||void 0===s?void 0:s.includes("application/json"))){e.next=27;break}return e.next=24,f.json();case 24:y=e.sent,e.next=31;break;case 27:if(!f){e.next=31;break}return e.next=30,f.text();case 30:y=e.sent;case 31:return e.abrupt("return",{status:f.status,body:y});case 32:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n){return e.apply(this,arguments)}}();t.requestWithRetry=c},99236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientSingleLoader=t.requestWithRetry=void 0;var r=n(77202),i=n(87088),o=n(77202);Object.defineProperty(t,"requestWithRetry",{enumerable:!0,get:function(){return o.requestWithRetry}});var a=function(){function e(e){var t=this;this.currentRequest=null,this.makeRequest=function(){t.currentRequest=t.request(t.url,{timeout:t.timeout}),t.currentRequest.then((function(e){e.status>=400?t.handleRequestError({project:t.project,status:e.status}):i.routingValidator.check(e.body)?t.currentRouting=e.body:t.handleRequestError({project:t.project,validationErrors:i.routingValidator.getErrors(e.body)})}),(function(e){t.handleRequestError({project:t.project,reason:e})})).finally((function(){t.currentRequest=null}))};var n=e.url,o=e.baseUrl,a=e.projectName,s=e.timeout,u=void 0===s?5e3:s,c=e.fallback;if(this.project=a,this.url=n||function(e,t){var n=t;return t.endsWith("/")||(n+="/"),n+"v4/"+e+".json"}(a,o),this.handleRequestError=e.handleRequestError,this.timeout=u,this.request=r.requestWithRetry,c){if(!i.routingValidator.check(c)){var l=i.routingValidator.getErrors(e.fallback);throw new Error("fallback должен быть валидным роутингом:\n"+l.join("\n"))}this.fallback=c}}var t=e.prototype;return t.handleRequest=function(){this.currentRouting||this.currentRequest||this.makeRequest()},t.getRouting=function(){var e=this;return this.handleRequest(),this.currentRouting?Promise.resolve(this.currentRouting):this.currentRequest?this.currentRequest.then((function(){return e.currentRouting||e.fallback||Promise.reject(void 0)}),(function(){return e.fallback?e.fallback:Promise.reject(void 0)})):Promise.reject(void 0)},e}();t.ClientSingleLoader=a},87088:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.routingValidator=void 0,t.routingValidator={check:function(e){if(e&&"object"==typeof e){var t=e;return!(!t.version||!t.events||"v4"!==t.version)}return!1},getErrors:function(e){return[JSON.stringify(e)+": doesn't match a valid v4 routing schema"]}}},66348:function(e,t,n){"use strict";var r=n(40941);Object.defineProperty(t,"__esModule",{value:!0}),t.EventeaDataState=void 0;var i=function(){function e(e){this.__state={},(null==e?void 0:e.initData)&&e.initData&&(this.__state=e.initData)}var t=e.prototype;return t.add=function(e){var t=e.project,n=e.payload;this.__state[t]=Object.assign({},this.__state[t],n)},t.get=function(e,t){if(this.__state[e])return this.__state[e][t]},r(e,[{key:"_getAll",get:function(){return this.__state}}]),e}();t.EventeaDataState=i},58107:function(e,t){"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagMessageType=t.HandlerStatus=t.SentStatus=t.IncompleteReason=void 0,t.sendDiagMessage=function(e){try{var t=new CustomEvent("__evntx10t",{bubbles:!0,detail:e});document.dispatchEvent(t)}catch(e){}},function(e){e[e.MissedProject=0]="MissedProject",e[e.MissedRouting=1]="MissedRouting",e[e.MissedEvent=2]="MissedEvent",e[e.MissedRoutes=3]="MissedRoutes"}(n||(t.IncompleteReason=n={})),function(e){e[e.Routed=0]="Routed",e[e.IncompleteRouting=1]="IncompleteRouting",e[e.Deprecated=2]="Deprecated",e[e.Dead=3]="Dead"}(r||(t.SentStatus=r={})),function(e){e[e.Handled=0]="Handled",e[e.MissedHandler=1]="MissedHandler",e[e.HandlerErrored=2]="HandlerErrored"}(i||(t.HandlerStatus=i={})),function(e){e[e.SendStart=0]="SendStart",e[e.SentStats=1]="SentStats"}(o||(t.DiagMessageType=o={}))},87338:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EventeaFeaturesBits=void 0,function(e){e[e.DiagStats=1]="DiagStats"}(n||(t.EventeaFeaturesBits=n={}))},73057:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(87338),t),i(n(58107),t)},53986:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPostMessage=void 0;var n=window;t.sendPostMessage=function(e){var t,r=e.type,i=e.payload,o=e.config,a=void 0===o?{}:o,s=a.targetOrigin,u=void 0===s?"*":s,c=a.payloadProperty;n&&(n.top||n.opener||n.parent).postMessage(JSON.stringify(Object.assign({type:r},c?((t={})[c]=i,t):i)),u)}},33647:function(e,t,n){"use strict";var r=n(37151),i=n(40941);function o(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.EventeaQueueObserver=t.EventeaQueue=t.EventeaStatistQueue=void 0;var a=n(53328);Object.defineProperty(t,"EventeaStatistQueue",{enumerable:!0,get:function(){return a.EventeaStatistQueue}});var s=window,u=function(){var e=t.prototype;function t(e){var t,n;this.errorHandlers=null==e?void 0:e.errorHandlers,s?!s._evnteq&&(s._evnteq=[]):null===(n=null===(t=this.errorHandlers)||void 0===t?void 0:t.handleQueueUsageAtServer)||void 0===n||n.call(t)}return e.__addEventToStore=function(){var e;(null==s?void 0:s._evnteq)&&(e=s._evnteq).push.apply(e,arguments)},e.send=function(e){this.__addEventToStore(["send",e])},e.sendOnce=function(e){return this.__addEventToStore(["sendOnce",e]),!0},e.data=function(e){this.__addEventToStore(["data",e])},i(t,[{key:"getQueue",get:function(){var e;return Array.isArray(null==s?void 0:s._evnteq)?null==s?void 0:s._evnteq:null===(e=null==s?void 0:s._evnteq)||void 0===e?void 0:e.queue}}]),t}();t.EventeaQueue=u;var c=function(){function e(e){var t,n,i;(this.observerSuspended=!1,this.queue=[],this.errorHandlers=null==e?void 0:e.errorHandlers,s)?(Array.isArray(s._evnteq)&&(i=this.queue).push.apply(i,o(r,s._evnteq)),s._evnteq=this):(this.observerSuspended=!0,null===(n=null===(t=this.errorHandlers)||void 0===t?void 0:t.handleQueueUsageAtServer)||void 0===n||n.call(t))}return e.prototype.push=function(){for(var e,t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(this.watcher)try{this.watcher(i)}catch(n){var a=n.message;null===(t=null===(e=this.errorHandlers)||void 0===e?void 0:e.handleObserverWatcherErrors)||void 0===t||t.call(e,a)}else(n=this.queue).push.apply(n,i)},i(e,[{key:"watch",set:function(e){var t,n;this.observerSuspended?null===(n=null===(t=this.errorHandlers)||void 0===t?void 0:t.handleQueueUsageAtServer)||void 0===n||n.call(t):(this.watcher=e,this.push.apply(this,o(r,this.queue)),this.queue=[])}}]),e}();t.EventeaQueueObserver=c},53328:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventeaStatistQueue=void 0;var n="eventeaStatist";t.EventeaStatistQueue=function(){var e=this;this.instance=null,this.resolveInstance=function(){},this.instancePromise=new Promise((function(t){e.resolveInstance=t})),this.updateClientParameters=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;if(e.instance)return(i=e.instance).updateClientParameters.apply(i,n);e.instancePromise.then((function(e){return e.updateClientParameters.apply(e,n)}))},this.updateABGroups=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;if(e.instance)return(i=e.instance).updateABGroups.apply(i,n);e.instancePromise.then((function(e){return e.updateABGroups.apply(e,n)}))};var t=function(t){e.instance=t,e.resolveInstance(t)},r=window[n];if(r)t(r);else{var i=Object.getOwnPropertyDescriptor(window,n);Object.defineProperty(window,n,{set:function(e){var n;null===(n=null==i?void 0:i.set)||void 0===n||n.call(i,e),t(e)},configurable:!0})}}},7527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Eventea=void 0;var r=n(8751),i=n(66348),o=n(53986),a=n(73057),s=n(73057),u=n(64153),c=function(){function e(e){if(this.defaultEventHandlers=Object.assign({},e.defaultEventHandlers),this.defaultDataHandlers=Object.assign({},e.defaultDataHandlers),window.__evntfxb1ts||(window.__evntfxb1ts=s.EventeaFeaturesBits.DiagStats),this.defaultEventHandlers.postMessage=function(e){var t=e.event,n=e.config,r=e.payload;return(0,o.sendPostMessage)({type:t,config:n,payload:r})},e.beerBaseUrl){var t=new r.EventeaBeerClient({baseUrl:e.beerBaseUrl,batching:e.batchingConfig});this.defaultEventHandlers["eventea-beer"]=function(e){return null==t?void 0:t.sendAbstractEvent(e)}}this.routingClientLoader=e.routingClientLoader,this.projectConfigurationMap=e.projectConfigurationMap,this.errorHandlers=e.errorHandlers,this.handlersData=e.handlersData||{},this.onceSentEvents=e.onceSentEvents||new Map,this.handleAnyEvent=e.handleAnyEvent,this.eventeaDataState=new i.EventeaDataState({initData:e.data}),this.eventeaReferenceDataState=e.referenceData}var t=e.prototype;return t.doSend=function(e){var t,n,r,i,o=this,s=e.project,c=e.event,l=this.projectConfigurationMap[s],d=e,f=function(t){return(0,a.sendDiagMessage)({type:a.DiagMessageType.SentStats,event:e,stats:t})};if(!l)return this.errorHandlers.handleMissedProject({event:c,project:s}),void f({status:a.SentStatus.IncompleteRouting,reason:a.IncompleteReason.MissedProject});var p=l.routing;if(!p)return this.errorHandlers.handleMissedRouting({project:s}),void f({status:a.SentStatus.IncompleteRouting,reason:a.IncompleteReason.MissedProject});var v=p.events;if(!v)return this.errorHandlers.handleMissedRouting({project:s}),void f({status:a.SentStatus.IncompleteRouting,reason:a.IncompleteReason.MissedRouting});var h=v[c];if(!h)return this.errorHandlers.handleMissedEvent({event:c,project:s}),void f({status:a.SentStatus.IncompleteRouting,reason:a.IncompleteReason.MissedEvent});if(d.payload&&"allowIfMatch"in h&&h.allowIfMatch&&(d.payload=(0,u.filterPayloadByWhitelist)(d.payload,h.allowIfMatch)),"fromData"in h&&h.fromData){var g=h.fromData,m={};Object.keys(g).forEach((function(e){var t=o.getDataFromState(s,e,g);t&&(m[e]=t)})),d=Object.assign({},d,{payload:Object.assign({},m,d.payload)})}var y=this._getTracking();if("fromDataPool"in h&&h.fromDataPool&&y){for(var b={},_=0,E=Object.keys(h.fromDataPool);_<E.length;_++){var w=E[_],S=h.fromDataPool[w];S in y._prot.dataPool&&(b[w]=y._prot.dataPool[S])}var T=y._prot.collectDataElements(b);d=Object.assign({},d,{payload:Object.assign({},T,d.payload)})}var A=this.handlersData;if(p.statist&&(A=Object.assign({},A,{statist:p.statist})),this.handleAnyEvent&&this.handleAnyEvent(Object.assign({},d,{eventRouting:h,handlersData:A})),"isDeprecated"in h&&h.isDeprecated)return null===(n=(t=this.errorHandlers).handleDeprecatedEvent)||void 0===n||n.call(t,{event:c,project:s}),void f({status:a.SentStatus.Deprecated});if(!("routes"in h))return null===(i=(r=this.errorHandlers).handleMissedRoutes)||void 0===i||i.call(r,{event:c,project:s}),void f({status:a.SentStatus.IncompleteRouting,reason:a.IncompleteReason.MissedRoutes});var k=Object.getOwnPropertyNames(h.routes);if(this.debugLogEvent(e,k),0==k.length)f({status:a.SentStatus.Dead});else{var O={};k.forEach((function(e){var t,n=(null===(t=l.eventHandlers)||void 0===t?void 0:t[e])||o.defaultEventHandlers[e];if(!n)return o.errorHandlers.handleMissedEventHandler({project:s,event:c,routeHandlerName:e}),void(O[e]={status:a.HandlerStatus.MissedHandler});var r=h.routes[e],i=Object.assign({},d,{config:r,handlersData:A});try{n(i),O[e]={status:a.HandlerStatus.Handled}}catch(t){if(O[e]={status:a.HandlerStatus.HandlerErrored,error:t},!o.errorHandlers.handleEventHandlerError)throw t;o.errorHandlers.handleEventHandlerError(t,e,i)}})),f({status:a.SentStatus.Routed,routesStats:O})}},t.send=function(e){var t=this,n=e;(0,a.sendDiagMessage)({type:a.DiagMessageType.SendStart,event:n});var r=n.project,i=this.projectConfigurationMap[r];(null==i?void 0:i.routing)||!this.routingClientLoader?this.doSend(n):this.restoreProjectConfiguration(r).catch((function(){(0,a.sendDiagMessage)({type:a.DiagMessageType.SentStats,event:n,stats:{status:a.SentStatus.IncompleteRouting,reason:a.IncompleteReason.MissedProject}})})).then((function(){t.doSend(n)}))},t.sendOnce=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=[]);var r=e,i=r.project+"/"+r.event;this.onceSentEvents.has(i)||this.onceSentEvents.set(i,new Set);var o=this.onceSentEvents.get(i);return!o.has(t)&&(this.send(r),n.forEach((function(e){o.add(e)})),o.add(t),!0)},t.doData=function(e){var t,n,r,i,o=e.project,a=this.projectConfigurationMap[o];if(a){for(var s=a.dataHandlers,u=void 0===s?{}:s,c=Object.assign({},this.defaultDataHandlers,u),l=0,d=Object.keys(c);l<d.length;l++){var f=d[l],p=c[f];"function"==typeof p?p(e):null===(i=(r=this.errorHandlers).handleMissedDataHandler)||void 0===i||i.call(r,{project:o,handlerName:f})}this.eventeaDataState.add(e)}else null===(n=(t=this.errorHandlers).handleMissedDataProject)||void 0===n||n.call(t,{project:o})},t.data=function(e){var t=this,n=e,r=n.project,i=this.projectConfigurationMap[r];(null==i?void 0:i.routing)||!this.routingClientLoader?this.doData(n):this.restoreProjectConfiguration(r).finally((function(){t.doData(n)}))},t.restoreProjectConfiguration=function(e){var t=this,n=this.projectConfigurationMap[e];return!(null==n?void 0:n.routing)&&this.routingClientLoader?this.routingClientLoader.getRouting(e).then((function(r){n?n.routing=r:t.projectConfigurationMap[e]={routing:r}}),(function(n){var r,i;throw n||null===(i=(r=t.errorHandlers).handleMissedClientRouting)||void 0===i||i.call(r,{project:e}),n})):Promise.resolve()},t.replicateWithData=function(t){var n=Object.assign({},this.eventeaDataState._getAll,null==t?void 0:t.additionalDataState);return new e({errorHandlers:this.errorHandlers,handlersData:Object.assign({},this.handlersData,null==t?void 0:t.additionalHandlersData),projectConfigurationMap:this.projectConfigurationMap,onceSentEvents:this.onceSentEvents,defaultEventHandlers:this.defaultEventHandlers,defaultDataHandlers:this.defaultDataHandlers,data:n})},t.getDataFromState=function(e,t,n){var r,i,o=n[t];return null!==(r=this.eventeaDataState.get(e,o))&&void 0!==r?r:null===(i=this.eventeaReferenceDataState)||void 0===i?void 0:i.get(e,o)},t._getTracking=function(){if(window.tracking&&tracking._prot)return window.tracking},t.debugLogEvent=function(e,t){try{if(window.localStorage.getItem("eventeaLog")){var n=e.project,r=e.event,i=e.payload;console.log("%c[Eventea]%c send event %c"+n+"/"+r+"%c to ["+(t.length?t.join(","):"0 routes")+"]","background: yellow","","font-weight: bold","",null!=i?i:"")}}catch(e){}},e}();t.Eventea=c},437:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.RootEventea=t.Eventea=void 0;var o=n(78167);Object.defineProperty(t,"Eventea",{enumerable:!0,get:function(){return o.RootEventea}}),Object.defineProperty(t,"RootEventea",{enumerable:!0,get:function(){return o.RootEventea}}),i(n(2324),t)},78167:function(e,t,n){"use strict";var r=n(1953),i=n(95552);Object.defineProperty(t,"__esModule",{value:!0}),t.RootEventea=void 0;var o=n(33647),a=n(7527),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).eventeaQueueObserver=new o.EventeaQueueObserver({errorHandlers:{handleQueueUsageAtServer:n.errorHandlers.handleQueueUsageAtServer,handleObserverWatcherErrors:n.errorHandlers.handleObserverWatcherErrors}}),n.eventeaQueueObserver.watch=function(e){e.forEach((function(e){var t,i,o,a,s=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r,e,2),u=s[0],c=s[1];try{switch(u){case"send":n.send(c);break;case"sendOnce":n.sendOnce(c);break;case"data":n.data(c);break;default:null===(i=(t=n.errorHandlers).handleUnknownMethodInQueue)||void 0===i||i.call(t,{requestType:u})}}catch(e){null===(a=(o=n.errorHandlers).handleErrorQueueEvent)||void 0===a||a.call(o,{requestType:u,requestData:c})}}))},n}return i(t,e),t.prototype.createChild=function(e){var t=e.copyParentHandlersData?Object.assign({},this.handlersData,null==e?void 0:e.handlersData):e.handlersData;return new a.Eventea({referenceData:e.includeParentDataState?this.eventeaDataState:void 0,defaultDataHandlers:this.defaultDataHandlers,defaultEventHandlers:this.defaultEventHandlers,errorHandlers:this.errorHandlers,handlersData:t,projectConfigurationMap:this.projectConfigurationMap,routingClientLoader:this.routingClientLoader})},t}(a.Eventea);t.RootEventea=s},2324:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64153:function(e,t){"use strict";function n(e,t){return("string"==typeof e||"number"==typeof e||"boolean"==typeof e)&&t.includes(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.filterPayloadByWhitelist=function(e,t){var r=Object.assign({},e);for(var i in t)if(i in e&&i in t)for(var o in t[i])if(o in e){var a=t[i][o];n(e[o],a)||delete r[i]}else delete r[i];return r}},42150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statistHandlerFactory=function(e){var t=e.statistClient;return function(e){var n,i=e.event,o=e.payload,a=e.project,s=e.config,u=e.handlersData,c=o||{};if(!function(e){return"object"==typeof e&&null!==e}(s))throw new Error("Unknown config for statist handler");var l="eventea.projects."+(0,r.camelCase)(a),d=s.fullName||i,f=function(){if(window.tracking&&tracking._prot)return window.tracking}(),p=u&&u.statist?u.statist:void 0;if(p&&p.commonParams&&f){for(var v={},h=0,g=Object.keys(p.commonParams);h<g.length;h++){var m=g[h];!p.commonParams[m].deprecated&&m in f._prot.dataPool&&(v[m]=f._prot.dataPool[m])}var y=f._prot.collectDataElements(v);c=Object.assign({},y,c)}var b=s.remapAsList;if(b)for(var _=function(){var e=w[E];c[e]=b[e].params.map((function(t){var n,r,i,a=(null===(n=b[e].paramsSource)||void 0===n?void 0:n[t])||"event";return"event"===a&&o&&t in o?String(null!==(r=o[t])&&void 0!==r?r:""):"dataPool"===a&&f&&t in f._prot.dataPool?String(null!==(i=f._prot.collectDataElement(f._prot.dataPool[t]))&&void 0!==i?i:""):""}))},E=0,w=Object.keys(b);E<w.length;E++)_();t.send(l,d,c);var S=null===(n=s.userProperties)||void 0===n?void 0:n.increment;S&&t.updateUserProperties(l,"increment",S)}};var r=n(54409)},86499:function(e,t,n){"use strict";t.I=void 0;var r=n(42150);Object.defineProperty(t,"I",{enumerable:!0,get:function(){return r.statistHandlerFactory}})},54409:function(e,t,n){"use strict";n.r(t),n.d(t,{camelCase:function(){return d},camelCaseTransform:function(){return c},camelCaseTransformMerge:function(){return l}});var r=n(80476);function i(e){return e.toLowerCase()}var o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function s(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function u(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function c(e,t){return 0===t?e.toLowerCase():u(e,t)}function l(e,t){return 0===t?e.toLowerCase():function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}(e)}function d(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?o:n,u=t.stripRegexp,c=void 0===u?a:u,l=t.transform,d=void 0===l?i:l,f=t.delimiter,p=void 0===f?" ":f,v=s(s(e,r,"$1\0$2"),c,"\0"),h=0,g=v.length;"\0"===v.charAt(h);)h++;for(;"\0"===v.charAt(g-1);)g--;return v.slice(h,g).split("\0").map(d).join(p)}(e,(0,r.__assign)({delimiter:"",transform:u},t))}(e,(0,r.__assign)({transform:c},t))}},73212:function(e,t,n){"use strict";var r;n.d(t,{LO:function(){return r}}),function(e){e.iconLink="iconLink",e.meta="meta",e.inlineScript="inlineScript",e.script="script",e.asIs="asIs",e.preconnectLink="preconnectLink",e.preloadLink="preloadLink",e.inlineStyle="inlineStyle",e.style="style"}(r||(r={})),r.iconLink,r.meta,r.inlineScript,r.script,r.asIs,r.preconnectLink,r.preloadLink,r.inlineStyle,r.style},48945:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserReporter:function(){return S},LEVELS:function(){return d},LEVEL_NAMES:function(){return f},RemoteReporter:function(){return U},createLoggerFactory:function(){return b},default:function(){return A},formatJson:function(){return B},logger:function(){return A}});var r=n(58903),i=n(52723),o=n(94905),a=n.n(o),s=n(49103),u=n.n(s),c=n(5103),l=n.n(c),d={trace:50,debug:40,info:30,warn:20,error:10,fatal:0,silent:-1/0},f={50:"trace",40:"debug",30:"info",20:"warn",10:"error",0:"fatal"};function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return h(t,void 0!==n&&n<r?n:r)}return e(t,n)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){return new RegExp("^"+e.replace(/\*/g,".*?")+"$")},m=function(){function e(t){var n=this;if(void 0===t&&(t={name:""}),this.name=a()(t.name),this.key=t.key||this.name,e.instances[this.key])return e.instances[this.key];this.beforeReporters=t.beforeReporters||[],this.reporters=t.reporters||[],this.filters=t.filters||[],this.extensions=t.extensions||[],this.defaults=t.defaults||{},t.level&&this.setLevel(d[t.level]),t.enabled&&this.setLevel(d.trace),this.checkEnabled(),e.instances[this.key]=this,u()((function(e,t){n[t]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.log(e,r)}}),d)}e.save=function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{level:e.level,enabledName:this.enabledName,enabledLevel:this.enabledLevel})},e.load=function(t){e.level=t.level,e.enabledName=t.enabledName,e.enabledLevel=t.enabledLevel},e.setLevel=function(t){var n;e.level=null!==(n=d[t])&&void 0!==n?n:e.level,e.save()},e.setOnChange=function(t){e.onChange=t},e.enable=function(t,n){var r=n?[d[t],n]:[d.trace,t],o=v(i.Z,r,2),a=o[0],s=o[1];e.enabledName.push(s),e.enabledLevel.push(a),e.save();var c=g(s);u()((function(e){var t=e.name;c.test(t)&&e.setLevel(a)}),e.instances)},e.disable=function(t,n){var r=n?[d[t],n]:[d.silent,t],o=v(i.Z,r,2),a=o[0],s=o[1],c=e.enabledName.indexOf(s);c>-1?(e.enabledName.splice(c,1),e.enabledLevel.splice(c,1)):(e.enabledName.push(s),e.enabledLevel.push(a)),e.save();var l=g(s);u()((function(e){var t=e.name;l.test(t)&&e.setLevel(a)}),e.instances)},e.clear=function(){e.level=d.silent,e.enabledName=[],e.enabledLevel=[],e.save(),u()((function(e){e.setLevel(void 0)}),e.instances)},e.setGlobalReporters=function(t){var n=l()(t);u()((function(e){e.reporters=n}),e.instances)};var t=e.prototype;return t.child=function(t){var n="string"==typeof t?{name:t}:t,r=n.key||n.name,i=this.name?this.name+"."+n.name:n.name,o=this.key?this.key+"."+r:r;return new e(Object.assign({beforeReporters:this.beforeReporters,reporters:this.reporters,filters:this.filters,extensions:this.extensions,defaults:this.defaults},n,{name:i,key:o}))},t.addBeforeReporter=function(e){this.reporters=this.reporters.concat(e)},t.setBeforeReporters=function(e){this.reporters=l()(e)},t.addReporter=function(e){this.reporters=this.reporters.concat(e)},t.setReporters=function(e){this.reporters=l()(e)},t.addFilter=function(e){this.filters=this.filters.concat(e)},t.setFilters=function(e){this.filters=l()(e)},t.addExtension=function(e){this.extensions=this.extensions.concat(e)},t.setExtensions=function(e){this.extensions=l()(e)},t.setLevel=function(e){this.level=e},t.checkEnabled=function(){for(var t=e.enabledName.length-1;t>=0;t--){var n=e.enabledName[t];if(g(n).test(this.name))return void this.setLevel(e.enabledLevel[t])}},t.createLogObj=function(e,t){return Object.assign({date:new Date},this.defaults,{name:this.name,type:f[e],level:e,args:t})},t.log=function(t,n){var r,i;i||(i=this.createLogObj(t,n));for(var o,a=p(this.filters,!0);!(o=a()).done;)if(!1===o.value.filter(i))return!1;for(var s,u=p(this.extensions,!0);!(s=u()).done;)i=s.value.extend(i);for(var c,l=t>(null!==(r=this.level)&&void 0!==r?r:e.level),d=p(this.reporters,!0);!(c=d()).done;){var f=c.value;l?f.emitLevels&&f.log(i):f.log(i)}return!0},e}();m.level=d.silent,m.instances={},m.enabledName=[],m.enabledLevel=[];var y=["addBeforeReporter","setBeforeReporters","addReporter","setReporters","addFilter","setFilters","addExtension","setExtensions"].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,Object.keys(d))),b=function(e){var t=new m(e);return Object.assign((function(e){return t.child(e)}),y.reduce((function(e,n){return t[n]&&(e[n]=t[n].bind(t)),e}),{}),{setLevel:m.setLevel,setGlobalReporters:m.setGlobalReporters,enable:m.enable,disable:m.disable,clear:m.clear})};function _(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var E,w,S=function(){function e(){this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c00046",10:"#c0392b",20:"#f39c12",30:"#00BCD4"}}return e.prototype.log=function(e){var t=e.level<20?console.error:20===e.level?console.warn:console.log,n="\n      background: "+(this.levelColorMap[e.level]||this.defaultColor)+";\n      border-radius: 0.5em;\n      color: white;\n      font-weight: bold;\n      padding: 2px 0.5em;\n    ",i="%c"+[e.name,e.type].filter(Boolean).join(":");"string"==typeof e.args[0]?t.call.apply(t,[console,i+"%c "+e.args[0],n,""].concat(_(r.Z,e.args.slice(1)))):t.call.apply(t,[console,i,n].concat(_(r.Z,e.args)))},e}(),T="_t_logger";d.error;try{E=window.localStorage,w=JSON.parse(E.getItem(T))}catch(e){}w||(w=function(){try{return function(e){if(e){var t=e.split(",");return{level:d.silent,enabledLevel:Array(t.length).fill(d.trace),enabledName:t}}}(window.localStorage.getItem("debug"))}catch(e){}}()),m.setOnChange((function(e){try{E.setItem(T,JSON.stringify(e))}catch(e){}})),w&&m.load(w);var A=b({name:"",reporters:[new S]});window.logger=A;var k=n(64805),O=n.n(k),C=n(67826),R=n.n(C),I=n(4216),N=n.n(I),M=n(34770),x=n.n(M),P=n(42282),L=n.n(P),D=n(7349),j=function(e){return N()(e)&&(e=new Error(e)),Object.defineProperties(e,{message:{enumerable:!0},stack:{enumerable:!0},cause:{enumerable:!0}}),"cause"in e&&"object"==typeof e.cause&&Object.defineProperties(e.cause,{message:{enumerable:!0},stack:{enumerable:!0}}),Object.assign({},e,{body:(0,D.K)(e.body),code:"string"==typeof e.code?e.code:(0,D.K)(e.code)})},B=function(e){var t,n,r=null,i=e.args;i[0]instanceof Error?(n=j(i[0]),t=N()(i[1])?i[1]:i[0].message):x()(i[0])&&!L()(i[0])?(n=(r=i[0]).error&&j(r.error),i[0].message?t=i[0].message:N()(i[1])&&(t=i[1])):t=i[0];var o=i.slice(t===i[1]?2:1).map((function(e){return e instanceof Error?{error:j(e)}:e}));return Object.assign({},e,{args:o.length?o:void 0},r,{error:n,message:t})},U=function(){function e(e){var t=e.requestCount,n=e.makeRequest,r=e.emitLevels;this.reqCount=0,this.queue=[],this.requestCount=t||1,this.makeRequest=n,this.emitLevels=r||{fatal:!0}}var t=e.prototype;return t.checkQueue=function(){this.queue.length&&this.reqCount<this.requestCount&&this.sendRequest()},t.sendRequest=function(){var e=this,t=this.queue.shift();this.reqCount++,this.makeRequest(B(t)).catch(O()).then((function(){e.reqCount--,e.checkQueue()}))},t.remote=function(e){this.queue.push(e),this.checkQueue()},t.log=function(e){var t=e.type,n=e.remote;null==n?this.emitLevels[t]&&this.remote(e):(!0===n||R()(["emitLevels",t],!0,n))&&this.remote(Object.assign({},e,{remote:void 0}))},e}()},56868:function(e,t,n){var r=n(17935),i=n(1953),o=n(95552),a=n(91715);function s(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return c(t,void 0!==n&&n<r?n:r)}return e(t,n)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,d=function(e){return e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?f:null},f=function(e){"use strict";function t(t){var n;return(n=e.call(this,t)||this).fill(0),n}return o(t,e),t}(a(Array)),p=function(){"use strict";function e(e){if(0===e)return[];var t=d(e);this.heap=new t(e),this.length=0}var t=e.prototype;return t.push=function(e){this.heap[this.length++]=e},t.pop=function(){return this.heap[--this.length]},e}(),v=function(){"use strict";function e(e){void 0===e&&(e={});var t=e,n=t.max,r=void 0===n?0:n,i=t.ttl,o=t.ttlResolution,a=void 0===o?1:o,s=t.updateAgeOnGet,u=t.allowStale,c=t.maxAge,l=t.stale;this.max=r;var f=r?d(r):Array;this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new f(r),this.prev=new f(r),this.head=0,this.tail=0,this.free=new p(r),this.initialFill=1,this.size=0,this.allowStale=!!u||!!l,this.updateAgeOnGet=!!s,this.ttlResolution=a,this.ttl=i||c||0,this.ttl&&this.initializeTTLTracking()}var t=e.prototype;return t.initializeTTLTracking=function(){var e=this;this.ttls=new f(this.max),this.starts=new f(this.max),this.setItemTTL=function(t,n){e.starts[t]=0!==n?l.now():0,e.ttls[t]=n},this.updateItemAge=function(t){e.starts[t]=0!==e.ttls[t]?l.now():0};var t=0;this.isStale=function(n){return 0!==e.ttls[n]&&0!==e.starts[n]&&(t||function(){var n=l.now();if(e.ttlResolution>0){t=n;var r=setTimeout((function(){return t=0}),e.ttlResolution);r.unref&&r.unref()}return n}())-e.starts[n]>e.ttls[n]}},t.updateItemAge=function(e){},t.setItemTTL=function(e,t){},t.isStale=function(e){return!1},t.set=function(e,t,n){var r=(void 0===n?{}:n).ttl,i=void 0===r?this.ttl:r,o=0===this.size?void 0:this.keyMap.get(e);return void 0===o?(o=this.newIndex(),this.keyList[o]=e,this.valList[o]=t,this.keyMap.set(e,o),this.next[this.tail]=o,this.prev[o]=this.tail,this.tail=o,this.size++):(t!==this.valList[o]&&(this.valList[o]=t),this.moveToTail(o)),0===i||0!==this.ttl||this.ttls||this.initializeTTLTracking(),this.setItemTTL(o,i),this},t.newIndex=function(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++},t.pop=function(){if(this.size){var e=this.valList[this.head];return this.evict(!0),e}},t.evict=function(e){var t=this.head,n=this.keyList[t];return e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(n),this.size--,t},t.has=function(e){var t=this.keyMap.get(e);return void 0!==t&&!this.isStale(t)},t.peek=function(e,t){var n=(void 0===t?{}:t).allowStale,r=void 0===n?this.allowStale:n,i=this.keyMap.get(e);if(void 0!==i&&(r||!this.isStale(i)))return this.valList[i]},t.get=function(e,t){var n=void 0===t?{}:t,r=n.allowStale,i=void 0===r?this.allowStale:r,o=n.updateAgeOnGet,a=void 0===o?this.updateAgeOnGet:o,s=this.keyMap.get(e);if(void 0!==s){var u=this.valList[s];return this.isStale(s)?(this.delete(e),i?u:void 0):(this.moveToTail(s),a&&this.updateItemAge(s),u)}},t.connect=function(e,t){this.prev[t]=e,this.next[e]=t},t.moveToTail=function(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)},t.delete=function(e){var t=!1;if(0!==this.size){var n=this.keyMap.get(e);void 0!==n&&(t=!0,1===this.size?this.clear():(this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)))}return t},t.clear=function(){this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.size=0},t.dump=function(){for(var e,t=[],n=u(this.indexes(),!0);!(e=n()).done;){var r=e.value,i=this.keyList[r],o=this.valList[r];if(void 0!==o&&void 0!==i){var a={value:o};if(this.ttls&&this.starts){a.ttl=this.ttls[r];var s=l.now()-this.starts[r];a.start=Math.floor(Date.now()-s)}this.sizes&&(a.size=this.sizes[r]),t.unshift([i,a])}}return t},t.load=function(e){this.clear();for(var t,n=u(e,!0);!(t=n()).done;){var r=s(i,t.value,2),o=r[0],a=r[1];if(a.start){var c=Date.now()-a.start;a.start=l.now()-c}this.set(o,a.value,a)}},t.indexes=r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.size){e.next=14;break}t=this.tail;case 2:if(this.isValidIndex(t)){e.next=5;break}return e.abrupt("break",14);case 5:return e.next=7,t;case 7:if(t!==this.head){e.next=11;break}return e.abrupt("break",14);case 11:t=this.prev[t];case 12:e.next=2;break;case 14:case"end":return e.stop()}}),e,this)})),t.isValidIndex=function(e){return void 0!==e&&this.keyMap.get(this.keyList[e])===e},e}();e.exports=v},88611:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.diKeyTokens=t.MICRO_DI_FINANCIAL_DATA_VIEW_TOKEN=t.MICRO_DI_CONTEXT_AUTH_TOKEN=t.MICRO_DI_FEATURE_TOGGLES_TOKEN=t.MICRO_DI_WEBVIEW_MANAGER=t._DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN=t.MICRO_DI_USER_API_TOKEN=t.MICRO_DI_SHOW_SCREEN_ERROR=t.MICRO_DI_SUBSCRIPTION=t.MICRO_DI_ROLE_MODEL_V2=t.MICRO_DI_GET_WUID_TOKEN=t.MICRO_DI_GET_3DS_PARAMS_TOKEN=t.MICRO_DI_COLOR_SCHEME=t.MICRO_DI_CHANGE_COLOR_THEME=t.DISPLAY_MODE_TOKEN=t.MICRO_DI_MOBILE_PLATFORM=t.MICRO_DI_LAYOUT=t.MICRO_DI_ON_UNREAD_MESSAGES_UPDATE=t.MICRO_DI_OPEN_MESSENGER=t.MICRO_DI_GET_MOTHER_API_SESSION_ID=t.MICRO_DI_HAS_PERMISSION_TOKEN=t.MICRO_DI_ROLE_API_TOKEN=t.MICRO_DI_USER_INFO_TOKEN=t.MICRO_DI_LOGOUT_TOKEN=t.MICRO_DI_EVENTEA_TOKEN=t.MICRO_DI_ROUTER_TOKEN=t.MICRO_DI_ENV_TOKEN=void 0;var i=n(15617),o=n(10593);t.MICRO_DI_ENV_TOKEN=(0,i.createToken)("MICRO_DI_ENV_TOKEN"),t.MICRO_DI_ROUTER_TOKEN=(0,i.createToken)("MICRO_DI_ROUTER_TOKEN"),t.MICRO_DI_EVENTEA_TOKEN=(0,i.createToken)("MICRO_DI_EVENTEA_TOKEN"),t.MICRO_DI_LOGOUT_TOKEN=(0,i.createToken)("MICRO_DI_LOGOUT_TOKEN"),t.MICRO_DI_USER_INFO_TOKEN=(0,i.createToken)("MICRO_DI_USER_INFO_TOKEN"),t.MICRO_DI_ROLE_API_TOKEN=(0,i.createToken)("MICRO_DI_ROLE_API_TOKEN"),t.MICRO_DI_HAS_PERMISSION_TOKEN=(0,i.createToken)("MICRO_DI_HAS_PERMISSION_TOKEN"),t.MICRO_DI_GET_MOTHER_API_SESSION_ID=(0,i.createToken)("MICRO_DI_GET_MOTHER_API_SESSION_ID"),t.MICRO_DI_OPEN_MESSENGER=(0,i.createToken)("MICRO_DI_OPEN_MESSENGER"),t.MICRO_DI_ON_UNREAD_MESSAGES_UPDATE=(0,i.createToken)("MICRO_DI_ON_UNREAD_MESSAGES_UPDATE"),t.MICRO_DI_LAYOUT=(0,i.createToken)("MICRO_DI_LAYOUT"),t.MICRO_DI_MOBILE_PLATFORM=(0,i.createToken)("MICRO_DI_MOBILE_PLATFORM"),t.DISPLAY_MODE_TOKEN=(0,i.createToken)("DISPLAY_MODE_TOKEN"),t.MICRO_DI_CHANGE_COLOR_THEME=(0,i.createToken)("MICRO_DI_CHANGE_COLOR_THEME"),t.MICRO_DI_COLOR_SCHEME=(0,i.createToken)("MICRO_DI_COLOR_SCHEME"),t.MICRO_DI_GET_3DS_PARAMS_TOKEN=(0,i.createToken)("MICRO_DI_GET_3DS_PARAMS_TOKEN"),t.MICRO_DI_GET_WUID_TOKEN=(0,i.createToken)("MICRO_DI_GET_WUID"),t.MICRO_DI_ROLE_MODEL_V2=(0,i.createToken)("MICRO_DI_ROLE_MODEL_V2"),t.MICRO_DI_SUBSCRIPTION=(0,i.createToken)("MICRO_DI_SUBSCRIPTION"),t.MICRO_DI_SHOW_SCREEN_ERROR=(0,i.createToken)("MICRO_DI_SHOW_SCREEN_ERROR"),t.MICRO_DI_USER_API_TOKEN=(0,i.createToken)("MICRO_DI_USER_API_TOKEN"),t._DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN=(0,i.createToken)("_DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN"),t.MICRO_DI_WEBVIEW_MANAGER=(0,i.createToken)("MICRO_DI_WEBVIEW_MANAGER"),t.MICRO_DI_FEATURE_TOGGLES_TOKEN=(0,i.createToken)("MICRO_DI_FEATURE_TOGGLES_TOKEN"),t.MICRO_DI_CONTEXT_AUTH_TOKEN=(0,i.createToken)("MICRO_DI_CONTEXT_AUTH_TOKEN"),t.MICRO_DI_FINANCIAL_DATA_VIEW_TOKEN=(0,i.createToken)("MICRO_DI_FINANCIAL_DATA_VIEW_TOKEN"),t.diKeyTokens=((r={})[o.DiValKey.changeThemeColor]=t.MICRO_DI_CHANGE_COLOR_THEME,r[o.DiValKey.colorScheme]=t.MICRO_DI_COLOR_SCHEME,r[o.DiValKey.displayMode]=t.DISPLAY_MODE_TOKEN,r[o.DiValKey.env]=t.MICRO_DI_ENV_TOKEN,r[o.DiValKey.eventea]=t.MICRO_DI_EVENTEA_TOKEN,r[o.DiValKey.getMotherApiSessionId]=t.MICRO_DI_GET_MOTHER_API_SESSION_ID,r[o.DiValKey.hasPermission]=t.MICRO_DI_HAS_PERMISSION_TOKEN,r[o.DiValKey.layout]=t.MICRO_DI_LAYOUT,r[o.DiValKey.mobilePlatform]=t.MICRO_DI_MOBILE_PLATFORM,r[o.DiValKey.logout]=t.MICRO_DI_LOGOUT_TOKEN,r[o.DiValKey.onUnreadMessagesUpdate]=t.MICRO_DI_ON_UNREAD_MESSAGES_UPDATE,r[o.DiValKey.openMessenger]=t.MICRO_DI_OPEN_MESSENGER,r[o.DiValKey.roleApi]=t.MICRO_DI_ROLE_API_TOKEN,r[o.DiValKey.role]=t.MICRO_DI_ROLE_MODEL_V2,r[o.DiValKey.subscription]=t.MICRO_DI_SUBSCRIPTION,r[o.DiValKey.router]=t.MICRO_DI_ROUTER_TOKEN,r[o.DiValKey.showErrorScreen]=t.MICRO_DI_SHOW_SCREEN_ERROR,r[o.DiValKey.userInfo]=t.MICRO_DI_USER_INFO_TOKEN,r[o.DiValKey.globalQueryClient]=t._DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN,r[o.DiValKey.webview]=t.MICRO_DI_WEBVIEW_MANAGER,r[o.DiValKey.get3dsParams]=t.MICRO_DI_GET_3DS_PARAMS_TOKEN,r[o.DiValKey.getWuid]=t.MICRO_DI_GET_WUID_TOKEN,r[o.DiValKey.featureToggles]=t.MICRO_DI_FEATURE_TOGGLES_TOKEN,r[o.DiValKey.userApi]=t.MICRO_DI_USER_API_TOKEN,r[o.DiValKey.contextAuth]=t.MICRO_DI_CONTEXT_AUTH_TOKEN,r[o.DiValKey.financialDataView]=t.MICRO_DI_FINANCIAL_DATA_VIEW_TOKEN,r)},10593:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiValKey=void 0,function(e){e.env="env",e.router="router",e.eventea="eventea",e.logout="logout",e.userInfo="userInfo",e.roleApi="roleApi",e.role="role",e.subscription="subscription",e.hasPermission="hasPermission",e.getMotherApiSessionId="getMotherApiSessionId",e.changeThemeColor="changeThemeColor",e.colorScheme="colorScheme",e.openMessenger="openMessenger",e.onUnreadMessagesUpdate="onUnreadMessagesUpdate",e.layout="layout",e.displayMode="displayMode",e.mobilePlatform="mobilePlatform",e.showErrorScreen="showErrorScreen",e.globalQueryClient="globalQueryClient",e.webview="webview",e.get3dsParams="get3dsParams",e.getWuid="getWuid",e.featureToggles="featureToggles",e.userApi="userApi",e.contextAuth="contextAuth",e.financialDataView="financialDataView"}(n||(t.DiValKey=n={}))},15688:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiValKey=void 0;var o=n(10593);Object.defineProperty(t,"DiValKey",{enumerable:!0,get:function(){return o.DiValKey}}),i(n(88611),t)},17638:function(e,t){"use strict";var n,r,i,o,a;t.yL=t.w0=t.EP=t.AR=t.uv=void 0,function(e){e.client="CLIENT",e.registered="REGISTERED",e.anonymous="ANONYMOUS"}(n||(t.uv=n={})),function(e){e.ordinary="ordinary",e.junior="junior",e.prepaid="prepaid"}(r||(t.AR=r={})),function(e){e.full="full",e.link="link",e.principal="principal",e.unauthorized="unauthorized"}(i||(t.EP=i={})),function(e){e.pro="pro",e.premium="premium",e.private="private",e.teamPro="team_pro",e.teamSelect="team_select",e.teamPremium="team_premium",e.teamPrivate="team_private"}(o||(t.w0=o={})),function(e){e.notRequested="not-requested",e.loading="loading",e.success="success",e.fail="fail"}(a||(t.yL=a={}))},46636:function(e,t){"use strict";var n;t.$=void 0,function(e){e.blank="_blank",e.top="_top",e.self="_self"}(n||(t.$=n={}))},2576:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(42495),t),i(n(20298),t),i(n(54891),t)},42495:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WebViewMessageType=void 0,function(e){e.pageLoad="pageLoaded",e.authenticateEnd="authenticateEnd",e.close="close",e.navigate="navigate",e.openDocument="openDocument",e.openLinkInBrowser="openLinkInBrowser",e.openLinkInApp="openLinkInApp",e.error="fatalError",e.message="message",e.alert="alert",e.actionSheet="actionSheet",e.staticAssetsLoaded="staticAssetsLoaded",e.setBrowserBackgroundColor="setBrowserBackgroundColor"}(n||(t.WebViewMessageType=n={}))},54891:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WebViewParamType=void 0,function(e){e.os="os",e.language="language",e.appName="appName",e.appVersion="appVersion",e.font="font",e.theme="theme"}(n||(t.WebViewParamType=n={}))},20298:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WebViewResponseType=void 0,function(e){e.failedNavigation="failedNavigation",e.didTapAlertButton="didTapAlertButton",e.didTapActionSheetButton="didTapActionSheetButton",e.onThemeChanged="onThemeChanged",e.onMaskedBalancesChanged="onMaskedBalancesChanged"}(n||(t.WebViewResponseType=n={}))},29376:function(e,t,n){"use strict";n.d(t,{$d:function(){return f},C5:function(){return E},Me:function(){return g},QO:function(){return _},TF:function(){return b},kV:function(){return m},lw:function(){return A},mm:function(){return S},o2:function(){return w},t1:function(){return h}});var r=n(63472),i=n.n(r),o=n(38507),a=n.n(o),s=n(8958),u=n.n(s),c=n(67826),l=n.n(c),d=n(31565),f="CORE",p=["ANONYMOUS","AUTHENTICATED","APPLICANT","CANDIDATE","REGISTERED","CLIENT","EMPLOYEE"],v={0:"ANONYMOUS",5:"AUTHENTICATED",20:"APPLICANT",30:"CANDIDATE",35:"REGISTERED",40:"CLIENT",50:"EMPLOYEE"},h=(0,d.cG)(f,p),g=function(){var e;return Object.assign({},(0,d.n5)(h),((e={})[h.ANONYMOUS]=!0,e))},m=function(e,t){if(t===h.ANONYMOUS)return(0,d.ac)(e,f,g());var n=!0,r=p.reduce((function(e,r){return e[r]=n,r===t&&(n=!1),e}),{});return(0,d.ac)(e,f,r)},y=a()(f,{}),b=u()([f,h.AUTHENTICATED],i()),_=l()([f,h.REGISTERED],!0),E=l()([f,h.CLIENT],!0),w=function(e){var t=y(e);return!!t[h.REGISTERED]&&!t[h.CLIENT]},S=function(e){var t;return void 0===e&&(e=0),m(((t={})[f]={},t),v[e])},T=p.length;function A(e,t){var n=y(e),r=y(t);if(n===r)return!1;for(var i=T-1;i>=0;i--){var o=p[i];if(!n[o]&&r[o])return!0}return!1}},31565:function(e,t,n){"use strict";n.d(t,{Mr:function(){return p},ac:function(){return d},cG:function(){return l},n5:function(){return v}});var r=n(65165),i=n.n(r),o=n(6073),a=n.n(o),s=n(38507),u=n.n(s),c=n(57801),l=function(e,t){return t.reduce((function(e,t){return e[t]=t,e}),Object.create(null))},d=function(e,t,n){var r,i,o=null!==(i=u()(t,{},e))&&void 0!==i?i:{};return a()((function(e,t){return e===o[t]}),n)?e:Object.assign({},e,((r={})[t]=Object.assign({},o,n),r))},f=n.n(c)()(i()),p=function(e,t){var n,r,i=null!==(r=u()(t,{},e))&&void 0!==r?r:{};return a()((function(e){return!1===e}),i)?e:Object.assign({},e,((n={})[t]=f(i),n))},v=function(e){return f(e)}},70872:function(e,t,n){"use strict";n.d(t,{Xn:function(){return o},_q:function(){return i},qs:function(){return a}});var r=n(44121),i=(0,r.createContext)(null),o=(0,r.createContext)(null),a=(0,r.createContext)(null)},54143:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(44121),i=n(70872),o=function(){return(0,r.useContext)(i.Xn)}},71541:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(44121),i=n(70872),o=function(){return(0,r.useContext)(i._q)}},81935:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(44121),i=n(70872),o=function(){return(0,r.useContext)(i.qs)}},60488:function(e,t,n){"use strict";var r=n(53175),i=n(15779),o=n(40367),a=n(54794),s=n(67826),u=n(72446),c=n(8958);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=l(r),f=l(i),p=l(o),v=l(a),h=l(s),g=l(u),m=["click","scroll","keypress"],y=12e4,b=l(c).default(["sessionWillExpireIn"],(function(e){return e-(new Date).getTime()<=24e4})),_=v.default(h.default(["accessLevel"],"ANONYMOUS")),E=(p.default(b,_),f.default(_)),w=function(){function e(e){var t=this,n=e.sessionManager;this.startPollingAuthorizedSessionStatus=function(){if(!t.alreadyPollingSession()){var e=function(e){var r=e.millisLeft,i=r<y?r:y;return t.schedule(n,i)},n=function(){return t.sessionManager.updateSessionStatus(t.sessionManager.getSessionId()).then(g.default(E(e))).catch(t.unSchedule)};t.scheduleHandle&&t.unSchedule(),t.schedule(n,y)}},this.schedule=function(e,n){t.scheduleHandle=setTimeout(e,n)},this.unSchedule=function(){clearTimeout(t.scheduleHandle),t.scheduleHandle=void 0},this.sessionManager=n,this.scheduleHandle=null}var t=e.prototype;return t.startProlongateSessionOnUserActivity=function(){var e=this;this.startListenForUserActivity((function(){e.sessionManager.prolongateSession(e.sessionManager.getSessionId())}))},t.alreadyListeningForUserActivity=function(){return!!this.throttledUserActivitySubscriber},t.alreadyPollingSession=function(){return!!this.scheduleHandle},t.startListenForUserActivity=function(e){var t=this;this.alreadyListeningForUserActivity()||(this.throttledUserActivitySubscriber=d.default(6e4,(function(){return setTimeout(e,5e3)})),m.forEach((function(e){window.addEventListener(e,t.throttledUserActivitySubscriber,!0)})))},e}();t.FO=_,t.ZP=w},78047:function(e,t,n){"use strict";n.d(t,{DB:function(){return g},DI:function(){return b},F_:function(){return p},Hz:function(){return h},Qc:function(){return v},WU:function(){return E},co:function(){return _},n2:function(){return f}});var r=n(52723),i=n(14033),o=n.n(i),a=n(49103),s=n.n(a),u=n(15434),c=n.n(u);var l=o()(/^(?:[a-z]+:)?\/\//i),d=function(e){return e.pathname+e.search+e.hash},f=function(e){var t=Object.create(null);e.searchParams.forEach((function(e,n){Object.prototype.hasOwnProperty.call(t,n)?Array.isArray(t[n])?t[n].push(e):t[n]=[t[n],e]:t[n]=e}));var n=e.toString(),r=d(e),i={href:r,origin:e.origin,protocol:e.protocol,username:e.username,password:e.password,port:e.port,pathname:e.pathname,path:r,search:e.search,hash:e.hash,query:t};return"localhost"!==e.host&&Object.assign(i,{href:e.href,host:e.host,hostname:e.hostname}),Object.defineProperty(i,"toString",{value:function(){return n},enumerable:!1}),i},p=function(e,t){return void 0===t&&(t=window.location.href),new URL(function(e){if(e.length<2)return!1;for(var t=0;t<e.length;t++)switch(e[t]){case"?":return!0;case"/":break;default:return!1}return!0}(e)?e.replace(/^\/+/,"/"):e,t)},v=function(e){return f(p(e))},h=function(e,t){var n=p(e.toString());return p(t,n)},g=function(e,t){var n=p(e),r=p(t,n);return l(e)?r.href:d(r)},m=/^(\/[^?\s]*)(\?[^\s]*)?(#[^s]*)?$/,y=function(e,t){s()((function(t,n){Array.isArray(t)?(e.delete(n),c()((function(t){return e.append(n,t)}),t)):void 0===t?e.delete(n):e.set(n,t)}),t)},b=function(e,t){var n=p(e.toString());return y(n.searchParams,t),f(n)},_=function(e,t){var n=t.path,i=t.query,o=t.port,a=t.username,s=t.password,u={hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,search:t.search};if(n){var c=function(e){var t=m.exec(e);if(t){var n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,t,4),i=(n[0],n[1]),o=n[2],a=void 0===o?"":o,s=n[3];return{pathname:i,search:a,hash:void 0===s?"":s}}}(n);c&&Object.assign(e,c)}for(var l in a&&(e.username=a),s&&(e.password=s),u){var d=u[l];void 0!==d&&(e[l]=d)}if(void 0!==o&&(e.port=o,"0"===e.port&&(e.port="http:"===e.protocol?"80":"443")),i){var f=new URLSearchParams(t.search);y(f,i),e.search=f.toString()}return e},E=function(e){var t=p("");return f(_(t,e)).href}},8050:function(e,t,n){"use strict";n.d(t,{L:function(){return m}});var r=n(52723),i=n(4216),o=n.n(i),a=n(7585),s=n.n(a),u=n(80073),c=n.n(u),l=n(22141),d=n(95967),f={chrome:{type:"desktop",name:"chrome"},safari:{type:"desktop",name:"safari"},firefox:{type:"desktop",name:"firefox"},opera:{type:"desktop",name:"opera"},ie:{type:"desktop",name:"ie"},edge:{type:"any",name:"edge"},and_chr:{type:"mobile",name:"chrome"},ios_saf:{type:"mobile",name:"mobile safari"},android:{type:"mobile",name:"android browser"},op_mob:{type:"mobile",name:"opera"},and_uc:{type:"mobile",name:"ucbrowser"},and_ff:{type:"mobile",name:"firefox"},samsung:{type:"mobile",name:"samsung browser"}},p=["android browser","yandex","vivaldi"];function v(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var h={mobile:"mobile",tablet:"mobile",desktop:"desktop"},g={Samsung:"samsung",Android:"android",UCAndroid:"and_uc",OperaMobile:"op_mob"},m=function(e,t,n){var i,a,u=void 0===n?{}:n,m=u.env,y=void 0===m?"defaults":m,b=u.forceMinimumUnknownVersions,_=void 0!==b&&b,E=o()(e)?(0,d.H)(e):e,w=E.engine,S=w.name,T=void 0===S?"":S,A=w.version,k=E.device,O=(void 0===k?{}:k).type,C=void 0===O?"":O,R=E.browser,I=void 0===R?{}:R,N=I.name,M=void 0===N?"":N,x=I.version,P=void 0===x?"":x;("chromium"===T||"blink"===T.toLowerCase()&&-1!==p.indexOf(M))&&(M="chrome",P=A||"");var L=parseFloat(P),D=h[C]||C||h.desktop;if(!M)return null;var j=null!==(i=null!=t?t:l.Z[y])&&void 0!==i?i:c()[y],B=function(e){for(var t=s()(e,{mobileToDesktop:!0}).concat(["ie 999"]),n={},i=0;i<t.length;i++){var o=t[i].split(" "),a=v(r.Z,o,2),u=a[0],c=a[1];if(f[u]){var l,d=f[u],p=d.type,h=d.name,g=parseFloat(c);n[h]?(!n[h][p]||n[h][p]>g)&&(n[h][p]=g):n[h]=((l={})[p]=g,l)}}return n}(j);_&&Object.keys(g).forEach((function(e){var t=j.find((function(t){return t.startsWith(e)}));if(t&&t.includes(">=")){var n=t.split(" >= "),i=v(r.Z,n,2),o=i[0],a=i[1],s=f[g[o]];s&&B[s.name]&&Number(a)<Number(B[s.name][s.type])&&(B[s.name][s.type]=Number(a))}}));var U=!1;if(M in B){var F=B[M],V=null!==(a=F.any)&&void 0!==a?a:F[D];if(U=!!V,L>=V)return!0}return!U&&null}},95967:function(e,t,n){"use strict";n.d(t,{H:function(){return E}});var r=n(33926),i=n(38507),o=n.n(i),a=n(63119),s=n.n(a),u=n(94905),c=n.n(u),l=n(56640),d=n(52723);function f(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var p=function(e){return void 0===e&&(e=""),e.toLowerCase()},v=function(e){return void 0===e&&(e="-1.-1.-1"),e.split(".").map(Number)},h=function(e){try{var t=p(e.browser.name),n=v(e.browser.version),r=f(d.Z,n,3),i=r[0],o=r[1],a=r[2],s=p(e.os.name),u=v(e.os.version),c=f(d.Z,u,2),l=c[0],h=c[1],g=p(e.engine.name),m=v(e.engine.version),y=f(d.Z,m,1)[0];return"ios"===s?12!==l:"safari"===t||"webkit"===t?!("mac os"===s&&10===l&&14===h):"ucbrowser"===t?12!==i?i>12:13!==o?o>13:a>=2:"chrome"===t||"chromium"===t?i<51||i>66:"blink"!==g&&"chromium"!==g||y<51||y>66}catch(e){return!0}},g=function(e){switch(e){case"Windows Phone":return"winphone";case"Android":return"android";case"iOS":return"ios";case"BlackBerry":case"RIM Tablet OS":return"blackberry"}},m=function(e,t){switch(!0){case"firefox"===e:return"firefox";case"safari"===e||"mobile safari"===e||"webkit"===t:return"safari";case"blink"===t||"chromium"===t:return"chrome"}return"other"},y=["ua"],b=s()(c(),o()("name","")),_=[[/developers\.google\.com\/\+\/web\/snippet/i],[l.UAParser.BROWSER.NAME,l.UAParser.BROWSER.VERSION,["type","bot"]],[/((?:\S+)bot(?:-[imagevdo]{5})?)\/([\w.]+)/i],[l.UAParser.BROWSER.NAME,l.UAParser.BROWSER.VERSION,["type","bot"]],[/[\s;(](adsbot[-\w]*?[\s;)])/i],[l.UAParser.BROWSER.NAME,[l.UAParser.BROWSER.VERSION,"unknown"],["type","bot"]],[/fxios\/([\w\\.-]+)/i],[[l.UAParser.BROWSER.NAME,"Firefox Focus"],l.UAParser.BROWSER.VERSION]],E=function(e){var t=new l.UAParser(e,{browser:_}).getResult(),n=(t.ua,(0,r.Z)(t,y)),i=n.browser,o=n.os,a=n.engine,s=b(i),u=b(a);return"opera mobi"===s&&(n.device.type="mobile"),Object.assign({},n,{mobileOS:g(o.name),sameSiteNoneCompatible:h(n),browser:Object.assign({},i,{browserEngine:m(s,u),name:s})})}},80073:function(e){var t=["Chrome >= 59","Safari >= 12.1","Firefox >= 115","Opera >= 62","Edge >= 79","ChromeAndroid >= 59","ios_saf >= 12.1","OperaMobile >= 48","FirefoxAndroid >= 119","Samsung >= 7","Android >= 8","UCAndroid >= 13"];e.exports={defaults:t,legacy:t,modern:["Chrome >= 61","Safari >= 12.1","Firefox >= 115","Opera >= 62","Edge >= 79","ChromeAndroid >= 61","ios_saf >= 12.1","OperaMobile >= 73","FirefoxAndroid >= 119","Samsung >= 8.2"],node:["Node >= 14"]}},98799:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}))},68989:function(e,t,n){"use strict";var r=n(95775),i=n(42282),o=n(11712),a=n(6573);e.exports=r(2,(function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),i(e))return e.concat(t);if(o(e)){for(var n=a(0,e.length,e),r=0;r<t.length;r++)n.push(t[r]);return n}return e+t}))},24034:function(e,t,n){"use strict";var r=n(95775),i=n(58960);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);for(var n=[],r=0;r<e.length;r++)i(e[r],t)<0&&n.push(e[r]);return n}))},15434:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++)e(t[n],n,t)}))},62491:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}))},44831:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]}))},97939:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}))},30353:function(e,t,n){"use strict";var r=n(11712);e.exports=function e(t){void 0===t&&(t=[]);for(var n=[],i=0;i<t.length;i++){var o=t[i];if(r(o))for(var a=e(o),s=0;s<a.length;s++)n.push(a[s]);else n.push(o)}return n}},18542:function(e,t,n){"use strict";var r=n(95775),i=n(58960);e.exports=r(2,(function(e,t){return void 0===t&&(t=[]),-1!==i(e,t)}))},58960:function(e,t,n){"use strict";var r=n(95775),i=n(4216);e.exports=r(2,(function(e,t){return void 0===t&&(t=[]),i(t)?t.indexOf(e):Array.prototype.indexOf.call(t,e)}))},6045:function(e){"use strict";e.exports=function(e){return e&&e[e.length-1]}},37093:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i],i,t);return r}))},20329:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){var n;void 0===t&&(t=[]);for(var r=-1/0,i=0;i<t.length;i++){var o=e(t[i],i,t);o>r&&(r=o,n=t[i])}return n}))},40126:function(e){"use strict";e.exports=function(e,t,n){"number"!=typeof t&&(t=e,e=0),"number"!=typeof n&&(n=e<t?1:-1);for(var r=Math.max(Math.ceil((t-e)/(n||1)),0),i=new Array(r),o=e,a=0;a<r;a++)i[a]=o,o+=n;return i}},60694:function(e,t,n){"use strict";var r=n(95775);e.exports=r(3,(function(e,t,n){void 0===n&&(n=[]);for(var r=n.length,i=0;i<r;i++)t=e(t,n[i],i,n);return t}))},6573:function(e,t,n){"use strict";var r=n(95775),i=n(4216);e.exports=r(3,(function(e,t,n){return void 0===n&&(n=[]),i(n)?n.slice(e,t):Array.prototype.slice.call(n,e,t)}))},5103:function(e,t,n){"use strict";var r=n(42282),i=n(11712);e.exports=function(e){return r(e)?e:i(e)?Array.prototype.slice.call(e):[e]}},7605:function(e){"use strict";e.exports=function(e){void 0===e&&(e=[]);for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}},8621:function(e,t,n){"use strict";var r=n(42282);e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t[0])?Object.assign.apply(Object,[[]].concat(t)):Object.assign.apply(Object,[{}].concat(t))}},65165:function(e){"use strict";e.exports=function(){return!1}},84762:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0;i<e.length;i++)if(!e[i].apply(e,n))return!1;return!0}))},77367:function(e){"use strict";e.exports=function(e){return function(){return e}}},22422:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return"function"==typeof t?t.apply(void 0,e):t}))},40367:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return function(){return e.apply(void 0,arguments)&&t.apply(void 0,arguments)}}))},54794:function(e){"use strict";e.exports=function(e){return function(){return!e.apply(void 0,arguments)}}},63119:function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=t.length-1,n=t[e].apply(t,arguments),r=e-1;r>=0;r--)n=t[r](n);return n}}},58111:function(e,t,n){"use strict";var r=n(95775);e.exports=function(e){return r(e.length,e)}},95775:function(e){"use strict";e.exports=function(e,t){return function n(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e?t.apply(this,i):function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,i.concat(t))}}}},27714:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){var n;function r(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){return t.apply(r,i)}),e)}return r.cancel=function(){return clearTimeout(n)},r}))},17848:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return function(){return e.apply(void 0,arguments)||t.apply(void 0,arguments)}}))},79436:function(e){"use strict";e.exports=function(e){return e}},24970:function(e,t,n){"use strict";var r=n(95775);e.exports=r(3,(function(e,t,n){return function(){return e.apply(void 0,arguments)?t.apply(void 0,arguments):n.apply(void 0,arguments)}}))},2012:function(e,t,n){"use strict";var r=n(72351),i=n(95775);e.exports=i(2,(function(e,t){return r((function(){return function(e){var t=new Map;return t.set=function(){var n;t.size>=e&&t.clear();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Map.prototype.set).call.apply(n,[t].concat(i))},t}(e)}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify(t)}),t)}))},72351:function(e,t,n){"use strict";var r=n(95775);e.exports=r(3,(function(e,t,n){var r=e();return function(){var e=t.apply(void 0,arguments);if(r.has(e))return r.get(e);var i=n.apply(void 0,arguments);return r.set(e,i),i}}))},64805:function(e){"use strict";e.exports=function(){}},8152:function(e){"use strict";e.exports=function(){}},46226:function(e){"use strict";e.exports=function(e){var t,n=!1;return function(){return n||(t=e.apply(void 0,arguments),n=!0),t}}},53175:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){var n,r;return function(){for(var i=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var u=Date.now(),c=n+e-u;n&&c>0?(clearTimeout(r),r=setTimeout((function(){n=u,t.apply(i,a)}),c)):(n=u,t.apply(this,a))}}))},15779:function(e,t,n){"use strict";var r=n(95775);e.exports=r(3,(function(e,t,n){return e(n)?t(n):n}))},42282:function(e){"use strict";e.exports=function(e){return!!e&&Array.isArray(e)}},11712:function(e,t,n){"use strict";var r=n(42282),i=n(4216),o=n(77125);e.exports=function(e){switch(!0){case r(e):return!0;case!e:case"object"!=typeof e:case i(e):return!1;case 1===e.nodeType:return!!e.length;case 0===e.length:return!0;case e.length>0:return o("0",e)&&o(String(e.length-1),e)}return!1}},92877:function(e,t,n){"use strict";var r=n(13641),i=n(42282),o=n(4216),a=n(34770);e.exports=function(e){switch(!0){case r(e):return!0;case o(e):return""===e;case i(e):return 0===e.length;case a(e):return 0===Object.keys(e).length}return!1}},52158:function(e,t,n){"use strict";var r=n(58111),i=n(42282),o=function(e,t){if(e===t)return!0;if(typeof e!=typeof t||e!==Object(e)||!e||!t)return!1;if(i(e)&&i(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!o(e[r],t[r]))return!1;return!0}(e,t);var n=Object.prototype.toString.call(e);return"[object Object]"===n&&Object.prototype.toString.call(t)===n?function(e,t){var n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(var i=0;i<r;i++){var a=n[i];if(!Object.prototype.hasOwnProperty.call(t,a)||!o(e[a],t[a]))return!1}return!0}(e,t):"function"==typeof e?e===t:function(e,t){return e.toString()===t.toString()}(e,t)};e.exports=r(o)},70430:function(e){"use strict";e.exports=function(e){return"function"==typeof e}},13641:function(e){"use strict";e.exports=function(e){return null==e}},20596:function(e){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},34770:function(e){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},39609:function(e,t,n){"use strict";var r=n(33689),i=n(41974),o=n(34770);e.exports=function(e){if(!o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype&&(!r(e)&&!i(e))}},92366:function(e,t,n){"use strict";var r=n(34770),i=n(70430);e.exports=function(e){return(r(e)||i(e))&&i(e.then)}},41974:function(e,t,n){"use strict";var r,i=n(77125);try{r=n(36899).isValidElementType}catch(e){}r||(r=function(e){return"string"==typeof e||"function"==typeof e||!!e&&i("$$typeof",e)}),e.exports=r},33689:function(e,t,n){"use strict";var r,i=n(77125);try{r=n(36899).isElement}catch(e){}r||(r=function(e){return!!e&&i("$$typeof",e)}),e.exports=r},5881:function(e,t,n){"use strict";var r=n(34770),i=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(e===t)return!0;if(!r(e)||!r(t))return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(!i.call(t,a)||e[a]!==t[a])return!1}return!0}},4216:function(e){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},63472:function(e){"use strict";e.exports=function(e){return!e}},6073:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){for(var n in void 0===t&&(t={}),t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(t[n],n,t))return!1;return!0}))},96105:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){for(var n in void 0===t&&(t={}),t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t))return!0;return!1}))},49103:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){for(var n in void 0===t&&(t={}),t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}))},57471:function(e,t,n){"use strict";var r=n(95775),i=n(55500);e.exports=r(2,(function(e,t){void 0===t&&(t={});for(var n=i(t),r={},o=0;o<n.length;o++){var a=n[o];e(t[a],a,t)&&(r[a]=t[a])}return r}))},147:function(e){"use strict";e.exports=function(e){void 0===e&&(e=[]);for(var t={},n=0;n<e.length;n++)t[e[n][0]]=e[n][1];return t}},77125:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}))},55500:function(e,t,n){"use strict";var r=n(34770);e.exports=function(e){return r(e)?Object.keys(e):[]}},57801:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===t&&(t={});var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(t[r],r,t));return n}))},99454:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))}))},28288:function(e,t,n){"use strict";var r=n(95775),i=n(39609),o=n(55500),a=n(8621);e.exports=r(2,(function e(){for(var t=a((arguments.length<=0?void 0:arguments[0])||{}),n=1;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];if(r)for(var s=o(r),u=0;u<s.length;u++){var c=s[u],l=r[c],d=t[c];i(d)&&i(l)?t[c]=e(d,l):t[c]=l}}return t}))},56274:function(e,t,n){"use strict";var r=n(95775),i=n(55500),o=n(8621);e.exports=r(3,(function(e){for(var t=o(arguments.length<=1?void 0:arguments[1]),n=1;n<(arguments.length<=1?0:arguments.length-1);n++)for(var r=n+1<1||arguments.length<=n+1?void 0:arguments[n+1],a=i(r),s=0;s<a.length;s++){var u=a[s];Object.prototype.hasOwnProperty.call(t,u)?t[u]=e(t[u],r[u],u,t,r):t[u]=r[u]}return t}))},23629:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){var n;return(n={})[e]=t,n}))},52141:function(e,t,n){"use strict";var r=n(95775),i=n(55500);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var n=Object.create(null),r=0;r<e.length;r++)n[e[r]]=!0;for(var o={},a=i(t),s=0;s<a.length;s++){var u=a[s];n[u]||(o[u]=t[u])}return o}))},60028:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var n=t,r=0;r<e.length;r++){if(null==n)return;n=n[e[r]]}return n}))},8958:function(e,t,n){"use strict";var r=n(95775),i=n(60028);e.exports=r(3,(function(e,t,n){return void 0===e&&(e=[]),void 0===n&&(n={}),t(i(e,n),e,n)}))},67826:function(e,t,n){"use strict";var r=n(95775),i=n(60028);e.exports=r(3,(function(e,t,n){return void 0===e&&(e=[]),void 0===n&&(n={}),i(e,n)===t}))},33057:function(e,t,n){"use strict";var r=n(95775),i=n(60028);e.exports=r(3,(function(e,t,n){void 0===e&&(e=[]),void 0===n&&(n={});var r=i(e,n);return null!=r?r:t}))},60411:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}))},28296:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return null!=t?t[e]:void 0}))},38507:function(e,t,n){"use strict";var r=n(95775),i=n(28296);e.exports=r(3,(function(e,t,n){var r=i(e,n);return null!=r?r:t}))},53170:function(e,t,n){"use strict";var r=n(55500);e.exports=function(e){for(var t=r(e),n=t.length,i=new Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i}},72446:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return Promise.resolve().then((function(){return e(t)})).then((function(){return t}))}))},21461:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.slice(-e.length)===e}))},18826:function(e){"use strict";var t=/[&<>"']/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=function(e){return n[e]};e.exports=function(e){return void 0===e&&(e=""),e.replace(t,r)}},83958:function(e,t,n){"use strict";var r=n(81542);e.exports=function(e){return r(e).map((function(e){return e.toLowerCase()})).join("-")}},87300:function(e,t,n){"use strict";var r=n(95775),i=n(4216);e.exports=r(2,(function(e,t){if(void 0===e&&(e=0),!i(t))return"";for(var n="",r=0;r<e;r++)n+=t;return n}))},63609:function(e,t,n){"use strict";var r=n(95775);e.exports=r(3,(function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),n.replace(e,t)}))},56257:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.split(e)}))},67744:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.slice(0,e.length)===e}))},14033:function(e,t,n){"use strict";var r=n(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=/()/),void 0===t&&(t=""),e.test(t)}))},94905:function(e){"use strict";e.exports=function(e){return void 0===e&&(e=""),e.toLowerCase()}},81542:function(e){"use strict";var t=/([a-z])([A-Z])/g,n=/[^a-zA-Z]+/g;e.exports=function(e){return e.replace(t,(function(e,t,n){return t+" "+n})).split(n)}},10950:function(e,t){"use strict";t.A=void 0,t.A=function(){return new Promise((function(e){var t=window.tracking;t&&t.fullfill?t.trackingReady?t.trackingReady().then(e):e(t):window.addEventListener("tracking-created",(function(t){t instanceof CustomEvent&&e(t.detail||window.tracking)}))}))}},18422:function(e,t){"use strict";t.x4=t.OR=void 0,t.OR=function(e,t){var n=t.event,r=t.config,i=void 0===r?{}:r,o=t.payload,a=n,s=void 0===o?{}:o;"pushTrack"===i.type&&(a=i.type,s.pageAction?s._event=n:s.pageAction=n),e.event.call({isSendContext:!0,fromEventea:!0},a,s)},t.x4=function(e,t){var n=t.payload,r=void 0===n?{}:n;e.extend(r)}},72478:function(e,t,n){"use strict";var r=n(80476),i=n(49593),o=(0,r.__importDefault)(n(88511)),a=function(){function e(){var e=this;this.utils={},this.proxy=!0,this.addUtil=this.createProxiedMethod((function(e){return e.addUtil})),this.updateLocation=this.createProxiedMethod((function(e){return e.updateLocation})),this.addPixel=this.createProxiedMethod((function(e){return e.addPixel})),this.addEventsHandler=this.createProxiedMethod((function(e){return e.addEventsHandler})),this.use=this.createProxiedMethod((function(e){return e.use})),this._clearAllListeners=this.createProxiedMethod((function(e){return e._clearAllListeners})),this._event=this.createProxiedMethod((function(e){return e.event})),this._stateAcc={},this._listeners=Object.create(null),this.ready=new Promise((function(t){e._readyResolve=t})),this.trackingReady=new Promise((function(t){e._trackingResolve=t}))}return Object.defineProperty(e.prototype,"_version",{get:function(){return this.tracking?this.tracking._version:"proxy-5.71.6"},enumerable:!1,configurable:!0}),e.prototype.setTracking=function(e){var t=this;this.tracking=e;var n=Object.keys(e.state).length>0;this._trackingResolve(e),e.ready.then(this._readyResolve),e.extend(this._stateAcc),n&&this._listeners.change&&this._listeners.change.forEach((function(n){n(e.state,t._stateAcc)})),this._listeners=Object.create(null)},e.prototype.addPixels=function(e){return this.tracking?this.tracking.addPixels(e):this.trackingReady.then((function(t){return t.addPixels(e)}))},e.prototype.resolve=function(e){var t=this;return Promise.resolve(e).then((function(e){return t.setTracking(e),e}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.tracking?this.tracking.state:this._stateAcc},enumerable:!1,configurable:!0}),e.prototype.callUtil=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.tracking?(t=this.tracking).callUtil.apply(t,(0,r.__spreadArray)([e],n,!1)):this.trackingReady.then((function(t){return t.callUtil.apply(t,(0,r.__spreadArray)([e],n,!1))}))},e.prototype.fullfill=function(e){return this.tracking?this.tracking.fullfill(e):this.trackingReady.then((function(t){return t.fullfill(e)}))},e.prototype.extend=function(e){if(this.tracking)return this.tracking.extend(e);var t=Object.keys(e).reduce((function(t,n){var r=n.split(".");return(0,i.assoc)(t,r,e[n])}),this._stateAcc);return this.update(t)},e.prototype.extendDeep=function(e){if(this.tracking)return this.tracking.extendDeep(e);var t=Object.keys(e).reduce((function(t,n){var r=n.split(".");return(0,i.update)(t,r,(function(e,t){return(0,o.default)(e)&&(0,o.default)(t)?(0,i.deepMerge)(e,t):t}),e[n])}),this._stateAcc);return this.update(t)},e.prototype.update=function(e){return this.tracking?this.tracking.update(e):(this._stateAcc!==e&&(this._stateAcc=e),this)},e.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.tracking)return(e=this.tracking).remove.apply(e,t);var o=i.dissoc.apply(void 0,(0,r.__spreadArray)([this._stateAcc],t.map((function(e){return e.split(".")})),!1));return this.update(o)},e.prototype.on=function(e,t){this.tracking?this.tracking.on(e,t):("change"===e&&(this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)),this.trackingReady.then((function(n){n.on(e,t)})))},e.prototype.event=function(e,t){return"u"!=="object"[0]?this._event(e,t):this},e.prototype.off=function(e,t){this.tracking?this.tracking.off(e,t):("change"===e&&this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t}))),this.trackingReady.then((function(n){n.off(e,t)})))},e.prototype.emit=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.tracking?(t=this.tracking).emit.apply(t,(0,r.__spreadArray)([e],n,!1)):this.trackingReady.then((function(t){t.emit.apply(t,(0,r.__spreadArray)([e],n,!1))}))},e.prototype.waitFor=function(e){return this.trackingReady.then((function(t){return t.waitFor(e)}))},e.prototype.createProxiedMethod=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.tracking?e(t.tracking).apply(t.tracking,n):t.trackingReady.then((function(t){e(t).apply(t,n)})),t}},e}();t.Z=a},88511:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object(e)===e&&Object.getPrototypeOf(e)===Object.prototype}},83092:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r=(0,n(59999).V3)("BUNDLES_API_SERVICE")},48510:function(e,t,n){"use strict";n.d(t,{Jc:function(){return o},v5:function(){return i}});var r=n(59999),i=(0,r.V3)("RETRY_HOSTNAME_MAP"),o=(0,r.V3)("GET_RETRY_URL")},99270:function(e,t,n){"use strict";var r=n(15617),i=(r.createToken("microfronts mappings logger"),r.createToken("after mappings loaded",{multi:!0}),r.createToken("external mappings processor"));r.createToken("browserPersistingCacheToken"),r.createToken("browserPermanentCacheName"),t.I5=i},43732:function(e,t,n){"use strict";n.d(t,{Af:function(){return i},BW:function(){return h},Gj:function(){return g},HI:function(){return d},JM:function(){return b},N3:function(){return s},Rq:function(){return _},UE:function(){return p},_x:function(){return c},er:function(){return u},go:function(){return o},gp:function(){return f},iO:function(){return E},kE:function(){return a},o1:function(){return v},pX:function(){return l},w0:function(){return m},xb:function(){return y}});var r=n(59999),i=(0,r.V3)("boxyFallbackMappingExtension",{multi:!0}),o=(0,r.V3)("boxyCustomMappingExtension",{multi:!0}),a=(0,r.V3)("boxyBaseMappingExtension",{multi:!0}),s=(0,r.V3)("overwriting boxyBaseMappingExtension"),u=(0,r.V3)("boxyExternalMapping",{multi:!0}),c=(0,r.V3)("boxyPreparedExternalMappings"),l=(0,r.V3)("refreshMappingsToken"),d=(0,r.V3)("freezeClientMapping"),f=(0,r.V3)("eventeaRequestLoggerToken"),p=(0,r.V3)("forceRefreshThrottleTimeToken"),v=(0,r.V3)("external mapping cache"),h=(0,r.V3)("microfronts locker http client"),g=(0,r.V3)("enable cookie mapping"),m=(0,r.V3)("MAPPING_REQUEST_TIMEOUT_TOKEN"),y=(0,r.V3)("BOXY_BASE_URL"),b=(0,r.V3)("BOXY_URL_REWRITE"),_=(0,r.V3)("boxyServiceFactory"),E=(0,r.V3)("boxyLazy")},93679:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},e:function(){return i}});var r=n(59999),i=(0,r.V3)("notificationManager"),o=(0,r.V3)("notificationOptions",{multi:!0})},48943:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Re}});var r=n(90130),i=n(52723),o=n(33926),a=n(44121),s=n.n(a),u=n(10521),c=n.n(u),l=n(41124),d=n(20986),f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find((function(e){return void 0!==e}))};var p,v=(p=["padding","paddingX","paddingY","paddingTop","paddingLeft","paddingRight","paddingBottom"],function(e){var t={},n=(0,d.Z)({},e);return p.forEach((function(e){Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e],delete n[e])})),[t,n]}),h=function(e){var t=e.padding,n=e.paddingX,r=e.paddingY,i=e.paddingTop,o=e.paddingLeft,s=e.paddingRight,u=e.paddingBottom;return(0,a.useMemo)((function(){return function(e){var t,n=e.paddingX,r=e.paddingY,i=e.paddingTop,o=e.paddingLeft,a=e.paddingRight,s=e.paddingBottom,u="string"==typeof(t=e.padding)?t.split(/\s+/g):[t];return{paddingTop:f(i,r,u[0]),paddingLeft:f(o,n,u[3],u[1],u[0]),paddingRight:f(a,n,u[1],u[0]),paddingBottom:f(s,r,u[2],u[0])}}({padding:t,paddingX:n,paddingY:r,paddingTop:i,paddingLeft:o,paddingRight:s,paddingBottom:u})}),[t,n,r,i,o,s,u])},g=(v,h,"data-tui-portal-exit"),m="data-tui-portal-wrapper",y=["dataQaType","dataQaData","tagName","exitId"],b=s().forwardRef((function(e,t){var n,r=e.dataQaType,i=void 0===r?"uikit/portalExit":r,a=e.dataQaData,u=e.tagName,c=void 0===u?"div":u,f=e.exitId,p=void 0===f?"":f,v=(0,o.Z)(e,y);return s().createElement(c,(0,d.Z)({},v,(0,l.Z)({dataQaType:i,dataQaData:a}),((n={ref:t})[g]=p,n)))})),_=n(15295),E=n.n(_),w=["dataQaType","dataQaData","tagName","exitId","exitRef","exitProps","children","className"],S=s().forwardRef((function(e,t){var n,r=e.dataQaType,i=void 0===r?"uikit/portalWrapper":r,a=e.dataQaData,u=e.tagName,c=void 0===u?"div":u,f=e.exitId,p=void 0===f?"":f,v=e.exitRef,h=e.exitProps,g=e.children,y=e.className,_=(0,o.Z)(e,w);return s().createElement(c,(0,d.Z)({},_,(0,l.Z)({dataQaType:i,dataQaData:a}),((n={ref:t,className:[y,E().root].filter(Boolean).join(" ")})[m]=p,n)),s().createElement(b,Object.assign({dataQaType:i+".exit",exitId:p,ref:v},h)),g)})),T=n(86214),A=n.n(T),k=n(52675),O=n(36613),C=n(71363),R=n(90776),I=function(e,t){e&&("function"==typeof e?e(t):e.current=t)};var N=["tagName","toBody","to","exitRef","prerender","children"],M=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.toBody,a=e.to,u=void 0===a?r?"body":void 0:a,c=e.exitRef,l=e.prerender,f=e.children,p=(0,o.Z)(e,N),v=s().useState(null),h=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,v,2),y=h[0],b=h[1],_=s().useCallback((function(e){if(e){var t=function(e,t){return t?"string"==typeof t?"body"===(r=t)?document.body:document.querySelector("["+g+"="+r+"]")||document.body:t instanceof HTMLElement?t:document.body:(n=e.closest("["+m+"]"))&&n.querySelector("["+g+"]")||document.body;var n,r}(e,u);b(t),I(c,t)}else I(c,null)}),[u,c]);return s().createElement(s().Fragment,null,s().createElement(n,(0,d.Z)({ref:_,hidden:!0},p),l&&!y?f:null),y&&(0,R.createPortal)(f,y))};var x=function(e){var t=(0,a.useState)(!1),n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,t,2),r=n[0],o=n[1],s=(null==e?void 0:e.property)||"animation";return[(0,a.useCallback)((function(e){e&&o(function(e,t){var n=window.getComputedStyle(t).getPropertyValue(e+"-duration");return n.length<=2&&(Number.isNaN(parseFloat(n))||0===parseFloat(n))}(s,e))}),[s]),Boolean(r||(null==e?void 0:e.disabled))]},P=n(58903);var L=!1;try{var D=Object.defineProperty({},"passive",{get:function(){L=!0}});window.addEventListener("testPassive",null,D),window.removeEventListener("testPassive",null,D)}catch(e){}var j,B,U,F,V=window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),W=[],q=!1,H=-1,G=function(){return W.some((function(e){return e.options.allowTouchMove}))},Z=function(e){var t=e||window.event;return!!G()||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},K=function(e,t){if(e){if(!W.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};W=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(P.Z,W),[n]),V&&window.requestAnimationFrame((function(){if(void 0===U){U={position:document.body.style.position,width:document.body.style.width,top:document.body.style.top,left:document.body.style.left,htmlMinHeight:document.documentElement.style.minHeight};var e=window,t=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=-t+"px",document.body.style.left=-n+"px",document.documentElement.style.minHeight="100vh",setTimeout((function(){return window.requestAnimationFrame((function(){var e=r-window.innerHeight;e&&t>=r&&(document.documentElement.style.top=-(t+e)+"px")}))}),300)}})),function(e){if(void 0===F){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);F=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}if(void 0===j){var i=null!=e&&e.overflowTarget?e.overflowTarget:document.documentElement;B=i,j=i.style.overflow,i.style.overflow="hidden"}}(t),V&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(H=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-H;!G()&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?Z(e):e.stopPropagation())}(t,e)},q||(document.addEventListener("touchmove",Z,L?{passive:!1}:void 0),q=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},J=(0,a.createContext)(void 0);var z=function(e){var t=e.opened,n=e.popupRef,r=(0,a.useRef)(),i=(0,a.useContext)(J),o=void 0!==i;return(0,a.useEffect)((function(){r.current=null==i?void 0:i.setPrevLength}),[null==i?void 0:i.setPrevLength]),(0,a.useEffect)((function(){t&&o&&n?(null==r||null==r.current||r.current(),i.setPopups((function(e){return[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(P.Z,e),[n])}))):!t&&o&&n&&(null==r||null==r.current||r.current(),i.setPopups((function(e){return e.filter((function(e){return e!==n}))})))}),[t,o,n]),{popupsLength:o?i.popups.length:0,prevPopupsLength:o?i.popupsPrevLength:0,isPopupContextDefined:o,isPopupLast:!o||o&&!!n&&i.popups.indexOf(n)===i.popups.length-1}},Y=n(98585),Q=n.n(Y),X=n(44858),$=n.n(X);function ee(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var te=(0,a.forwardRef)((function(e,t){var n,r,o,u=e.dataQaType,f=void 0===u?"uikit/popup.overlay":u,p=e.dataQaData,v=e.opened,h=e.onClose,g=e.onKeyDown,m=e.onKeyUp,y=e.popupOpenedClass,b=void 0===y?Q().fade_open:y,_=e.popupClosedClass,E=void 0===_?Q().fade_close:_,w=e.disableAnimation,S=e.disableScroll,T=e.zIndex,R=e.minWidth,I=e.height,N=e.focusOnClose,P=e.transparent,D=e.gapFillColor,H=void 0===D?"rgba(0,0,0,0.75)":D,G=e.children,J=e.onCloseEnd,Y=e.blur,X=e.overflowTarget,te=(0,a.useState)(v),ne=ee(i.Z,te,2),re=ne[0],ie=ne[1],oe=(0,a.useRef)(null),ae=(0,a.useRef)(null),se=(0,a.useRef)(null),ue=(0,a.useRef)(null),ce=(0,a.useState)(S),le=ee(i.Z,ce,2),de=le[0],fe=le[1],pe=(0,a.useCallback)((function(){var e=se.current,t=ue.current;e&&t&&!(t.offsetHeight>e.clientHeight)&&!S&&fe(!0)}),[S]),ve=(0,a.useCallback)((function(){!S&&fe(!1)}),[S]),he=x({property:"animation",disabled:w}),ge=ee(i.Z,he,2),me=ge[0],ye=ge[1],be=(0,O.q)([t,(0,C.W)(null,(function(e,t){var n,r;e?(e.querySelector("*:focus")||(oe.current=N||document.activeElement,G&&(null==(n=se.current)||n.focus())),K(e,{allowTouchMove:!0,reserveScrollBarGap:!0,overflowTarget:X})):t&&(oe.current&&(oe.current.focus(),oe.current=null),(r=t)?(W=W.filter((function(e){return e.targetElement!==r})),V&&(r.ontouchstart=null,r.ontouchmove=null,q&&0===W.length&&(document.removeEventListener("touchmove",Z,L?{passive:!1}:void 0),q=!1)),V&&function(){if(void 0!==U){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=U.position,document.body.style.width=U.width,document.body.style.top=U.top,document.body.style.left=U.left,document.documentElement.style.minHeight=U.htmlMinHeight,window.scrollTo(t,e),U=void 0}}(),0===W.length&&(void 0!==F&&(document.body.style.paddingRight=F,F=void 0),void 0!==j&&void 0!==B&&(B.style.overflow=j,j=void 0,B=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."))}))],null),_e=z({opened:v,popupRef:be}),Ee=_e.isPopupContextDefined,we=_e.isPopupLast,Se=_e.popupsLength,Te=_e.prevPopupsLength,Ae=s().useCallback((function(e){"esc"===A()(e.nativeEvent)&&h(e),g&&g(e)}),[h,g]),ke=s().useCallback((function(e){ae.current=e.target}),[]),Oe=s().useCallback((function(e){ae.current&&ae.current===ue.current&&(h(e),ae.current=null)}),[h]),Ce=s().useCallback((function(){ie(!1),J&&J()}),[J]),Re=s().useCallback((function(e){if(e.preventDefault(),ue.current){var t=ue.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[t.length-1];n&&n.focus()}}),[]),Ie=s().useCallback((function(e){var t;e.preventDefault(),null==(t=se.current)||t.focus()}),[]);(0,a.useEffect)((function(){v&&ie(!0),!v&&ye&&Ce()}),[ye,Ce,v]);var Ne=P?void 0:{boxShadow:"0 100vh 0 100vh "+H};return re?s().createElement(M,{to:"body"},s().createElement("div",Object.assign({},(0,l.Z)({dataQaType:f,dataQaData:p}),{ref:be,role:"dialog",className:c()((n={},n[$().root]=!0,n[$().root_closed]=!v,n[$().root_opened]=v,n[$().root_disabledScroll]=S||de,n[$().root_disabledAnimation]=w,n[$().root_transparent]=P,n[$().root_blurred]=Y,n)),onKeyDown:Ae,onKeyUp:m,style:{zIndex:"number"==typeof T||void 0===T?T:k.layers[T],height:I}}),s().createElement("div",{className:c()((r={},r[$().backdrop]=!0,r[$().backdrop_transparent]=P,r[$().backdrop_noAnimation]=Ee&&(Se>1||1===Se&&2===Te),r)),ref:me,style:(0,d.Z)({},Ne,{backgroundColor:we?void 0:"rgb(0, 0, 0, 0)"}),onAnimationEnd:v||ye?void 0:Ce}),s().createElement("div",{tabIndex:0,onFocus:Re}),s().createElement("div",{tabIndex:0,className:$().popupScrollableWrapper,ref:se},s().createElement("div",{ref:ue,className:c()((o={},o[$().popupWrapper]=!0,o[b]=!w&&v,o[E]=!w&&!v,o)),onMouseDown:ke,onMouseUp:Oe,style:{minWidth:R},"data-qa-type":"uikit/popup.wrapper",onAnimationStart:pe,onAnimationEnd:ve},G)),s().createElement("div",{tabIndex:0,onFocus:Ie}))):null})),ne=n(35250),re=n.n(ne),ie=function(e){var t,n=e.dataQaType,r=void 0===n?"uikit/popup.paper":n,i=e.size,o=void 0===i?"l":i,a=e.mobileSize,u=void 0===a?"s":a,f=e.media,p=e.disableHorizontalPadding,v=e.children,g=e.backgroundColor,m=e.alignCross,y=void 0===m?"center":m,b=e.minWidth,_=e.gap,E=e.mobileGap,w=e.UNSAFE_className,S=e.UNSAFE_style,T=h(e),A="number"==typeof o;return s().createElement("div",Object.assign({className:c()(re().root,(t={},t[re()["root_size_"+(A?"custom":o)]]=o,t[re()["root_media_"+f]]=f,t[re()["root_mobileSize_"+u]]=u,t[re().root_disableHorizontalPadding]=p,t[re()["root_alignCross_"+y]]=y,t),w),style:(0,d.Z)({},{padding:"phone"===f?E:_},S)},(0,l.Z)({dataQaType:r})),s().createElement("div",Object.assign({},(0,l.Z)({dataQaType:r+".container"}),{className:re().paper,style:(0,d.Z)({},T,{maxWidth:A?o+"px":void 0,backgroundColor:g,minWidth:b})}),s().createElement("div",{className:re().paperInner},v)))},oe=n(84282),ae=n.p+"53c601a06750a5cf1be56b7c98071849.svg",se=n(88965),ue=n.n(se),ce=function(e){var t,n=e.onClick,r=e.theme,i=e.media,o=e.dataQaType,a=e.ariaLabel,u=void 0===a?"Закрыть попап":a;return s().createElement("button",Object.assign({type:"button",className:c()(ue().root,(t={},t[ue()["root_theme_"+r]]=r,t[ue()["root_media_"+i]]=i,t)),onClick:n,onMouseDown:function(e){e.preventDefault()},"aria-label":u},(0,l.Z)({dataQaType:o+".closeButton"})),s().createElement(oe.ZP,{icon:ae,iconSize:16}))},le=n(11742),de=n.n(le);function fe(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var pe=["dataQaType","size","mobileSize","minWidth","onClose","disableHorizontalPadding","mobileCloseButtonTheme","children","backgroundColor","alignCross","overlayHeight","paperMinWidth","gap","mobileGap","closeable","closeButtonAriaLabel","UNSAFE_className","UNSAFE_style","mediaMap","exitId","defaultMedia"],ve={phone:599,tabletS:767,tabletL:1023,desktopS:1359,desktopM:1/0},he=function(e){var t,n,r=e.dataQaType,u=void 0===r?"uikit/popup":r,d=e.size,f=e.mobileSize,p=e.minWidth,h=e.onClose,g=e.disableHorizontalPadding,m=e.mobileCloseButtonTheme,y=void 0===m?"onPaper":m,b=e.children,_=e.backgroundColor,E=e.alignCross,w=e.overlayHeight,T=e.paperMinWidth,A=e.gap,k=e.mobileGap,O=e.closeable,C=void 0===O||O,R=e.closeButtonAriaLabel,I=e.UNSAFE_className,N=e.UNSAFE_style,M=e.mediaMap,x=void 0===M?ve:M,P=e.exitId,L=e.defaultMedia,D=void 0===L?"desktopM":L,j=(0,o.Z)(e,pe),B=v(j),U=fe(i.Z,B,2),F=U[0],V=U[1],W=(0,a.useState)(D),q=fe(i.Z,W,2),H=q[0],G=q[1];(0,a.useEffect)((function(){var e=Object.keys(x).filter((function(e){return x[e]>(p||0)})),t=e.map((function(t,n){var r=function(e,t,n){var r=[];return n>0&&r.push("(min-width: "+(e[t[n-1]]+1)+"px)"),n<t.length-1&&e[t[n]]&&r.push("(max-width: "+e[t[n]]+"px)"),r.join(" and ")}(x,e,n),i=window.matchMedia(r),o=function(e){e.matches&&G(t)};return i.addEventListener?i.addEventListener("change",o):i.addListener(o),i.matches&&G(t),[i,o]}));return function(){t.forEach((function(e){var t=fe(i.Z,e,2),n=t[0],r=t[1];n.removeEventListener?n.removeEventListener("change",r):n.removeListener(r)}))}}),[p,x]);var Z="phone"===H||"fullscreen"===d;return s().createElement(te,Object.assign({},V,{height:w,onClose:h,dataQaType:u,gapFillColor:Z?_||"var(--tui-background-base, #fff)":void 0}),Z||!C?null:s().createElement("div",{className:de().closeButtonContainer},s().createElement("div",{className:c()(de().closeButton,(t={},t[de()["closeButton_media_"+H]]=H,t))},s().createElement(ce,{onClick:h,theme:"onOverlay",media:H,dataQaType:u,ariaLabel:R}))),s().createElement(ie,Object.assign({size:d,mobileSize:f,media:H,disableHorizontalPadding:g,dataQaType:u+".paper",backgroundColor:_,alignCross:E,minWidth:T,gap:A,mobileGap:k,UNSAFE_className:I,UNSAFE_style:N},F),Z&&C?s().createElement("div",{className:de().closeButtonContainer},s().createElement("div",{className:c()(de().closeButton,(n={},n[de()["closeButton_media_"+H]]=H,n))},s().createElement(ce,{onClick:h,theme:"phone"===H?y:"onPaper",media:H,dataQaType:u,ariaLabel:R}))):null,s().createElement(S,{exitId:P},s().createElement("div",(0,l.Z)({dataQaType:u+".content"}),b))))},ge=["background","dataQaData","dataQaType","variant","image","title","description","primaryButton","secondaryButton","UNSAFE_className","UNSAFE_style","styles"],me=function(e){var t=e.background,n=e.dataQaData,r=e.dataQaType,i=void 0===r?"uikit/blockStatus":r,a=e.variant,u=void 0===a?"card":a,f=e.image,p=e.title,v=e.description,h=e.primaryButton,g=e.secondaryButton,m=e.UNSAFE_className,y=e.UNSAFE_style,b=e.styles,_=(0,o.Z)(e,ge);return s().createElement("div",Object.assign({},_,(0,l.Z)({dataQaType:i,dataQaData:n}),{"data-variant":u,className:c()(b.root,m),style:(0,d.Z)({background:t},y)}),f?s().createElement("div",{className:b.image},f):null,p?s().createElement("div",{className:b.title},p):null,v?s().createElement("div",{className:b.description},v):null,h?s().createElement("div",{className:b.primaryButton},h):null,g?s().createElement("div",{className:b.secondaryButton},g):null)},ye=n(1),be=n.n(ye),_e=function(e){return s().createElement(me,Object.assign({},e,{styles:be()}))},Ee=n(44488),we=n(61e3),Se=n(10055),Te=n(23286),Ae=["onClick"],ke=function(e){var t=e.onClick,n=(0,o.Z)(e,Ae);return(0,r.jsx)(Te.Z,Object.assign({theme:"primary",onClick:t,size:"m",round:!0,dataQaType:"pushweb-accept-button",children:"Включить"},n))},Oe=["onClick"],Ce=function(e){var t=e.onClick,n=(0,o.Z)(e,Oe);return(0,r.jsx)(Te.Z,Object.assign({theme:"flat",onClick:t,size:"m",dataQaType:"pushweb-decline-button",children:"Напомнить позже"},n))};function Re(e){var t,n,i,o,s,u=(0,Ee.x)({token:Se.WH,optional:!0}),c=(0,Ee.x)({token:Se.Ji,optional:!0});return(0,a.useEffect)((function(){if(e.opened&&u)return u(),c}),[u,c,e.opened]),(0,r.jsx)(he,{opened:e.opened,closeable:!1,onClose:e.onClose,children:(0,r.jsx)(_e,{title:null!==(t=e.bannerTitle)&&void 0!==t?t:we.Pq,description:null!==(n=e.bannerDescription)&&void 0!==n?n:we.qs,image:(0,r.jsx)("img",{src:""+(null!==(i=e.iconUrl)&&void 0!==i?i:"https://acdn.tinkoff.ru/static/pages/files/1aea01d6-042d-4786-88a1-f6131c169f50.svg"),alt:""}),primaryButton:null===(null==e?void 0:e.primaryButton)?null:(0,r.jsx)(ke,Object.assign({},null!==(o=null==e?void 0:e.primaryButton)&&void 0!==o?o:{},{onClick:function(t){var n,r,i;null===(n=null==e?void 0:e.onAccept)||void 0===n||n.call(e),null===(i=null===(r=null==e?void 0:e.primaryButton)||void 0===r?void 0:r.onClick)||void 0===i||i.call(r,t)}})),secondaryButton:null===(null==e?void 0:e.secondaryButton)?null:(0,r.jsx)(Ce,Object.assign({},null!==(s=null==e?void 0:e.secondaryButton)&&void 0!==s?s:{},{onClick:function(t){var n,r,i;null===(n=null==e?void 0:e.onDecline)||void 0===n||n.call(e),null===(i=null===(r=null==e?void 0:e.secondaryButton)||void 0===r?void 0:r.onClick)||void 0===i||i.call(r,t)}})),variant:"fullscreen"})})}},61e3:function(e,t,n){"use strict";n.d(t,{J8:function(){return a},Pq:function(){return i},ki:function(){return r},qs:function(){return o}});var r=1e4,i="Советуем включить пуш‑уведомления",o="Они будут приходить как обычно и помогут не пропустить важное о ваших финансах",a="https://acdn.tinkoff.ru/static/pages/files/1aea01d6-042d-4786-88a1-f6131c169f50.svg"},83351:function(e,t,n){"use strict";n.d(t,{Pt:function(){return u},Rr:function(){return s},vZ:function(){return l}});var r=n(42353),i=n(58426),o=n(39535),a=(0,r.y)("PUSH_WEB_SETTINGS_LOADED"),s=(0,r.y)("PUSH_WEB_STATE_UPDATE"),u=(0,r.y)("PUSH_WEB_SUBSCRIPTION_UPDATE"),c=Object.assign({},o.$q.INIT,{subscription:null,status:o.$q.INIT.id,settings:{}}),l=(0,i.L)("pushWeb",c).on(a,(function(e,t){return Object.assign({},e,{settings:t.settings})})).on(s,(function(e,t){return Object.assign({},e,t)})).on(u,(function(e,t){return Object.assign({},e,{subscription:t.subscription})}))},10055:function(e,t,n){"use strict";n.d(t,{Ji:function(){return d},MA:function(){return u},QF:function(){return c},WH:function(){return l},ai:function(){return i},c7:function(){return s},ev:function(){return o},nd:function(){return a}});var r=n(59999),i=(0,r.V3)("PUSH_WEB_INSTANCE_TOKEN"),o=(0,r.V3)("PUSH_WEB_USER_SETTINGS"),a=(0,r.V3)("PUSH_NOTIFICATIONS_SETTINGS"),s=(0,r.V3)("WEB_PUSH_LOGGER"),u=(0,r.V3)("webPushCustomGentleBannerConfig"),c=(0,r.V3)("webPushGentleBannerConfig"),l=(0,r.V3)("webPushOnAppear"),d=(0,r.V3)("webPushOnClose")},21789:function(e,t,n){"use strict";n.d(t,{E:function(){return i},Kf:function(){return a},nN:function(){return s},se:function(){return o}});var r=n(59999),i=(0,r.V3)("STATIST_API_CLIENT"),o=(0,r.V3)("STATIST_EVENT_API_CLIENT"),a=(0,r.V3)("STATIST_METRIC_API_CLIENT"),s=(0,r.V3)("TRACK_AND_UPDATE_SSO_ID_FLAG")},23070:function(e,t,n){"use strict";var r=n(1953);Object.defineProperty(t,"__esModule",{value:!0});var i=n(90130),o=n(30873),a=n(44121),s=n(12052),u=n(71358),c=n(19328),l=n(66629);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=d(o),p=d(c);t.CrossAppNavigateLoaderWrapper=function(){return function(e){return function(t){return function(e,t){var n=u.useDi(s.PUBSUB_TOKEN),o=a.useState(!1),c=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r,o,2),d=c[0],v=c[1];return a.useEffect((function(){var e=function(){return v(!1)};window.addEventListener("pageshow",e);var t=n.subscribe(l.NAVIGATE_WITH_HARD_RELOAD,(function(){v(!0)}));return function(){window.removeEventListener("pageshow",e),t()}}),[n]),i.jsx("div",{children:d?i.jsx("div",{className:""+p.default.crossAppNavigateLoader,children:i.jsx(f.default,{overlay:!0,semiTransparentBg:!1,fadeAnimation:"false",size:"xxl"})}):i.jsx(e,Object.assign({},t))})}(e,t)}}}},66629:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAVIGATE_WITH_HARD_RELOAD="NAVIGATE_WITH_HARD_RELOAD"},95221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80476),i=n(21526),o=n(8479),a=n(23070);t.SupCrossAppNavigateLoaderModule=function(){},t.SupCrossAppNavigateLoaderModule=r.__decorate([i.Module({providers:[i.provide({provide:o.LAYOUT_OPTIONS,multi:!0,useFactory:function(){return{wrappers:{layout:a.CrossAppNavigateLoaderWrapper()}}}})]})],t.SupCrossAppNavigateLoaderModule)},20719:function(e,t,n){"use strict";n(95221);var r=n(66629);t.$l=r.NAVIGATE_WITH_HARD_RELOAD},67570:function(e,t,n){"use strict";n.d(t,{Bv:function(){return i},X9:function(){return h},Yw:function(){return c},eW:function(){return o},g3:function(){return d},j5:function(){return u},lb:function(){return v},nM:function(){return s},q2:function(){return l},qJ:function(){return p},qq:function(){return f},rF:function(){return a}});var r=n(59999),i=(0,r.V3)("EVENTEA_TOKEN"),o=(0,r.V3)("EVENTEA_PROJECT_HANDLERS",{multi:!0}),a=(0,r.V3)("EVENTEA_ROUTING"),s=(0,r.V3)("EVENTEA_ERROR_HANDLERS"),u=(0,r.V3)("EVENTEA_DEFAULT_LOG_HANDLER"),c=(0,r.V3)("EVENTEA_STATIST_HANDLER"),l=(0,r.V3)("EVENTEA_DEFAULT_TRACKING_HANDLER"),d=(0,r.V3)("EVENTEA_TWT_DATA_HANDLER"),f=(0,r.V3)("EVENTEA_DEFAULT_EVENT_HANDLER",{multi:!0}),p=(0,r.V3)("EVENTEA_DEFAULT_DATA_HANDLER",{multi:!0}),v=(0,r.V3)("EVENTEA_CLIENT_LOADER_TIMEOUT"),h=(0,r.V3)("EVENTEA_PRELOAD_PROJECTS_SELECTOR")},20076:function(e,t,n){"use strict";n.d(t,{DG:function(){return i},LM:function(){return d},Q6:function(){return o},c3:function(){return c},de:function(){return u},eZ:function(){return s},vi:function(){return l},xO:function(){return a}});var r=n(59999),i=(0,r.V3)("router appIdResolve"),o=(0,r.V3)("router allAppsIdsResolve"),a=(0,r.V3)("router domainResolve"),s=(0,r.V3)("router routeResolveExtend",{multi:!0}),u=(0,r.V3)("router configMigration",{multi:!0}),c=(0,r.V3)("router fallback"),l=(0,r.V3)("router enableAutoDomainResolve"),d=(0,r.V3)("router criticalRoutesList",{multi:!0})},22141:function(e,t){"use strict";t.Z={}},82318:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(59576);function i(e){var t,n=Object.assign(e.fn,((t={})[r.d]=e,t));return e.conditions||(e.conditions={}),n}},20745:function(e,t,n){"use strict";n.d(t,{H:function(){return o},J:function(){return a}});var r=n(59576),i=n(13651);function o(e){var t,n,o=function(t,n,r){var o=new i.H;return e.fn.apply({executeAction:t.executeAction,dispatch:t.dispatch,getState:t.getState,actionType:"standalone",abortController:o,abortSignal:o.signal,deps:r},n)};return Object.defineProperty(o,"name",{value:e.name,writable:!0,enumerable:!0,configurable:!0}),Object.assign(o,Object.assign({},e,((t={tramvaiActionVersion:2})[r.d]=Object.assign({},e,{conditions:null!==(n=e.conditions)&&void 0!==n?n:{}}),t)))}function a(e){return"tramvaiActionVersion"in e&&2===e.tramvaiActionVersion}},71341:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(58903),i=n(68989),o=n.n(i),a=n(56274),s=n.n(a),u=n(52141),c=n.n(u);var l=function e(t,n){return Array.isArray(t)&&Array.isArray(n)?o()(t,n):"object"==typeof t&&"object"==typeof n?s()(e,t,n):n},d=s()(l),f=function e(t){if(!t||!t.length)return{};var n=t.map((function(t){return d(e(t.presets),c()(["presets"],t))}));return 1===n.length?n[0]:d.apply(void 0,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,n))};function p(e){var t={};return e.presets&&(t=f(e.presets)),d(t,e)}},21533:function(e,t,n){"use strict";n.d(t,{g:function(){return h},r:function(){return g}});var r=n(45232),i=n(17935),o=n.n(i),a=n(67584),s=n(95738),u=n(50561),c=n(54499),l=n(56245),d=n(80283),f=n(29772),p=n(80772),v=n(82342),h=function(){function e(e){var t=this,n=e.name,r=e.modules,i=void 0===r?[]:r,o=e.bundles,d=void 0===o?{}:o,p=e.actions,v=void 0===p?[]:p,h=e.providers;this.di=(0,s.f)(),this.modulesToResolve=new Set,this.walkOfProviders(function(e,t,n,r){return[{provide:f.Qo,scope:a.s.SINGLETON,useValue:{appName:e}},{provide:f.om,scope:a.s.SINGLETON,useValue:t},{provide:f.I7,scope:a.s.SINGLETON,useValue:n,multi:!0},{provide:f.mJ,scope:a.s.SINGLETON,useValue:r}]}(n,d,v,i)),(0,u.l)(i).forEach((function(e){var n=(0,c.s)(e);t.modulesToResolve.add((0,l.W)(e)?e.mainModule:e),t.walkOfProviders(n.providers)})),h&&this.walkOfProviders(h)}var t=e.prototype;return t.initialization=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n="init"),window.__TRAMVAI_HTML_READY__||!window.__TRAMVAI_HTML_READY_PROMISE__){e.next=4;break}return e.next=4,Promise.race([window.__TRAMVAI_HTML_READY_PROMISE__,new Promise((function(e){"complete"===document.readyState?e():document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&e()}))}))]);case 4:if(r=this.di.get({token:v.Fp,optional:!0}),i=null==r?void 0:r("tramvai-core"),a=this.di.get({token:p.S9,optional:!0})){e.next=9;break}throw new Error("`COMMAND_LINE_RUNNER_TOKEN` is not defined, have you added `@tramvai/module-common` to your dependency list?");case 9:return null==i||i.warn({event:"tramvai-app-init",message:"Initializing. Run CommandLineRunner."}),e.next=12,a.run(t,n);case 12:return s=e.sent,null==i||i.warn({event:"tramvai-app-init",message:"CommandLineRunner executed successfully. Resolving modules."}),this.resolveModules(),null==i||i.warn({event:"tramvai-app-init",message:"Modules resolved successfully. Tramvai App initialized"}),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.walkOfProviders=function(e){var t=this;e.forEach((function(e){t.di.register(e)}))},t.resolveModules=function(){var e=this;this.modulesToResolve.forEach((function(t){new t(e.resolveModuleDeps(t))}))},t.resolveModuleDeps=function(e){var t=e[d.e].deps;if(t)return this.di.getOfDeps(t)},e}();function g(e){var t;try{t=new h(e)}catch(e){throw e.appCreationError=!0,e}return t.initialization("client").then((function(){return t})).catch((function(e){throw e instanceof Error&&(e.appCreationError=!0),e}))}},21526:function(e,t,n){"use strict";n.r(t),n.d(t,{ACTIONS_LIST_TOKEN:function(){return s.I7},ACTION_PARAMETERS:function(){return s.dV},APP_INFO_TOKEN:function(){return s.Qo},App:function(){return r.g},BUNDLE_LIST_TOKEN:function(){return s.om},COMMAND_LINES_TOKEN:function(){return s.PR},COMMAND_LINE_RUNNER_TOKEN:function(){return s.S9},DI_TOKEN:function(){return u.Z},Deferred:function(){return _},IS_DI_CHILD_CONTAINER_TOKEN:function(){return c.w},MODULES_LIST_TOKEN:function(){return s.mJ},MODULE_PARAMETERS:function(){return l.e},Module:function(){return l.Y},Scope:function(){return d.s},commandLineListTokens:function(){return s.Bi},createAction:function(){return o.P},createApp:function(){return r.r},createBundle:function(){return i.Z},createToken:function(){return f.V3},declareAction:function(){return a.H},declareModule:function(){return p.J},getModuleParameters:function(){return v.s},isExtendedModule:function(){return h.W},isTramvaiAction:function(){return a.J},optional:function(){return f.jt},provide:function(){return g.J},walkOfModules:function(){return m.l}});var r=n(21533),i=n(71341),o=n(82318),a=n(20745),s=n(29772),u=n(16842),c=n(80211),l=n(80283),d=n(67584),f=n(59999),p=n(66598),v=n(54499),h=n(56245),g=n(97570),m=n(50561),y=n(64805),b=n.n(y),_=function(){var e=this;this.status="pending",this.resolve=b(),this.reject=b(),this.promise=new Promise((function(t,n){e.resolve=function(n){"pending"===e.status&&(e.status="resolved",t(n))},e.reject=function(t){"pending"===e.status&&(e.status="rejected",n(t))}}))}},24592:function(e,t,n){"use strict";n.d(t,{SG:function(){return u},Te:function(){return s},ZY:function(){return o},cY:function(){return a},dZ:function(){return c},t3:function(){return i},ty:function(){return l}});var r=n(59999),i=(0,r.V3)("analytics"),o=(0,r.V3)("analyticsConfig"),a=(0,r.V3)("analyticsTagManagerContainer"),s=(0,r.V3)("analyticsTTM"),u=(0,r.V3)("analyticsTwtBundle"),c=(0,r.V3)("analyticsEventeaReady"),l=(0,r.V3)("ANALYTICS_MODE")},78944:function(e,t,n){"use strict";n.d(t,{BZ:function(){return i},cr:function(){return o},qD:function(){return r}});var r="module:authenticate:auth",i="AUTH_JUNIOR_MOCK_ENABLED",o="auth:junior:mock"},92584:function(e,t){"use strict";t.qD="module:authenticate:auth"},92105:function(e,t,n){"use strict";n.d(t,{C:function(){return o},p:function(){return a}});var r=n(42353),i=n(58426),o=(0,r.y)("UPDATE_SESSION"),a=(0,i.L)("session",{}).on(o,(function(e,t){return t}))},86927:function(e,t){"use strict";t.S="mediaInfo"},66824:function(e,t,n){"use strict";n.d(t,{X:function(){return o},c:function(){return a}});var r=n(42353),i=n(58426),o=(0,r.y)("setUserAgent"),a=(0,i.L)("userAgent",null).on(o,(function(e,t){return t}))},33464:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=(0,n(59999).V3)("userAgent")},60531:function(e,t,n){"use strict";n.d(t,{XH:function(){return d}});n(66598);var r=n(97570),i=n(37621),o=n(49103),a=n.n(o),s=n(42353),u=n(58426),c=(0,s.y)("FEATURE_TOGGLE"),l=(0,u.L)("featureToggle",{__values:{}}).on(c,(function(e,t){var n={},r={};return a()((function(e,t){var i=e.status,o=e.value;!1!==i&&(n[t]=i),null!==i&&i===o||(r[t]=o)}),t),Object.assign({},n,{__values:r})})),d=function(e,t){return t[e]};(0,r.J)({provide:i.Ym,useValue:l,multi:!0})},53402:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r=(0,n(59999).V3)("INSTALL_TYPE")},26442:function(e,t,n){"use strict";n.d(t,{AO:function(){return a}});var r,i=n(80476),o=n(80283),a=r=function(){function e(){}return e.forRoot=function(e){return e.config,{mainModule:r,providers:[]}},e}();a=r=(0,i.__decorate)([(0,o.Y)({providers:[]})],a)},16254:function(e,t,n){"use strict";n.d(t,{Ct:function(){return f},FZ:function(){return o},P$:function(){return d},U5:function(){return i},Yv:function(){return s},jB:function(){return c},p$:function(){return a},rZ:function(){return u},vR:function(){return l}});var r=n(59999),i=(0,r.V3)("router routerClassToken"),o=(0,r.V3)("router additionalParameters"),a=(0,r.V3)("router onChangeHooks",{multi:!0}),s=(0,r.V3)("router beforeResolveHooks",{multi:!0}),u=(0,r.V3)("router beforeNavigateHooks",{multi:!0}),c=(0,r.V3)("router afterNavigateHooks",{multi:!0}),l=(0,r.V3)("router beforeUpdateCurrentHooks",{multi:!0}),d=(0,r.V3)("router afterUpdateCurrentHooks",{multi:!0}),f=(0,r.V3)("router finalRouteTransform")},14908:function(e,t,n){"use strict";n.d(t,{L$:function(){return o},Qk:function(){return a},sH:function(){return s}});var r=n(42353),i=n(58426),o=(0,r.y)("SET_CURRENT_ROUTE"),a=(0,r.y)("SET_URL_ON_REHYDRATE"),s=(0,i.L)("router",{currentRoute:null,previousRoute:null,currentUrl:null,previousUrl:null}).on(o,(function(e,t){var n=t.to,r=t.from,i=t.url,o=t.fromUrl,a=t.replace;return{currentRoute:n,previousRoute:a?e.previousRoute:r,currentUrl:i,previousUrl:a?e.previousUrl:o}})).on(a,(function(e,t){return Object.assign({},e,{currentUrl:t})}))},26874:function(e,t){"use strict";t.It="pcId"},43158:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r=(0,n(44121).createContext)(null)},44488:function(e,t,n){"use strict";n.d(t,{T:function(){return s},x:function(){return c}});var r=n(44121),i=n(57801),o=n.n(i),a=n(43158),s=function(){var e=(0,r.useContext)(a.n);if(!e)throw new Error("DI container not found");return e},u=function(e){return"token"in e&&(1===Object.keys(e).length||"boolean"==typeof e.optional||"boolean"==typeof e.multi)};function c(e){var t=s();return(0,r.useMemo)((function(){return"[object Object]"!==e.toString()||u(e)?t.get(e):o()((function(e){return t.get(e)}),e)}),[e,t])}},38003:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(35207),i=n(90130),o=n(44121),a=n(77094),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={error:t.error||null,url:t.url},n}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return void 0===e.url?{error:e.error||t.error}:e.url!==t.url?{error:e.error||null,url:e.url}:{error:e.error||t.error,url:t.url}},t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.componentDidCatch=function(e,t){var n=this.props.errorHandlers;n&&n.forEach((function(n){n(e,t)}))},n.render=function(){var e=this.props,t=e.children,n=e.fallback,r=e.fallbackFromDi,o=this.state,s=o.url,u=o.error;return u?n?(0,i.jsx)(n,{url:s,error:u}):r||(0,i.jsx)(a.R,{}):t},t}(o.Component);s.displayName="UniversalErrorBoundary"},77094:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(90130),i=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{textAlign:"center",marginBottom:11,paddingTop:26,fontSize:30,lineHeight:"36px",fontWeight:200},children:"An error occurred :("}),(0,r.jsxs)("div",{style:{textAlign:"center",marginBottom:17,color:"#9299a2",fontSize:20,lineHeight:"24px"},children:["Try"," ",(0,r.jsx)("a",{href:"",onClick:function(){return window.location.reload()},children:"reloading the page"})]})]})};i.displayName="FallbackError"},33268:function(e,t,n){"use strict";n.d(t,{Ek:function(){return a},O7:function(){return i},Rd:function(){return o}});var r=n(59999),i=(0,r.V3)("reactErrorBoundaryHandlers",{multi:!0}),o=(0,r.V3)("rootErrorBoundaryComponent"),a=(0,r.V3)("errorBoundaryFallbackComponent")},96589:function(e,t,n){"use strict";n.d(t,{gm:function(){return R},Vo:function(){return I},BU:function(){return C}});var r=n(45232),i=n(17935),o=n.n(i),a=n(87346),s=n.n(a),u=n(44121),c=n(33926),l=n(20986),d=n(65641),f=n(35207);var p=u.createContext(),v={},h="PENDING",g="REJECTED",m=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?m:t,r=e.render,i=e.onLoad;function o(e,t){void 0===t&&(t={});var o=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),s={};function m(e){return t.cacheKey?t.cacheKey(e):o.resolve?o.resolve(e):"static"}function y(e,r,i){var o=t.resolveComponent?t.resolveComponent(e,r):n(e);return a(i,o,{preload:!0}),o}var b,_,E=function(e){var t=m(e),n=s[t];return n&&n.status!==g||((n=o.requireAsync(e)).status=h,s[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:o.resolve(e),chunkName:o.chunkName(e),error:t?t.message:t}),n.status=g}))),n},w=function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:m(n)},function(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}(!n.__chunkExtractor||o.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(o.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(o.chunkName(n))),(0,d.Z)(r)):(!1!==t.ssr&&(o.isReady&&o.isReady(n)||o.chunkName&&v[o.chunkName(n)])&&r.loadSync(),r)}(0,f.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=m(e);return(0,l.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var a=n.prototype;return a.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===g&&this.setCache(),this.state.loading&&this.loadAsync()},a.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},a.componentWillUnmount=function(){this.mounted=!1},a.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},a.getCacheKey=function(){return m(this.props)},a.getCache=function(){return s[this.getCacheKey()]},a.setCache=function(e){void 0===e&&(e=void 0),s[this.getCacheKey()]=e},a.triggerOnLoad=function(){var e=this;i&&setTimeout((function(){i(e.state.result,e.props)}))},a.loadSync=function(){if(this.state.loading)try{var e=y(o.requireSync(this.props),this.props,T);this.state.result=e,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:o.resolve(this.props),chunkName:o.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},a.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=y(t,e.props,T);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},a.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,c.Z)(e,["__chunkExtractor","forwardedRef"]));return E(t)},a.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,o=(e.__chunkExtractor,(0,c.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,s=a.error,u=a.loading,d=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===h)throw this.loadAsync();if(s)throw s;var f=i||t.fallback||null;return u?f:r({fallback:f,result:d,options:t,props:(0,l.Z)({},o,{ref:n})})},n}(u.Component),S=(_=function(e){return u.createElement(p.Consumer,null,(function(t){return u.createElement(b,Object.assign({__chunkExtractor:t},e))}))},(b=w).displayName&&(_.displayName=b.displayName+"WithChunkExtractor"),_),T=u.forwardRef((function(e,t){return u.createElement(S,Object.assign({forwardedRef:t},e))}));return T.displayName="Loadable",T.preload=function(e){T.load(e)},T.load=function(e){return E(e)},T}return{loadable:o,lazy:function(e,t){return o(e,(0,l.Z)({},t,{suspense:!0}))}}}var b=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return u.createElement(t,n)}}),_=b.loadable,E=b.lazy,w=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),S=w.loadable,T=w.lazy,A=_;A.lib=S;var k=E;k.lib=T;var O=A,C=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!("load"in t)||"function"!=typeof t.load){e.next=9;break}return e.next=5,t.load();case 5:return n=e.sent,r=n.__esModule?n.default:n.default||n,s()(t,r),e.abrupt("return",r);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t){if("CSS_CHUNK_LOAD_FAILED"===(null==e?void 0:e.code)){var n=e.request;if(document.querySelector('link[href="'+n+'"]')||document.querySelector('link[data-href="'+n+'"]'))return t()}throw e},I=function(e,t){void 0===t&&(t={});var n=e.importAsync;return e.importAsync=function(){return n().catch((function(e){return R(e,n)}))},t.suspense?k(e):O(e,{fallback:t.loading})}},71358:function(e,t,n){"use strict";n.r(t),n.d(t,{DIContext:function(){return r.n},ERROR_BOUNDARY_FALLBACK_COMPONENT_TOKEN:function(){return v.Ek},ERROR_BOUNDARY_TOKEN:function(){return v.O7},ErrorBoundary:function(){return h},FallbackError:function(){return p.R},ROOT_ERROR_BOUNDARY_COMPONENT_TOKEN:function(){return v.Rd},UniversalErrorBoundary:function(){return c.E},__lazyErrorHandler:function(){return m.gm},lazy:function(){return m.Vo},resolveLazyComponent:function(){return m.BU},useDi:function(){return s.x},useDiContainer:function(){return s.T},withDi:function(){return u},withError:function(){return g}});var r=n(43158),i=n(90130),o=n(87346),a=n.n(o),s=n(44488),u=function(e){return function(t){return a()((function(n){var r=(0,s.x)(e);return(0,i.jsx)(t,Object.assign({},n,r))}),t)}},c=n(38003),l=n(35207),d=n(80476),f=n(44121),p=n(77094),v=n(33268),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}(0,l.Z)(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e,t){var n=this.props.errorHandlers;n&&n.forEach((function(n){n(e,t)}))},n.render=function(){var e=this.props,t=e.children,n=e.fallbackComponent,r=e.fallbackComponentFromDi;return this.state.hasError?n||r||(0,i.jsx)(p.R,{}):t},t}(f.Component);h.displayName="ErrorBoundary",h=(0,d.__decorate)([u({errorHandlers:{token:v.O7,optional:!0},fallbackComponentFromDi:{token:v.Ek,optional:!0}})],h);var g=function(e){var t=(void 0===e?{}:e).fallbackComponent;return function(e){return a()((function(n){return(0,i.jsx)(h,{fallbackComponent:t,children:(0,i.jsx)(e,Object.assign({},n))})}),e)}},m=n(96589)},7349:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=function(e,t,n){try{return JSON.stringify(e,t,n)}catch(r){return function(e,t,n){var r=new Set,i=t||function(e){return e};return JSON.stringify(e,(function(e,t){return t&&"object"==typeof t?r.has(t)?"[~Circular~]":(r.add(t),i(t)):i(t)}),n)}(e,t,n)}}},90794:function(e,t,n){"use strict";n.d(t,{N:function(){return o},h:function(){return i}});var r=n(44121),i=(0,r.createContext)(null),o=(0,r.createContext)(null)},16615:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(44121),i=n(90794),o=function(){var e=(0,r.useContext)(i.h);if(!e)throw new Error('CONSUMER_CONTEXT not found, have you added "@tramvai/module-common"?\nAlso, you can check "@tramva/state" library duplicates in project lock file.');return e}},97548:function(e,t,n){"use strict";n.d(t,{v:function(){return y}});var r=n(5881),i=n.n(r),o=n(44121),a=n(13311),s=o.useLayoutEffect,u=n(25692),c=n.n(u),l=n(5103),d=n.n(l),f=n(66426),p=n(16615),v=function(){function e(e){var t=this;this.handleStateChange=function(){t.onStateChange&&t.onStateChange()},this.stores=e,this.unsubscribe=void 0}var t=e.prototype;return t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.setOnStateChange=function(e){this.onStateChange=e},t.trySubscribe=function(){var e=this;this.unsubscribe||(this.unsubscribe=this.stores.filter(Boolean).map((function(t){return t.on("change",e.handleStateChange),function(){t.removeListener("change",e.handleStateChange)}})))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe.forEach((function(e){return e()})),this.unsubscribe=void 0),this.onStateChange=void 0},e}(),h=n(75633),g=n(90794),m=(0,h.R)();function y(e,t,n){void 0===n&&(n=i()),c()(t,"You must pass a selector to useSelectors");var r,u=(0,p.x)(),l=(0,o.useContext)(g.N),h=(0,o.useRef)(!1),y=(0,a.s)(e),b=(0,o.useMemo)((function(){return new v(d()(y).map(u.getStore))}),[y,u]),_=(0,o.useRef)(),E=(0,o.useCallback)((function(e){return b.setOnStateChange((function(){h.current||(h.current=!0,m((function(){e(),h.current=!1})))})),b.trySubscribe(),function(){return b.tryUnsubscribe()}}),[b]);try{r=(0,f.useSyncExternalStoreWithSelector)(E,u.getState,l?function(){return l}:u.getState,t,n)}catch(e){var w="An error occurred while selecting the store state: "+e.message+".";throw _.current&&(w+="\nThe error may be correlated with this previous error:\n"+_.current.stack+"\n\nOriginal stack trace:"),new Error(w)}return s((function(){_.current=void 0})),r}},36840:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(44121),i=n(86949),o=n(90794),a=n(16615);function s(e){var t=(0,a.x)(),n=(0,r.useContext)(o.N),s=(0,r.useRef)(e),u=(0,r.useRef)(null);t.hasStore(e)||(t.registerStore(e),u.current=e.storeName);var c=(0,r.useCallback)((function(n){var r=t.subscribe(e,n);return s.current=e,function(){r(),u.current&&(t.unregisterStore(s.current),u.current=null)}}),[e,t]);return(0,i.useSyncExternalStore)(c,(function(){return t.getState(e)}),n?function(){return n[e.storeName]}:function(){return t.getState(e)})}},75633:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=window;function i(){return"requestAnimationFrame"in r?requestAnimationFrame:"setImmediate"in r?r.setImmediate:setTimeout}},42353:function(e,t,n){"use strict";n.d(t,{b:function(){return a},y:function(){return o}});var r=n(79436),i=n.n(r);function o(e,t){void 0===t&&(t=i());var n=e,r=function e(){return{type:n,payload:t.apply(void 0,arguments),store:e.store}};return r.getType=function(){return n},r.toString=function(){return n},r}var a=function(e){return"function"==typeof e&&"getType"in e}},58426:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(35207),i=n(42353),o=n(24069);function a(e,t){var n="object"==typeof e?e:{name:e,initialState:t},a=n.name,s=n.initialState,u={},c=function(e){function t(){var t;return(t=e.call(this)||this).state=s,t}(0,r.Z)(t,e),t.createEvents=function(e){var n=this,r=Object.keys(e),o={};return r.forEach((function(r){var a=e[r],s=(0,i.y)(n.storeName+"_"+r);o[r]=s,t.on(s,a)})),o},t.on=function(e,n){if(Array.isArray(e))return e.forEach((function(e){return t.on(e,n)})),t;(0,i.b)(e)&&!e.store&&(e.store=t);var r=e.toString();return t.handlers[r]="handle",u[r]=n,t};var n=t.prototype;return n.getState=function(){return this.state},n.setState=function(e){this.state=e,this.emit("change")},n.dehydrate=function(){return this.state},n.rehydrate=function(e){this.state=e},n.handle=function(e,t){var n=u[t];n&&(this.state=n(this.state,e),this.emit("change"))},t}(o.Z);return c.storeName=a,c.events=void 0,c.handlers={},"object"==typeof e&&e.events&&(c.events=c.createEvents(e.events)),c}},24069:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(){function e(){this.listeners=new Set}var t=e.prototype;return t.emit=function(e){this.listeners.forEach((function(e){e()}))},t.addListener=function(e,t){this.listeners.add(t)},t.on=function(e,t){this.addListener(e,t)},t.removeListener=function(e,t){this.listeners.delete(t)},t.off=function(e,t){this.removeListener(e,t)},e}()},13311:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(44121),i=n(5881),o=n.n(i),a=function(e){var t=(0,r.useRef)(e);return o()(t.current,e)||(t.current=e),t.current}},69736:function(e,t,n){"use strict";n.d(t,{C7:function(){return m},JG:function(){return f},QZ:function(){return h},Ri:function(){return p},SG:function(){return c},TN:function(){return d},WO:function(){return v},Zh:function(){return s},db:function(){return o},hM:function(){return l},i6:function(){return i},qt:function(){return g},sI:function(){return u},sV:function(){return a},uJ:function(){return y}});var r=n(59999),i=(0,r.V3)("authenticator"),o=(0,r.V3)("sessionManager"),a=(0,r.V3)("sessionCookieName"),s=(0,r.V3)("sessionLifetimeController"),u=(0,r.V3)("authStrategies",{multi:!0}),c=(0,r.V3)("authenticatorTimingCallbacks"),l=(0,r.V3)("logoutRedirectUrl"),d=(0,r.V3)("onResolveAuthenticate"),f=(0,r.V3)("onAccessDeniedRedirectToken"),p=(0,r.V3)("accessDeniedRedirectUrl"),v=(0,r.V3)("onHasAccessToken"),h=(0,r.V3)("onLogoutRedirectToken"),g=(0,r.V3)("onRouteGuardRedirectToken"),m=(0,r.V3)("isClientAuthenticationToken"),y=(0,r.V3)("API_AUTH_METHOD_TOKEN")},71533:function(e,t,n){"use strict";n.d(t,{D7:function(){return u},FM:function(){return a},R$:function(){return o},R9:function(){return i},m1:function(){return c},xW:function(){return s}});var r=n(59999),i=(0,r.V3)("actionRegistry"),o=(0,r.V3)("actionExecution"),a=(0,r.V3)("actionPageRunner"),s=(0,r.V3)("actionConditionals",{multi:!0}),u=(0,r.V3)("limitActionGlobalTimeRun"),c=(0,r.V3)("tramvai deferred actions map")},83005:function(e,t,n){"use strict";n.d(t,{g:function(){return i},x:function(){return o}});var r=n(59999),i=(0,r.V3)("bundleManager"),o=(0,r.V3)("additional bundle",{multi:!0})},16011:function(e,t,n){"use strict";n.d(t,{SQ:function(){return u},TZ:function(){return o},YQ:function(){return s},oK:function(){return a},xC:function(){return i}});var r=n(59999),i=(0,r.V3)("createCache"),o=(0,r.V3)("registerClearCache",{multi:!0}),a=(0,r.V3)("clearCache"),s="memory",u="memory-lfu"},65538:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r=(0,n(59999).V3)("cacheMetricsServer")},56003:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=(0,n(59999).V3)("componentRegistry")},49076:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r=(0,n(59999).V3)("context")},82571:function(e,t,n){"use strict";n.d(t,{L3:function(){return a},hq:function(){return u},sQ:function(){return s},vC:function(){return o}});var r=n(59999),i=n(67584),o=(0,r.V3)("environmentManager",{scope:i.s.SINGLETON}),a=(0,r.V3)("clientEnvironmentManager",{scope:i.s.REQUEST}),s=(0,r.V3)("envUsed",{multi:!0}),u=(0,r.V3)("env template token",{multi:!0,scope:i.s.SINGLETON})},10112:function(e,t,n){"use strict";n.d(t,{mj:function(){return o},p7:function(){return a},vV:function(){return i}});var r=n(59999),i=(0,r.V3)("common ExecutionContextManager"),o=(0,r.V3)("common rootExecutionContext"),a=(0,r.V3)("common commandLineExecutionContext")},45838:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=(0,n(59999).V3)("hooks")},12052:function(e,t,n){"use strict";n.r(t),n.d(t,{ACTION_CONDITIONALS:function(){return o.xW},ACTION_EXECUTION_TOKEN:function(){return o.R$},ACTION_PAGE_RUNNER_TOKEN:function(){return o.FM},ACTION_REGISTRY_TOKEN:function(){return o.R9},ADDITIONAL_BUNDLE_TOKEN:function(){return r.x},ASYNC_LOCAL_STORAGE_TOKEN:function(){return m},BUNDLE_MANAGER_TOKEN:function(){return r.g},CACHE_METRICS_SERVER_TOKEN:function(){return u.P},CLEAR_CACHE_TOKEN:function(){return c.oK},CLIENT_ENV_REPOSITORY_TOKEN:function(){return h.L3},COMBINE_REDUCERS:function(){return d.Ym},COMMAND_LINE_EXECUTION_CONTEXT_TOKEN:function(){return g.p7},COMPONENT_REGISTRY_TOKEN:function(){return l.K},CONTEXT_TOKEN:function(){return i.l},CREATE_CACHE_TOKEN:function(){return c.xC},DEFERRED_ACTIONS_MAP_TOKEN:function(){return o.m1},DISPATCHER_CONTEXT_TOKEN:function(){return d.jm},DISPATCHER_TOKEN:function(){return d.qb},ENV_MANAGER_TOKEN:function(){return h.vC},ENV_TEMPLATE_TOKEN:function(){return h.hq},ENV_USED_TOKEN:function(){return h.sQ},EXECUTION_CONTEXT_MANAGER_TOKEN:function(){return g.vV},HOOK_TOKEN:function(){return a.v},INITIAL_APP_STATE_TOKEN:function(){return d.E6},LIMIT_ACTION_GLOBAL_TIME_RUN:function(){return o.D7},LOGGER_INIT_HOOK:function(){return f.J0},LOGGER_REMOTE_REPORTER:function(){return f.DV},LOGGER_SHARED_CONTEXT:function(){return f.yV},LOGGER_TOKEN:function(){return f.Fp},MEMORY_LFU:function(){return c.SQ},MEMORY_LRU:function(){return c.YQ},PUBSUB_FACTORY_TOKEN:function(){return s.eP},PUBSUB_TOKEN:function(){return s.k3},REGISTER_CLEAR_CACHE_TOKEN:function(){return c.TZ},REQUEST_MANAGER_TOKEN:function(){return p.G},RESPONSE_MANAGER_TOKEN:function(){return v.r},ROOT_EXECUTION_CONTEXT_TOKEN:function(){return g.mj},ROOT_PUBSUB_TOKEN:function(){return s.Tm},STORE_MIDDLEWARE:function(){return d.PU},STORE_TOKEN:function(){return d.kR}});var r=n(83005),i=n(49076),o=n(71533),a=n(45838),s=n(17173),u=n(65538),c=n(16011),l=n(56003),d=n(37621),f=n(82342),p=n(82912),v=n(80858),h=n(82571),g=n(10112),m=(0,n(59999).V3)("ASYNC_LOCAL_STORAGE_TOKEN")},82342:function(e,t,n){"use strict";n.d(t,{DV:function(){return a},Fp:function(){return i},J0:function(){return o},yV:function(){return s}});var r=n(59999),i=(0,r.V3)("logger"),o=(0,r.V3)("loggerHook",{multi:!0}),a=(0,r.V3)("remoteReporter"),s=(0,r.V3)("tramvai logger shared context")},17173:function(e,t,n){"use strict";n.d(t,{Tm:function(){return a},eP:function(){return i},k3:function(){return o}});var r=n(59999),i=(0,r.V3)("pubsubFactory"),o=(0,r.V3)("pubsub"),a=(0,r.V3)("rootPubsub")},82912:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var r=(0,n(59999).V3)("requestManager")},80858:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var r=(0,n(59999).V3)("responseManager")},37621:function(e,t,n){"use strict";n.d(t,{E6:function(){return l},PU:function(){return c},Ym:function(){return s},jm:function(){return a},kR:function(){return u},qb:function(){return o}});var r=n(59999),i=n(67584),o=(0,r.V3)("dispatcher"),a=(0,r.V3)("dispatcherContext"),s=(0,r.V3)("combineReducers",{multi:!0,scope:i.s.SINGLETON}),u=(0,r.V3)("store"),c=(0,r.V3)("storeMiddleware",{multi:!0}),l=(0,r.V3)("initialAppState")},10776:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var r=(0,n(59999).V3)("cookieManager")},80772:function(e,t,n){"use strict";n.d(t,{Bi:function(){return u},PR:function(){return s},S9:function(){return a}});var r=n(59999),i=n(67584),o={multi:!0},a=(0,r.V3)("commandLineRunner"),s=(0,r.V3)("commandLines"),u={init:(0,r.V3)("init",{multi:!0,scope:i.s.SINGLETON}),listen:(0,r.V3)("listen",{multi:!0,scope:i.s.SINGLETON}),customerStart:(0,r.V3)("customer_start",o),resolveUserDeps:(0,r.V3)("resolve_user_deps",o),resolvePageDeps:(0,r.V3)("resolve_page_deps",o),generatePage:(0,r.V3)("generate_page",o),clear:(0,r.V3)("clear",o),spaTransition:(0,r.V3)("spa_transition",o),afterSpaTransition:(0,r.V3)("after_spa_transition",o),close:(0,r.V3)("close",{multi:!0,scope:i.s.SINGLETON})}},29772:function(e,t,n){"use strict";n.d(t,{Bi:function(){return o.Bi},I7:function(){return s},PR:function(){return o.PR},Qo:function(){return c},S9:function(){return o.S9},dV:function(){return i.d},mJ:function(){return u},om:function(){return a}});var r=n(59999),i=n(59576),o=n(80772),a=(0,r.V3)("bundleList"),s=(0,r.V3)("actionsList"),u=(0,r.V3)("modulesList"),c=(0,r.V3)("appInfo")},8479:function(e,t,n){"use strict";n.r(t),n.d(t,{ASSETS_PREFIX_TOKEN:function(){return R},BACK_FORWARD_CACHE_ENABLED:function(){return A},CUSTOM_RENDER:function(){return l},DEFAULT_ASSETS_PREFIX_TOKEN:function(){return I},DEFAULT_ERROR_BOUNDARY_COMPONENT:function(){return b},DEFAULT_FOOTER_COMPONENT:function(){return y},DEFAULT_HEADER_COMPONENT:function(){return m},DEFAULT_LAYOUT_COMPONENT:function(){return g},EXTEND_RENDER:function(){return h},FETCH_WEBPACK_STATS_TOKEN:function(){return C},HTML_ATTRS:function(){return u},LAYOUT_OPTIONS:function(){return _},MODERN_SATISFIES_TOKEN:function(){return T},POLYFILL_CONDITION:function(){return f},REACT_SERVER_RENDER_MODE:function(){return k},REACT_STREAMING_RENDER_TIMEOUT:function(){return O},RENDERER_CALLBACK:function(){return c},RENDER_FLOW_AFTER_TOKEN:function(){return S},RENDER_MODE:function(){return p},RENDER_SLOTS:function(){return s},RESOURCES_REGISTRY:function(){return d},RESOURCE_INLINE_OPTIONS:function(){return E},ResourceSlot:function(){return a},ResourceType:function(){return o.LO},TRAMVAI_RENDER_MODE:function(){return w},USE_REACT_STRICT_MODE:function(){return v}});var r=n(59999),i=n(67584),o=n(73212),a=n(23436),s=(0,r.V3)("RENDER_SLOTS",{multi:!0}),u=(0,r.V3)("HTML_ATTRS",{multi:!0}),c=(0,r.V3)("RENDERER_CALLBACK",{multi:!0}),l=(0,r.V3)("CUSTOM_RENDER"),d=(0,r.V3)("resourcesRegistry"),f=(0,r.V3)("POLYFILL_CONDITION"),p=(0,r.V3)("RENDER_MODE"),v=(0,r.V3)("useReactStrictMode"),h=(0,r.V3)("EXTEND_RENDER",{multi:!0}),g=(0,r.V3)("defaultLayoutComponent",{scope:i.s.SINGLETON}),m=(0,r.V3)("defaultHeaderComponent",{scope:i.s.SINGLETON}),y=(0,r.V3)("defaultFooterComponent",{scope:i.s.SINGLETON}),b=(0,r.V3)("defaultErrorBoundaryComponent"),_=(0,r.V3)("layoutOptions",{multi:!0,scope:i.s.SINGLETON}),E=(0,r.V3)("resourceInlineThreshold",{scope:i.s.SINGLETON}),w=(0,r.V3)("tramvaiRenderMode"),S=(0,r.V3)("render flow after",{multi:!0}),T=(0,r.V3)("modernSatisfies"),A=(0,r.V3)("back forward cache"),k=(0,r.V3)("reactServerRenderMode"),O=(0,r.V3)("react streaming render timeout"),C=(0,r.V3)("fetchWebpackStatsFn",{scope:i.s.SINGLETON}),R=(0,r.V3)("tramvai assets prefix",{scope:i.s.SINGLETON}),I=(0,r.V3)("tramvai default assets prefix",{scope:i.s.SINGLETON})},23436:function(e,t,n){"use strict";n.r(t),n.d(t,{BODY_END:function(){return p},BODY_START:function(){return d},BODY_TAIL:function(){return h},BODY_TAIL_ANALYTICS:function(){return v},HEAD_ANALYTICS:function(){return c},HEAD_CORE_SCRIPTS:function(){return s},HEAD_CORE_STYLES:function(){return o},HEAD_DYNAMIC_SCRIPTS:function(){return u},HEAD_ICONS:function(){return l},HEAD_META:function(){return r},HEAD_PERFORMANCE:function(){return i},HEAD_POLYFILLS:function(){return a},REACT_RENDER:function(){return f}});var r="head:meta",i="head:performance",o="head:core-styles",a="head:polyfills",s="head:core-scripts",u="head:dynamic-scripts",c="head:analytics",l="head:icons",d="body:start",f="react:render",p="body:end",v="body:tail:analytics",h="body:tail"},56873:function(e,t,n){"use strict";n.d(t,{$d:function(){return d},Dk:function(){return o},Dv:function(){return p},S3:function(){return l},TL:function(){return c},Y9:function(){return s},_Q:function(){return u},aP:function(){return v},fw:function(){return f},l1:function(){return i},sU:function(){return a}});var r=n(59999),i=(0,r.V3)("router router"),o=(0,r.V3)("router routes",{multi:!0}),a=(0,r.V3)("router guard",{multi:!0}),s=(0,r.V3)("router pageService"),u=(0,r.V3)("router pageRegistry"),c=(0,r.V3)("router routeResolve"),l=(0,r.V3)("router routeTransform",{multi:!0}),d=(0,r.V3)("router spaRunMode"),f=(0,r.V3)("link prefetch manager"),p=(0,r.V3)("link prefetch handler",{multi:!0}),v=(0,r.V3)("router mode")},59576:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r="__action_parameters__"},8729:function(e){"use strict";var t="undefined"!=typeof self?self:window,n=t.AbortController,AbortSignal=t.AbortSignal;e.exports=n,e.exports.AbortSignal=AbortSignal,e.exports.default=n},23311:function(e,t,n){var r=n(9907);function i(){}e.exports={loadQueries:function(){throw new r("Sharable configs are not supported in client-side build of Browserslist")},getStat:function(e){return e.stats},loadConfig:function(e){if(e.config)throw new r("Browserslist config are not supported in client-side build")},loadCountry:function(){throw new r("Country statistics are not supported in client-side build of Browserslist")},loadFeature:function(){throw new r("Supports queries are not available in client-side build of Browserslist")},currentNode:function(e,t){return e(["maintained node versions"],t)[0]},parseConfig:i,readConfig:i,findConfig:i,clearCaches:i,oldDataWarning:i,env:{}}},9907:function(e){function t(e){this.name="BrowserslistError",this.message=e,this.browserslist=!0,Error.captureStackTrace&&Error.captureStackTrace(this,t)}t.prototype=Error.prototype,e.exports=t},7585:function(e,t,n){var r=n(44250),i=n(24800).D,o=n(2619),a=n(92339),s=n(83589),u=n(9907),c=n(87792),l=n(23311),d="37";function f(e,t){return 0===(e+".").indexOf(t+".")}function p(e){return e.filter((function(e){return"string"==typeof e}))}function v(e){var t=e;return 3===e.split(".").length&&(t=e.split(".").slice(0,-1).join(".")),t}function h(e){return function(t){return e+" "+t}}function g(e){return parseInt(e.split(".")[0])}function m(e,t){if(0===e.length)return[];var n=y(e.map(g)),r=n[n.length-t];if(!r)return e;for(var i=[],o=e.length-1;o>=0&&!(r>g(e[o]));o--)i.unshift(e[o]);return i}function y(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function b(e,t,n){for(var r in n)e[t+" "+r]=n[r]}function _(e,t){return t=parseFloat(t),">"===e?function(e){return parseFloat(e)>t}:">="===e?function(e){return parseFloat(e)>=t}:"<"===e?function(e){return parseFloat(e)<t}:function(e){return parseFloat(e)<=t}}function E(e){return parseInt(e)}function w(e,t){return e<t?-1:e>t?1:0}function S(e,t){return w(parseInt(e[0]),parseInt(t[0]))||w(parseInt(e[1]||"0"),parseInt(t[1]||"0"))||w(parseInt(e[2]||"0"),parseInt(t[2]||"0"))}function T(e,t){return void 0===(t=t.split(".").map(E))[1]&&(t[1]="x"),"<="===e?function(e){return A(e=e.split(".").map(E),t)<=0}:function(e){return A(e=e.split(".").map(E),t)>=0}}function A(e,t){return e[0]!==t[0]?e[0]<t[0]?-1:1:"x"===t[1]?0:e[1]!==t[1]?e[1]<t[1]?-1:1:0}function k(e,t){var n=function(e,t){return-1!==e.versions.indexOf(t)?t:!!U.versionAliases[e.name][t]&&U.versionAliases[e.name][t]}(e,t);return n||1===e.versions.length&&e.versions[0]}function O(e,t){return e/=1e3,Object.keys(i).reduce((function(n,r){var i=R(r,t);if(!i)return n;var o=Object.keys(i.releaseDate).filter((function(t){var n=i.releaseDate[t];return null!==n&&n>=e}));return n.concat(o.map(h(i.name)))}),[])}function C(e){return{name:e.name,versions:e.versions,released:e.released,releaseDate:e.releaseDate}}function R(e,t){if(e=e.toLowerCase(),e=U.aliases[e]||e,t.mobileToDesktop&&U.desktopNames[e]){var n=U.data[U.desktopNames[e]];if("android"===e)return i=C(U.data[e]),o=n,i.released=I(i.released,o.released),i.versions=I(i.versions,o.versions),i.released.forEach((function(e){void 0===i.releaseDate[e]&&(i.releaseDate[e]=o.releaseDate[e])})),i;var r=C(n);return r.name=e,r}var i,o;return U.data[e]}function I(e,t){var n=t.indexOf(d);return e.filter((function(e){return/^(?:[2-4]\.|[34]$)/.test(e)})).concat(t.slice(n))}function N(e,t){var n=R(e,t);if(!n)throw new u("Unknown browser "+e);return n}function M(e,t,n,r){var i=1;switch(t){case"android":if(r.mobileToDesktop)return e;var o=U.data.chrome.released;i=o.length-o.indexOf(d);break;case"op_mob":i=g(U.data.op_mob.released.slice(-1)[0])-14+1;break;default:return e}return n<=i?e.slice(-1):e.slice(i-1-n)}function x(e,t){return"string"==typeof e&&(e.indexOf("y")>=0||t&&e.indexOf("a")>=0)}function P(e,t){return c(q,e).reduce((function(e,n,r){if(n.not&&0===r)throw new u("Write any browsers query (for instance, `defaults`) before `"+n.query+"`");var i=q[n.type].select.call(U,t,n).map((function(e){var n=e.split(" ");return"0"===n[1]?n[0]+" "+R(n[0],t).versions[0]:e}));if("and"===n.compose)return n.not?e.filter((function(e){return-1===i.indexOf(e)})):e.filter((function(e){return-1!==i.indexOf(e)}));if(n.not){var o={};return i.forEach((function(e){o[e]=!0})),e.filter((function(e){return!o[e]}))}return e.concat(i)}),[])}function L(e){return void 0===e&&(e={}),void 0===e.path&&(e.path=a.resolve?a.resolve("."):"."),e}function D(e,t){null==e&&(e=U.loadConfig(t)||U.defaults);return e}function j(e){if("string"!=typeof e&&!Array.isArray(e))throw new u("Browser queries must be an array or string. Got "+typeof e+".")}var B={};function U(e,t){j(e=D(e,t=L(t)));var n={ignoreUnknownVersions:t.ignoreUnknownVersions,dangerousExtend:t.dangerousExtend,mobileToDesktop:t.mobileToDesktop,path:t.path,env:t.env};l.oldDataWarning(U.data);var r=l.getStat(t,U.data);if(r)for(var i in n.customUsage={},r)b(n.customUsage,i,r[i]);var o=JSON.stringify([e,n]);if(B[o])return B[o];var a=y(P(e,n)).sort((function(e,t){if(e=e.split(" "),t=t.split(" "),e[0]===t[0]){var n=e[1].split("-")[0];return S(t[1].split("-")[0].split("."),n.split("."))}return w(e[0],t[0])}));return l.env.BROWSERSLIST_DISABLE_CACHE||(B[o]=a),a}function F(e,t){var n=U.nodeVersions.filter((function(e){return f(e,t.version)}));if(0===n.length){if(e.ignoreUnknownVersions)return[];throw new u("Unknown version "+t.version+" of Node.js")}return["node "+n[n.length-1]]}function V(e,t){var n=parseInt(t.year),r=parseInt(t.month||"01")-1,i=parseInt(t.day||"01");return O(Date.UTC(n,r,i,0,0,0),e)}function W(e,t){var n=parseFloat(t.coverage),r=U.usage.global;if(t.place)if(t.place.match(/^my\s+stats$/i)){if(!e.customUsage)throw new u("Custom usage statistics was not provided");r=e.customUsage}else{var i;i=2===t.place.length?t.place.toUpperCase():t.place.toLowerCase(),l.loadCountry(U.usage,i,U.data),r=U.usage[i]}for(var o,a=Object.keys(r).sort((function(e,t){return r[t]-r[e]})),s=0,c=[],d=0;d<a.length&&(o=a[d],0!==r[o])&&(s+=r[o],c.push(o),!(s>=n));d++);return c}U.parse=function(e,t){return j(e=D(e,t=L(t))),c(q,e)},U.cache={},U.data={},U.usage={global:{},custom:null},U.defaults=["> 0.5%","last 2 versions","Firefox ESR","not dead"],U.aliases={fx:"firefox",ff:"firefox",ios:"ios_saf",explorer:"ie",blackberry:"bb",explorermobile:"ie_mob",operamini:"op_mini",operamobile:"op_mob",chromeandroid:"and_chr",firefoxandroid:"and_ff",ucandroid:"and_uc",qqandroid:"and_qq"},U.desktopNames={and_chr:"chrome",and_ff:"firefox",ie_mob:"ie",android:"chrome"},U.versionAliases={},U.clearCaches=l.clearCaches,U.parseConfig=l.parseConfig,U.readConfig=l.readConfig,U.findConfig=l.findConfig,U.loadConfig=l.loadConfig,U.coverage=function(e,t){var n;if(void 0===t)n=U.usage.global;else if("my stats"===t){var r={};r.path=a.resolve?a.resolve("."):".";var i=l.getStat(r);if(!i)throw new u("Custom usage statistics was not provided");for(var o in n={},i)b(n,o,i[o])}else if("string"==typeof t)t=t.length>2?t.toLowerCase():t.toUpperCase(),l.loadCountry(U.usage,t,U.data),n=U.usage[t];else for(var s in"dataByBrowser"in t&&(t=t.dataByBrowser),n={},t)for(var c in t[s])n[s+" "+c]=t[s][c];return e.reduce((function(e,t){var r=n[t];return void 0===r&&(r=n[t.replace(/ \S+$/," 0")]),e+(r||0)}),0)};var q={last_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+major\s+versions?$/i,select:function(e,t){return Object.keys(i).reduce((function(n,r){var i=R(r,e);if(!i)return n;var o=m(i.released,t.versions);return o=M(o=o.map(h(i.name)),i.name,t.versions,e),n.concat(o)}),[])}},last_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+versions?$/i,select:function(e,t){return Object.keys(i).reduce((function(n,r){var i=R(r,e);if(!i)return n;var o=i.released.slice(-t.versions);return o=M(o=o.map(h(i.name)),i.name,t.versions,e),n.concat(o)}),[])}},last_electron_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+electron\s+major\s+versions?$/i,select:function(e,t){return m(Object.keys(s),t.versions).map((function(e){return"chrome "+s[e]}))}},last_node_major_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+node\s+major\s+versions?$/i,select:function(e,t){return m(U.nodeVersions,t.versions).map((function(e){return"node "+e}))}},last_browser_major_versions:{matches:["versions","browser"],regexp:/^last\s+(\d+)\s+(\w+)\s+major\s+versions?$/i,select:function(e,t){var n=N(t.browser,e),r=m(n.released,t.versions).map(h(n.name));return M(r,n.name,t.versions,e)}},last_electron_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+electron\s+versions?$/i,select:function(e,t){return Object.keys(s).slice(-t.versions).map((function(e){return"chrome "+s[e]}))}},last_node_versions:{matches:["versions"],regexp:/^last\s+(\d+)\s+node\s+versions?$/i,select:function(e,t){return U.nodeVersions.slice(-t.versions).map((function(e){return"node "+e}))}},last_browser_versions:{matches:["versions","browser"],regexp:/^last\s+(\d+)\s+(\w+)\s+versions?$/i,select:function(e,t){var n=N(t.browser,e),r=n.released.slice(-t.versions).map(h(n.name));return M(r,n.name,t.versions,e)}},unreleased_versions:{matches:[],regexp:/^unreleased\s+versions$/i,select:function(e){return Object.keys(i).reduce((function(t,n){var r=R(n,e);if(!r)return t;var i=r.versions.filter((function(e){return-1===r.released.indexOf(e)}));return i=i.map(h(r.name)),t.concat(i)}),[])}},unreleased_electron_versions:{matches:[],regexp:/^unreleased\s+electron\s+versions?$/i,select:function(){return[]}},unreleased_browser_versions:{matches:["browser"],regexp:/^unreleased\s+(\w+)\s+versions?$/i,select:function(e,t){var n=N(t.browser,e);return n.versions.filter((function(e){return-1===n.released.indexOf(e)})).map(h(n.name))}},last_years:{matches:["years"],regexp:/^last\s+(\d*.?\d+)\s+years?$/i,select:function(e,t){return O(Date.now()-31558432982.4*t.years,e)}},since_y:{matches:["year"],regexp:/^since (\d+)$/i,select:V},since_y_m:{matches:["year","month"],regexp:/^since (\d+)-(\d+)$/i,select:V},since_y_m_d:{matches:["year","month","day"],regexp:/^since (\d+)-(\d+)-(\d+)$/i,select:V},popularity:{matches:["sign","popularity"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%$/,select:function(e,t){var n=parseFloat(t.popularity),r=U.usage.global;return Object.keys(r).reduce((function(e,i){return">"===t.sign?r[i]>n&&e.push(i):"<"===t.sign?r[i]<n&&e.push(i):"<="===t.sign?r[i]<=n&&e.push(i):r[i]>=n&&e.push(i),e}),[])}},popularity_in_my_stats:{matches:["sign","popularity"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+my\s+stats$/,select:function(e,t){var n=parseFloat(t.popularity);if(!e.customUsage)throw new u("Custom usage statistics was not provided");var r=e.customUsage;return Object.keys(r).reduce((function(e,i){var o=r[i];return null==o||(">"===t.sign?o>n&&e.push(i):"<"===t.sign?o<n&&e.push(i):"<="===t.sign?o<=n&&e.push(i):o>=n&&e.push(i)),e}),[])}},popularity_in_config_stats:{matches:["sign","popularity","config"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+(\S+)\s+stats$/,select:function(e,t){var n=parseFloat(t.popularity),r=l.loadStat(e,t.config,U.data);if(r)for(var i in e.customUsage={},r)b(e.customUsage,i,r[i]);if(!e.customUsage)throw new u("Custom usage statistics was not provided");var o=e.customUsage;return Object.keys(o).reduce((function(e,r){var i=o[r];return null==i||(">"===t.sign?i>n&&e.push(r):"<"===t.sign?i<n&&e.push(r):"<="===t.sign?i<=n&&e.push(r):i>=n&&e.push(r)),e}),[])}},popularity_in_place:{matches:["sign","popularity","place"],regexp:/^(>=?|<=?)\s*(\d+|\d+\.\d+|\.\d+)%\s+in\s+((alt-)?\w\w)$/,select:function(e,t){var n=parseFloat(t.popularity),r=t.place;r=2===r.length?r.toUpperCase():r.toLowerCase(),l.loadCountry(U.usage,r,U.data);var i=U.usage[r];return Object.keys(i).reduce((function(e,r){var o=i[r];return null==o||(">"===t.sign?o>n&&e.push(r):"<"===t.sign?o<n&&e.push(r):"<="===t.sign?o<=n&&e.push(r):o>=n&&e.push(r)),e}),[])}},cover:{matches:["coverage"],regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%$/i,select:W},cover_in:{matches:["coverage","place"],regexp:/^cover\s+(\d+|\d+\.\d+|\.\d+)%\s+in\s+(my\s+stats|(alt-)?\w\w)$/i,select:W},supports:{matches:["supportType","feature"],regexp:/^(?:(fully|partially) )?supports\s+([\w-]+)$/,select:function(e,t){l.loadFeature(U.cache,t.feature);var n="fully"!==t.supportType,r=U.cache[t.feature],i=[];for(var o in r){var a=R(o,e),s=e.mobileToDesktop&&o in U.desktopNames&&x(r[o][a.released.slice(-1)[0]],n);a.versions.forEach((function(e){var t=r[o][e];void 0===t&&s&&(t=r[U.desktopNames[o]][e]),x(t,n)&&i.push(o+" "+e)}))}return i}},electron_range:{matches:["from","to"],regexp:/^electron\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(e,t){var n=v(t.from),r=v(t.to),i=parseFloat(t.from),o=parseFloat(t.to);if(!s[n])throw new u("Unknown version "+i+" of electron");if(!s[r])throw new u("Unknown version "+o+" of electron");return Object.keys(s).filter((function(e){var t=parseFloat(e);return t>=i&&t<=o})).map((function(e){return"chrome "+s[e]}))}},node_range:{matches:["from","to"],regexp:/^node\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(e,t){return U.nodeVersions.filter(T(">=",t.from)).filter(T("<=",t.to)).map((function(e){return"node "+e}))}},browser_range:{matches:["browser","from","to"],regexp:/^(\w+)\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(e,t){var n=N(t.browser,e),r=parseFloat(k(n,t.from)||t.from),i=parseFloat(k(n,t.to)||t.to);return n.released.filter((function(e){var t=parseFloat(e);return t>=r&&t<=i})).map(h(n.name))}},electron_ray:{matches:["sign","version"],regexp:/^electron\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(e,t){var n=v(t.version);return Object.keys(s).filter(_(t.sign,n)).map((function(e){return"chrome "+s[e]}))}},node_ray:{matches:["sign","version"],regexp:/^node\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(e,t){return U.nodeVersions.filter((n=t.sign,r=t.version,(r=r.split(".").map(E))[1]=r[1]||0,r[2]=r[2]||0,">"===n?function(e){return S(e=e.split(".").map(E),r)>0}:">="===n?function(e){return S(e=e.split(".").map(E),r)>=0}:"<"===n?function(e){return e=e.split(".").map(E),S(r,e)>0}:function(e){return e=e.split(".").map(E),S(r,e)>=0})).map((function(e){return"node "+e}));var n,r}},browser_ray:{matches:["browser","sign","version"],regexp:/^(\w+)\s*(>=?|<=?)\s*([\d.]+)$/,select:function(e,t){var n=t.version,r=N(t.browser,e),i=U.versionAliases[r.name][n];return i&&(n=i),r.released.filter(_(t.sign,n)).map((function(e){return r.name+" "+e}))}},firefox_esr:{matches:[],regexp:/^(firefox|ff|fx)\s+esr$/i,select:function(){return["firefox 115"]}},opera_mini_all:{matches:[],regexp:/(operamini|op_mini)\s+all/i,select:function(){return["op_mini all"]}},electron_version:{matches:["version"],regexp:/^electron\s+([\d.]+)$/i,select:function(e,t){var n=v(t.version),r=s[n];if(!r)throw new u("Unknown version "+t.version+" of electron");return["chrome "+r]}},node_major_version:{matches:["version"],regexp:/^node\s+(\d+)$/i,select:F},node_minor_version:{matches:["version"],regexp:/^node\s+(\d+\.\d+)$/i,select:F},node_patch_version:{matches:["version"],regexp:/^node\s+(\d+\.\d+\.\d+)$/i,select:F},current_node:{matches:[],regexp:/^current\s+node$/i,select:function(e){return[l.currentNode(P,e)]}},maintained_node:{matches:[],regexp:/^maintained\s+node\s+versions$/i,select:function(e){var t=Date.now();return P(Object.keys(o).filter((function(e){return t<Date.parse(o[e].end)&&t>Date.parse(o[e].start)&&(n=e.slice(1),U.nodeVersions.some((function(e){return f(e,n)})));var n})).map((function(e){return"node "+e.slice(1)})),e)}},phantomjs_1_9:{matches:[],regexp:/^phantomjs\s+1.9$/i,select:function(){return["safari 5"]}},phantomjs_2_1:{matches:[],regexp:/^phantomjs\s+2.1$/i,select:function(){return["safari 6"]}},browser_version:{matches:["browser","version"],regexp:/^(\w+)\s+(tp|[\d.]+)$/i,select:function(e,t){var n=t.version;/^tp$/i.test(n)&&(n="TP");var r=N(t.browser,e),i=k(r,n);if(i)n=i;else{if(!(i=k(r,i=-1===n.indexOf(".")?n+".0":n.replace(/\.0$/,"")))){if(e.ignoreUnknownVersions)return[];throw new u("Unknown version "+n+" of "+t.browser)}n=i}return[r.name+" "+n]}},browserslist_config:{matches:[],regexp:/^browserslist config$/i,select:function(e){return U(void 0,e)}},extends:{matches:["config"],regexp:/^extends (.+)$/i,select:function(e,t){return P(l.loadQueries(e,t.config),e)}},defaults:{matches:[],regexp:/^defaults$/i,select:function(e){return P(U.defaults,e)}},dead:{matches:[],regexp:/^dead$/i,select:function(e){return P(["Baidu >= 0","ie <= 11","ie_mob <= 11","bb <= 10","op_mob <= 12.1","samsung 4"],e)}},unknown:{matches:[],regexp:/^(\w+)$/i,select:function(e,t){throw R(t.query,e)?new u("Specify versions in Browserslist query for browser "+t.query):(n=t.query,new u("Unknown browser query `"+n+"`. Maybe you are using old Browserslist or made typo in query."));var n}}};!function(){for(var e in i){var t=i[e];U.data[e]={name:e,versions:p(i[e].versions),released:p(i[e].versions.slice(0,-3)),releaseDate:i[e].release_date},b(U.usage.global,e,t.usage_global),U.versionAliases[e]={};for(var n=0;n<t.versions.length;n++){var o=t.versions[n];if(o&&-1!==o.indexOf("-"))for(var a=o.split("-"),s=0;s<a.length;s++)U.versionAliases[e][a[s]]=o}}U.nodeVersions=r.map((function(e){return e.version}))}(),e.exports=U},87792:function(e){var t=/^\s+and\s+(.*)/i,n=/^(?:,\s*|\s+or\s+)(.*)/i;function r(e){return Array.isArray(e)?e.reduce((function(e,t){return e.concat(r(t))}),[]):[e]}function i(e,t){var n={query:t};for(var r in 0===t.indexOf("not ")&&(n.not=!0,t=t.slice(4)),e){var i=e[r],o=t.match(i.regexp);if(o){n.type=r;for(var a=0;a<i.matches.length;a++)n[i.matches[a]]=o[a+1];return n}}return n.type="unknown",n}function o(e,r,o){var a;return function(e,t){for(var n=1,r=e.length;n<=r;n++)if(t(e.substr(-n,n),n,r))return e.slice(0,-n);return""}(r,(function(r,s,u){return t.test(r)?((a=i(e,r.match(t)[1])).compose="and",o.unshift(a),!0):n.test(r)?((a=i(e,r.match(n)[1])).compose="or",o.unshift(a),!0):s===u&&((a=i(e,r.trim())).compose="or",o.unshift(a),!0)}))}e.exports=function(e,t){return Array.isArray(t)||(t=[t]),r(t.map((function(t){var n=[];do{t=o(e,t,n)}while(t);return n})))}},13651:function(e){"use strict";var t="undefined"!=typeof self?self:window;if(!t)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!t.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');e.exports.H=t.AbortController},95219:function(e,t,n){"use strict";var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&u()}function s(){a(o)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=m(0,0,0,0);function p(e){return parseFloat(e)||0}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}var h="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return i?h(e)?function(e){var t=e.getBBox();return m(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=p(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=p(r.width),u=p(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=v(r,"left","right")+o),Math.round(u+a)!==n&&(u-=v(r,"top","bottom")+a)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return m(i.left,i.top,s,u)}(e):f}function m(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,i,o,a,s,u,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),l(u,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),u);l(this,{target:e,contentRect:c})},_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),E="undefined"!=typeof WeakMap?new WeakMap:new r,w=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new _(t,n,this);E.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){w.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}}));var S=void 0!==o.ResizeObserver?o.ResizeObserver:w;t.Z=S},49593:function(e,t,n){"use strict";n.r(t),n.d(t,{assoc:function(){return d},deepMerge:function(){return E},dissoc:function(){return h},get:function(){return u},merge:function(){return b},update:function(){return y}});var r=Array.prototype.slice;function i(e){return"object"==typeof e}function o(e){if(Array.isArray(e))return e.slice();var t={};for(var n in e)t[n]=e[n];return t}function a(e,t,n){return i(e)&&null!==e&&t in e?e[t]:n}function s(e,t,n){var r=t[0],i=t.slice(1);return a(e,r)&&i.length?s(e[r],i,n):a(e,r,n)}function u(e,t,n){return Array.isArray(t)?s(e,t,n):a(e,t,n)}function c(e,t,n){if(e[t]===n)return e;var r=o(e);return r[t]=n,r}function l(e,t,n){if(s(e,t)===n)return e;var r=t[0],i=t.slice(1),a=o(e);return i.length?a[r]=l(r in a?a[r]:{},i,n):a[r]=n,a}function d(e){for(var t,n,r=arguments,i=arguments.length,o=e,a=1;a<i;a+=2)t=r[a],n=r[a+1],o=Array.isArray(t)?l(o,t,n):c(o,t,n);return o}function f(e,t){if(!(t in e))return e;var n=o(e);return delete n[t],n}function p(e,t){var n=t[0],r=t.slice(1);return r.length?n in e&&p(e[n],r):n in e}function v(e,t){if(!p(e,t))return e;var n=t[0],r=t.slice(1),i=o(e);return 0!==r.length?(i[n]=v(e[n],r),0===Object.keys(i[n]).length&&delete i[n]):delete i[n],i}function h(e){for(var t,n=arguments,r=arguments.length,i=0,o=e;++i<r;)t=n[i],o=Array.isArray(t)?v(o,t):f(o,t);return o}function g(e,t,n){var i=a(e,t);return c(e,t,n.apply(i,[i].concat(r.call(arguments,3))))}function m(e,t,n){var i=s(e,t);return l(e,t,n.apply(i,[i].concat(r.call(arguments,3))))}function y(e,t){return Array.isArray(t)?m.apply(this,arguments):g.apply(this,arguments)}function b(){for(var e,t=arguments,n=arguments.length,r=0,i=arguments[0];++r<n;)for(var o in e=t[r])i=c(i,o,e[o]);return i}function _(e,t){for(var n,r,a=Object.keys(t),s=a.length,u=-1,l=e;++u<s;)l=i(n=t[r=a[u]])&&null!==n?c(l,r,r in l?_(l[r],n):o(n)):c(l,r,n);return l}function E(){for(var e=arguments,t=arguments.length,n=0,r=arguments[0];++n<t;)r=_(r,e[n]);return r}},36613:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(44121);function i(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var o=n(71363),a=r.useLayoutEffect,s=new WeakMap;function u(e,t){var n=(0,o.W)(t||null,(function(t){return e.forEach((function(e){return i(e,t)}))}));return a((function(){var t=s.get(n);if(t){var r=new Set(t),o=new Set(e),a=n.current;r.forEach((function(e){o.has(e)||i(e,null)})),o.forEach((function(e){r.has(e)||i(e,a)}))}s.set(n,e)}),[e]),n}},71363:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(44121);function i(e,t){var n=(0,r.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}},23832:function(e){e.exports={A:{A:{K:0,D:0,E:.0417486,F:.0417486,A:0,B:.445318,gC:0},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","gC","K","D","E","F","A","B","","",""],E:"IE",F:{gC:962323200,K:998870400,D:1161129600,E:1237420800,F:1300060800,A:1346716800,B:1381968e3}},B:{A:{5:.003647,6:.003647,7:.007294,8:.003647,9:.010941,C:0,L:0,M:0,G:0,N:0,O:.003647,P:.047411,Q:0,H:0,R:0,S:0,T:0,U:0,V:0,W:0,X:0,Y:0,Z:0,a:0,b:.014588,c:0,d:0,e:0,f:0,g:0,h:0,i:0,j:0,k:0,l:0,m:0,n:0,o:0,p:0,q:.003647,r:.007294,s:.061999,t:.007294,u:.007294,v:.003647,w:.007294,x:.010941,AB:.032823,BB:.014588,CB:.018235,DB:.010941,EB:.018235,FB:.025529,GB:.061999,HB:.193291,IB:3.1656,JB:1.29104,KB:.003647,I:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","C","L","M","G","N","O","P","Q","H","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","5","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","I","","",""],E:"Edge",F:{5:1689897600,6:1692576e3,7:1694649600,8:1697155200,9:1698969600,C:1438128e3,L:1447286400,M:1470096e3,G:1491868800,N:1508198400,O:1525046400,P:1542067200,Q:1579046400,H:1581033600,R:1586736e3,S:1590019200,T:1594857600,U:1598486400,V:1602201600,W:1605830400,X:161136e4,Y:1614816e3,Z:1618358400,a:1622073600,b:1626912e3,c:1630627200,d:1632441600,e:1634774400,f:1637539200,g:1641427200,h:1643932800,i:1646265600,j:1649635200,k:1651190400,l:1653955200,m:1655942400,n:1659657600,o:1661990400,p:1664755200,q:1666915200,r:1670198400,s:1673481600,t:1675900800,u:1678665600,v:1680825600,w:1683158400,x:1685664e3,AB:1701993600,BB:1706227200,CB:1708732800,DB:1711152e3,EB:1713398400,FB:1715990400,GB:1718841600,HB:1721865600,IB:1724371200,JB:1726704e3,KB:1729123200,I:1731542400},D:{C:"ms",L:"ms",M:"ms",G:"ms",N:"ms",O:"ms",P:"ms"}},C:{A:{0:0,1:0,2:0,3:0,4:0,5:.335524,6:0,7:.003647,8:.076587,9:0,hC:0,IC:0,J:.003647,LB:0,K:0,D:0,E:0,F:0,A:0,B:.014588,C:0,L:0,M:0,G:0,N:0,O:0,P:0,MB:0,y:0,z:0,NB:0,OB:0,PB:0,QB:0,RB:0,SB:0,TB:0,UB:0,VB:0,WB:0,XB:0,YB:0,ZB:0,aB:0,bB:0,cB:0,dB:.007294,eB:.007294,fB:.003647,gB:0,hB:0,iB:0,jB:0,kB:0,lB:0,mB:.040117,nB:0,oB:0,pB:.003647,qB:.014588,rB:0,sB:0,JC:.003647,tB:0,KC:0,uB:0,vB:0,wB:0,xB:0,yB:0,zB:0,"0B":0,"1B":0,"2B":0,"3B":0,"4B":0,"5B":0,"6B":0,"7B":0,"8B":0,"9B":0,AC:.010941,Q:0,H:0,R:0,LC:0,S:0,T:0,U:0,V:0,W:0,X:.007294,Y:0,Z:0,a:0,b:0,c:0,d:.003647,e:0,f:0,g:0,h:0,i:0,j:0,k:0,l:.003647,m:.007294,n:0,o:.003647,p:0,q:0,r:0,s:.003647,t:0,u:0,v:0,w:.007294,x:0,AB:.007294,BB:.003647,CB:.003647,DB:.003647,EB:.003647,FB:.014588,GB:.010941,HB:.021882,IB:.03647,JB:.299054,KB:1.30198,I:.007294,BC:0,MC:0,NC:0,iC:0,jC:0,kC:0},B:"moz",C:["hC","IC","jC","kC","J","LB","K","D","E","F","A","B","C","L","M","G","N","O","P","MB","y","z","0","1","2","3","4","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","gB","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","sB","JC","tB","KC","uB","vB","wB","xB","yB","zB","0B","1B","2B","3B","4B","5B","6B","7B","8B","9B","AC","Q","H","R","LC","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","5","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","I","BC","MC","NC","iC"],E:"Firefox",F:{0:1368489600,1:1372118400,2:1375747200,3:1379376e3,4:1386633600,5:1688428800,6:1690848e3,7:1693267200,8:1695686400,9:1698105600,hC:1161648e3,IC:1213660800,jC:124632e4,kC:1264032e3,J:1300752e3,LB:1308614400,K:1313452800,D:1317081600,E:1317081600,F:1320710400,A:1324339200,B:1327968e3,C:1331596800,L:1335225600,M:1338854400,G:1342483200,N:1346112e3,O:1349740800,P:1353628800,MB:1357603200,y:1361232e3,z:1364860800,NB:1391472e3,OB:1395100800,PB:1398729600,QB:1402358400,RB:1405987200,SB:1409616e3,TB:1413244800,UB:1417392e3,VB:1421107200,WB:1424736e3,XB:1428278400,YB:1431475200,ZB:1435881600,aB:1439251200,bB:144288e4,cB:1446508800,dB:1450137600,eB:1453852800,fB:1457395200,gB:1461628800,hB:1465257600,iB:1470096e3,jB:1474329600,kB:1479168e3,lB:1485216e3,mB:1488844800,nB:149256e4,oB:1497312e3,pB:1502150400,qB:1506556800,rB:1510617600,sB:1516665600,JC:1520985600,tB:1525824e3,KC:1529971200,uB:1536105600,vB:1540252800,wB:1544486400,xB:154872e4,yB:1552953600,zB:1558396800,"0B":1562630400,"1B":1567468800,"2B":1571788800,"3B":1575331200,"4B":1578355200,"5B":1581379200,"6B":1583798400,"7B":1586304e3,"8B":1588636800,"9B":1591056e3,AC:1593475200,Q:1595894400,H:1598313600,R:1600732800,LC:1603152e3,S:1605571200,T:1607990400,U:1611619200,V:1614038400,W:1616457600,X:1618790400,Y:1622505600,Z:1626134400,a:1628553600,b:1630972800,c:1633392e3,d:1635811200,e:1638835200,f:1641859200,g:1644364800,h:1646697600,i:1649116800,j:1651536e3,k:1653955200,l:1656374400,m:1658793600,n:1661212800,o:1663632e3,p:1666051200,q:1668470400,r:1670889600,s:1673913600,t:1676332800,u:1678752e3,v:1681171200,w:1683590400,x:1686009600,AB:1700524800,BB:1702944e3,CB:1705968e3,DB:1708387200,EB:1710806400,FB:1713225600,GB:1715644800,HB:1718064e3,IB:1720483200,JB:1722902400,KB:1725321600,I:1727740800,BC:173016e4,MC:null,NC:null,iC:null}},D:{A:{0:0,1:0,2:0,3:0,4:0,5:.025529,6:.156821,7:.098469,8:.07294,9:.058352,J:0,LB:0,K:0,D:0,E:0,F:0,A:0,B:0,C:0,L:0,M:0,G:0,N:0,O:0,P:0,MB:0,y:0,z:0,NB:0,OB:0,PB:0,QB:0,RB:0,SB:0,TB:0,UB:0,VB:0,WB:0,XB:0,YB:.010941,ZB:0,aB:0,bB:0,cB:0,dB:0,eB:0,fB:0,gB:0,hB:.003647,iB:.018235,jB:.018235,kB:.007294,lB:.003647,mB:.003647,nB:.007294,oB:0,pB:0,qB:.021882,rB:0,sB:.003647,JC:0,tB:0,KC:.003647,uB:0,vB:0,wB:0,xB:0,yB:.021882,zB:.003647,"0B":0,"1B":.076587,"2B":.007294,"3B":0,"4B":0,"5B":.007294,"6B":.007294,"7B":.007294,"8B":.007294,"9B":.018235,AC:.014588,Q:.098469,H:.010941,R:.018235,S:.032823,T:.007294,U:.007294,V:.025529,W:.069293,X:.014588,Y:.010941,Z:.010941,a:.058352,b:.021882,c:.014588,d:.047411,e:.007294,f:.007294,g:.014588,h:.040117,i:.025529,j:.029176,k:.018235,l:.014588,m:.131292,n:.040117,o:.014588,p:.025529,q:.029176,r:.043764,s:1.36033,t:.021882,u:.040117,v:.043764,w:.091175,x:.091175,AB:.094822,BB:.098469,CB:.10941,DB:.142233,EB:.262584,FB:.258937,GB:.419405,HB:1.15975,IB:12.4691,JB:4.05546,KB:.014588,I:.003647,BC:0,MC:0,NC:0},B:"webkit",C:["","","","","","","J","LB","K","D","E","F","A","B","C","L","M","G","N","O","P","MB","y","z","0","1","2","3","4","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","gB","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","sB","JC","tB","KC","uB","vB","wB","xB","yB","zB","0B","1B","2B","3B","4B","5B","6B","7B","8B","9B","AC","Q","H","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","5","6","7","8","9","AB","BB","CB","DB","EB","FB","GB","HB","IB","JB","KB","I","BC","MC","NC"],E:"Chrome",F:{0:1343692800,1:1348531200,2:1352246400,3:1357862400,4:1361404800,5:1689724800,6:1692057600,7:1694476800,8:1696896e3,9:1698710400,J:1264377600,LB:1274745600,K:1283385600,D:1287619200,E:1291248e3,F:1296777600,A:1299542400,B:1303862400,C:1307404800,L:1312243200,M:1316131200,G:1316131200,N:1319500800,O:1323734400,P:1328659200,MB:1332892800,y:133704e4,z:1340668800,NB:1364428800,OB:1369094400,PB:1374105600,QB:1376956800,RB:1384214400,SB:1389657600,TB:1392940800,UB:1397001600,VB:1400544e3,WB:1405468800,XB:1409011200,YB:141264e4,ZB:1416268800,aB:1421798400,bB:1425513600,cB:1429401600,dB:143208e4,eB:1437523200,fB:1441152e3,gB:1444780800,hB:1449014400,iB:1453248e3,jB:1456963200,kB:1460592e3,lB:1464134400,mB:1469059200,nB:1472601600,oB:1476230400,pB:1480550400,qB:1485302400,rB:1489017600,sB:149256e4,JC:1496707200,tB:1500940800,KC:1504569600,uB:1508198400,vB:1512518400,wB:1516752e3,xB:1520294400,yB:1523923200,zB:1527552e3,"0B":1532390400,"1B":1536019200,"2B":1539648e3,"3B":1543968e3,"4B":154872e4,"5B":1552348800,"6B":1555977600,"7B":1559606400,"8B":1564444800,"9B":1568073600,AC:1571702400,Q:1575936e3,H:1580860800,R:1586304e3,S:1589846400,T:1594684800,U:1598313600,V:1601942400,W:1605571200,X:1611014400,Y:1614556800,Z:1618272e3,a:1621987200,b:1626739200,c:1630368e3,d:1632268800,e:1634601600,f:1637020800,g:1641340800,h:1643673600,i:1646092800,j:1648512e3,k:1650931200,l:1653350400,m:1655769600,n:1659398400,o:1661817600,p:1664236800,q:1666656e3,r:166968e4,s:1673308800,t:1675728e3,u:1678147200,v:1680566400,w:1682985600,x:1685404800,AB:1701993600,BB:1705968e3,CB:1708387200,DB:1710806400,EB:1713225600,FB:1715644800,GB:1718064e3,HB:1721174400,IB:1724112e3,JB:1726531200,KB:1728950400,I:1731369600,BC:null,MC:null,NC:null}},E:{A:{J:0,LB:0,K:0,D:0,E:0,F:0,A:0,B:0,C:0,L:.003647,M:.025529,G:.007294,lC:0,OC:0,mC:0,nC:0,oC:0,pC:0,PC:0,CC:.003647,DC:.007294,qC:.058352,rC:.076587,sC:.021882,QC:.007294,RC:.018235,EC:.029176,tC:.21882,FC:.029176,SC:.03647,TC:.029176,UC:.069293,VC:.021882,WC:.040117,uC:.273525,GC:.018235,XC:.03647,YC:.03647,ZC:.043764,aC:.10941,bC:.309995,vC:1.53903,HC:.149527,cC:.007294,dC:0,wC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","lC","OC","J","LB","mC","K","nC","D","oC","E","F","pC","A","PC","B","CC","C","DC","L","qC","M","rC","G","sC","QC","RC","EC","tC","FC","SC","TC","UC","VC","WC","uC","GC","XC","YC","ZC","aC","bC","vC","HC","cC","dC","wC",""],E:"Safari",F:{lC:1205798400,OC:1226534400,J:1244419200,LB:1275868800,mC:131112e4,K:1343174400,nC:13824e5,D:13824e5,oC:1410998400,E:1413417600,F:1443657600,pC:1458518400,A:1474329600,PC:1490572800,B:1505779200,CC:1522281600,C:1537142400,DC:1553472e3,L:1568851200,qC:1585008e3,M:1600214400,rC:1619395200,G:1632096e3,sC:1635292800,QC:1639353600,RC:1647216e3,EC:1652745600,tC:1658275200,FC:1662940800,SC:1666569600,TC:1670889600,UC:1674432e3,VC:1679875200,WC:1684368e3,uC:1690156800,GC:1695686400,XC:1698192e3,YC:1702252800,ZC:1705881600,aC:1709596800,bC:1715558400,vC:1722211200,HC:1726444800,cC:1730073600,dC:null,wC:null}},F:{A:{0:0,1:0,2:0,3:0,4:0,F:0,B:0,C:0,G:0,N:0,O:0,P:0,MB:0,y:0,z:0,NB:0,OB:0,PB:0,QB:0,RB:0,SB:0,TB:0,UB:0,VB:0,WB:0,XB:0,YB:0,ZB:0,aB:.003647,bB:0,cB:0,dB:0,eB:0,fB:0,gB:.014588,hB:0,iB:0,jB:0,kB:0,lB:0,mB:0,nB:0,oB:0,pB:0,qB:0,rB:0,sB:0,tB:0,uB:0,vB:0,wB:0,xB:0,yB:0,zB:0,"0B":0,"1B":0,"2B":0,"3B":0,"4B":0,"5B":0,"6B":0,"7B":0,"8B":0,"9B":0,AC:0,Q:0,H:0,R:0,LC:0,S:0,T:.018235,U:0,V:0,W:0,X:0,Y:0,Z:0,a:0,b:0,c:0,d:0,e:.03647,f:0,g:0,h:0,i:0,j:0,k:0,l:.029176,m:0,n:0,o:0,p:0,q:0,r:0,s:.018235,t:0,u:.007294,v:.495992,w:.382935,x:.003647,xC:0,yC:0,zC:0,"0C":0,CC:0,eC:0,"1C":0,DC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","F","xC","yC","zC","0C","B","CC","eC","1C","C","DC","G","N","O","P","MB","y","z","0","1","2","3","4","NB","OB","PB","QB","RB","SB","TB","UB","VB","WB","XB","YB","ZB","aB","bB","cB","dB","eB","fB","gB","hB","iB","jB","kB","lB","mB","nB","oB","pB","qB","rB","sB","tB","uB","vB","wB","xB","yB","zB","0B","1B","2B","3B","4B","5B","6B","7B","8B","9B","AC","Q","H","R","LC","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","","",""],E:"Opera",F:{0:1401753600,1:1405987200,2:1409616e3,3:1413331200,4:1417132800,F:1150761600,xC:1223424e3,yC:1251763200,zC:1267488e3,"0C":1277942400,B:1292457600,CC:1302566400,eC:1309219200,"1C":1323129600,C:1323129600,DC:1352073600,G:1372723200,N:1377561600,O:1381104e3,P:1386288e3,MB:1390867200,y:1393891200,z:1399334400,NB:1422316800,OB:1425945600,PB:1430179200,QB:1433808e3,RB:1438646400,SB:1442448e3,TB:1445904e3,UB:1449100800,VB:1454371200,WB:1457308800,XB:146232e4,YB:1465344e3,ZB:1470096e3,aB:1474329600,bB:1477267200,cB:1481587200,dB:1486425600,eB:1490054400,fB:1494374400,gB:1498003200,hB:1502236800,iB:1506470400,jB:1510099200,kB:1515024e3,lB:1517961600,mB:1521676800,nB:1525910400,oB:1530144e3,pB:1534982400,qB:1537833600,rB:1543363200,sB:1548201600,tB:1554768e3,uB:1561593600,vB:1566259200,wB:1570406400,xB:1573689600,yB:1578441600,zB:1583971200,"0B":1587513600,"1B":1592956800,"2B":1595894400,"3B":1600128e3,"4B":1603238400,"5B":161352e4,"6B":1612224e3,"7B":1616544e3,"8B":1619568e3,"9B":1623715200,AC:1627948800,Q:1631577600,H:1633392e3,R:1635984e3,LC:1638403200,S:1642550400,T:1644969600,U:1647993600,V:1650412800,W:1652745600,X:1654646400,Y:1657152e3,Z:1660780800,a:1663113600,b:1668816e3,c:1668643200,d:1671062400,e:1675209600,f:1677024e3,g:1679529600,h:1681948800,i:1684195200,j:1687219200,k:1690329600,l:1692748800,m:1696204800,n:169992e4,o:169992e4,p:1702944e3,q:1707264e3,r:1710115200,s:1711497600,t:1716336e3,u:1719273600,v:1721088e3,w:1724284800,x:1727222400},D:{F:"o",B:"o",C:"o",xC:"o",yC:"o",zC:"o","0C":"o",CC:"o",eC:"o","1C":"o",DC:"o"}},G:{A:{E:0,OC:0,"2C":0,fC:.00292873,"3C":.00146437,"4C":.0087862,"5C":.0102506,"6C":0,"7C":.0102506,"8C":.0248942,"9C":.00732183,AD:.0424666,BD:.156687,CD:.0117149,DD:.00732183,ED:.177188,FD:.00292873,GD:.0556459,HD:.00732183,ID:.0292873,JD:.102506,KD:.0893264,LD:.0512528,QC:.0512528,RC:.0571103,EC:.0702896,MD:.69411,FC:.139115,SC:.276765,TC:.139115,UC:.234299,VC:.0497885,WC:.0981126,ND:.834689,GC:.0702896,XC:.111292,YC:.101041,ZC:.144972,aC:.31191,bC:1.48926,OD:7.91637,HC:.998698,cC:.0453954,dC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","OC","2C","fC","3C","4C","5C","E","6C","7C","8C","9C","AD","BD","CD","DD","ED","FD","GD","HD","ID","JD","KD","LD","QC","RC","EC","MD","FC","SC","TC","UC","VC","WC","ND","GC","XC","YC","ZC","aC","bC","OD","HC","cC","dC","",""],E:"Safari on iOS",F:{OC:1270252800,"2C":1283904e3,fC:1299628800,"3C":1331078400,"4C":1359331200,"5C":1394409600,E:1410912e3,"6C":1413763200,"7C":1442361600,"8C":1458518400,"9C":1473724800,AD:1490572800,BD:1505779200,CD:1522281600,DD:1537142400,ED:1553472e3,FD:1568851200,GD:1572220800,HD:1580169600,ID:1585008e3,JD:1600214400,KD:1619395200,LD:1632096e3,QC:1639353600,RC:1647216e3,EC:1652659200,MD:1658275200,FC:1662940800,SC:1666569600,TC:1670889600,UC:1674432e3,VC:1679875200,WC:1684368e3,ND:1690156800,GC:1694995200,XC:1698192e3,YC:1702252800,ZC:1705881600,aC:1709596800,bC:1715558400,OD:1722211200,HC:1726444800,cC:1730073600,dC:null}},H:{A:{PD:.05},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","PD","","",""],E:"Opera Mini",F:{PD:1426464e3}},I:{A:{IC:0,J:0,I:.266132,QD:0,RD:0,SD:0,TD:266826e-10,fC:10673e-8,UD:0,VD:426922e-9},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","QD","RD","SD","IC","J","TD","fC","UD","VD","I","","",""],E:"Android Browser",F:{QD:1256515200,RD:1274313600,SD:1291593600,IC:1298332800,J:1318896e3,TD:1341792e3,fC:1374624e3,UD:1386547200,VD:1401667200,I:1731369600}},J:{A:{D:0,A:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","A","","",""],E:"Blackberry Browser",F:{D:1325376e3,A:1359504e3}},K:{A:{A:0,B:0,C:0,H:1.15072,CC:0,eC:0,DC:0},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","CC","eC","C","DC","H","","",""],E:"Opera Mobile",F:{A:1287100800,B:1300752e3,CC:1314835200,eC:1318291200,C:1330300800,DC:1349740800,H:1709769600},D:{H:"webkit"}},L:{A:{I:43.6637},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","I","","",""],E:"Chrome for Android",F:{I:1731369600}},M:{A:{BC:.343062},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","BC","","",""],E:"Firefox for Android",F:{BC:173016e4}},N:{A:{A:0,B:0},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","","",""],E:"IE Mobile",F:{A:1340150400,B:1353456e3}},O:{A:{EC:1.23248},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","EC","","",""],E:"UC Browser for Android",F:{EC:1710115200},D:{EC:"webkit"}},P:{A:{0:.0434355,1:.0542944,2:.0651532,3:.206319,4:1.86773,J:.086871,y:.0108589,z:.0434355,WD:.0108589,XD:.0108589,YD:.0325766,ZD:0,aD:0,PC:0,bD:0,cD:0,dD:0,eD:0,fD:0,FC:0,GC:.0217177,HC:0,gD:.0108589},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","J","WD","XD","YD","ZD","aD","PC","bD","cD","dD","eD","fD","FC","GC","HC","gD","y","z","0","1","2","3","4","","",""],E:"Samsung Internet",F:{0:1689292800,1:1697587200,2:1711497600,3:1715126400,4:1717718400,J:1461024e3,WD:1481846400,XD:1509408e3,YD:1528329600,ZD:1546128e3,aD:1554163200,PC:1567900800,bD:1582588800,cD:1593475200,dD:1605657600,eD:1618531200,fD:1629072e3,FC:1640736e3,GC:1651708800,HC:1659657600,gD:1667260800,y:1677369600,z:1684454400}},Q:{A:{hD:.273179},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","hD","","",""],E:"QQ Browser",F:{hD:1710288e3}},R:{A:{iD:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","iD","","",""],E:"Baidu Browser",F:{iD:1710201600}},S:{A:{jD:.031765,kD:0},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","jD","kD","","",""],E:"KaiOS Browser",F:{jD:1527811200,kD:1631664e3}}}},71132:function(e){e.exports={0:"22",1:"23",2:"24",3:"25",4:"26",5:"115",6:"116",7:"117",8:"118",9:"119",A:"10",B:"11",C:"12",D:"7",E:"8",F:"9",G:"15",H:"80",I:"131",J:"4",K:"6",L:"13",M:"14",N:"16",O:"17",P:"18",Q:"79",R:"81",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90",a:"91",b:"92",c:"93",d:"94",e:"95",f:"96",g:"97",h:"98",i:"99",j:"100",k:"101",l:"102",m:"103",n:"104",o:"105",p:"106",q:"107",r:"108",s:"109",t:"110",u:"111",v:"112",w:"113",x:"114",y:"20",z:"21",AB:"120",BB:"121",CB:"122",DB:"123",EB:"124",FB:"125",GB:"126",HB:"127",IB:"128",JB:"129",KB:"130",LB:"5",MB:"19",NB:"27",OB:"28",PB:"29",QB:"30",RB:"31",SB:"32",TB:"33",UB:"34",VB:"35",WB:"36",XB:"37",YB:"38",ZB:"39",aB:"40",bB:"41",cB:"42",dB:"43",eB:"44",fB:"45",gB:"46",hB:"47",iB:"48",jB:"49",kB:"50",lB:"51",mB:"52",nB:"53",oB:"54",pB:"55",qB:"56",rB:"57",sB:"58",tB:"60",uB:"62",vB:"63",wB:"64",xB:"65",yB:"66",zB:"67","0B":"68","1B":"69","2B":"70","3B":"71","4B":"72","5B":"73","6B":"74","7B":"75","8B":"76","9B":"77",AC:"78",BC:"132",CC:"11.1",DC:"12.1",EC:"15.5",FC:"16.0",GC:"17.0",HC:"18.0",IC:"3",JC:"59",KC:"61",LC:"82",MC:"133",NC:"134",OC:"3.2",PC:"10.1",QC:"15.2-15.3",RC:"15.4",SC:"16.1",TC:"16.2",UC:"16.3",VC:"16.4",WC:"16.5",XC:"17.1",YC:"17.2",ZC:"17.3",aC:"17.4",bC:"17.5",cC:"18.1",dC:"18.2",eC:"11.5",fC:"4.2-4.3",gC:"5.5",hC:"2",iC:"135",jC:"3.5",kC:"3.6",lC:"3.1",mC:"5.1",nC:"6.1",oC:"7.1",pC:"9.1",qC:"13.1",rC:"14.1",sC:"15.1",tC:"15.6",uC:"16.6",vC:"17.6",wC:"TP",xC:"9.5-9.6",yC:"10.0-10.1",zC:"10.5","0C":"10.6","1C":"11.6","2C":"4.0-4.1","3C":"5.0-5.1","4C":"6.0-6.1","5C":"7.0-7.1","6C":"8.1-8.4","7C":"9.0-9.2","8C":"9.3","9C":"10.0-10.2",AD:"10.3",BD:"11.0-11.2",CD:"11.3-11.4",DD:"12.0-12.1",ED:"12.2-12.5",FD:"13.0-13.1",GD:"13.2",HD:"13.3",ID:"13.4-13.7",JD:"14.0-14.4",KD:"14.5-14.8",LD:"15.0-15.1",MD:"15.6-15.8",ND:"16.6-16.7",OD:"17.6-17.7",PD:"all",QD:"2.1",RD:"2.2",SD:"2.3",TD:"4.1",UD:"4.4",VD:"4.4.3-4.4.4",WD:"5.0-5.4",XD:"6.2-6.4",YD:"7.2-7.4",ZD:"8.2",aD:"9.2",bD:"11.1-11.2",cD:"12.0",dD:"13.0",eD:"14.0",fD:"15.0",gD:"19.0",hD:"14.9",iD:"13.52",jD:"2.5",kD:"3.0-3.1"}},29579:function(e){e.exports={A:"ie",B:"edge",C:"firefox",D:"chrome",E:"safari",F:"opera",G:"ios_saf",H:"op_mini",I:"android",J:"bb",K:"op_mob",L:"and_chr",M:"and_ff",N:"ie_mob",O:"and_uc",P:"samsung",Q:"and_qq",R:"baidu",S:"kaios"}},24800:function(e,t,n){"use strict";const r=n(91174).browsers,i=n(13244).browserVersions,o=n(23832);function a(e){return Object.keys(e).reduce(((t,n)=>(t[i[n]]=e[n],t)),{})}e.exports.D=Object.keys(o).reduce(((e,t)=>{let n=o[t];return e[r[t]]=Object.keys(n).reduce(((e,t)=>("A"===t?e.usage_global=a(n[t]):"C"===t?e.versions=n[t].reduce(((e,t)=>(""===t?e.push(null):e.push(i[t]),e)),[]):"D"===t?e.prefix_exceptions=a(n[t]):"E"===t?e.browser=n[t]:"F"===t?e.release_date=Object.keys(n[t]).reduce(((e,r)=>(e[i[r]]=n[t][r],e)),{}):e.prefix=n[t],e)),{}),e}),{})},13244:function(e,t,n){e.exports.browserVersions=n(71132)},91174:function(e,t,n){e.exports.browsers=n(29579)},83589:function(e){e.exports={"0.20":"39",.21:"41",.22:"41",.23:"41",.24:"41",.25:"42",.26:"42",.27:"43",.28:"43",.29:"43","0.30":"44",.31:"45",.32:"45",.33:"45",.34:"45",.35:"45",.36:"47",.37:"49","1.0":"49",1.1:"50",1.2:"51",1.3:"52",1.4:"53",1.5:"54",1.6:"56",1.7:"58",1.8:"59","2.0":"61",2.1:"61","3.0":"66",3.1:"66","4.0":"69",4.1:"69",4.2:"69","5.0":"73","6.0":"76",6.1:"76","7.0":"78",7.1:"78",7.2:"78",7.3:"78","8.0":"80",8.1:"80",8.2:"80",8.3:"80",8.4:"80",8.5:"80","9.0":"83",9.1:"83",9.2:"83",9.3:"83",9.4:"83","10.0":"85",10.1:"85",10.2:"85",10.3:"85",10.4:"85","11.0":"87",11.1:"87",11.2:"87",11.3:"87",11.4:"87",11.5:"87","12.0":"89",12.1:"89",12.2:"89","13.0":"91",13.1:"91",13.2:"91",13.3:"91",13.4:"91",13.5:"91",13.6:"91","14.0":"93",14.1:"93",14.2:"93","15.0":"94",15.1:"94",15.2:"94",15.3:"94",15.4:"94",15.5:"94","16.0":"96",16.1:"96",16.2:"96","17.0":"98",17.1:"98",17.2:"98",17.3:"98",17.4:"98","18.0":"100",18.1:"100",18.2:"100",18.3:"100","19.0":"102",19.1:"102","20.0":"104",20.1:"104",20.2:"104",20.3:"104","21.0":"106",21.1:"106",21.2:"106",21.3:"106",21.4:"106","22.0":"108",22.1:"108",22.2:"108",22.3:"108","23.0":"110",23.1:"110",23.2:"110",23.3:"110","24.0":"112",24.1:"112",24.2:"112",24.3:"112",24.4:"112",24.5:"112",24.6:"112",24.7:"112",24.8:"112","25.0":"114",25.1:"114",25.2:"114",25.3:"114",25.4:"114",25.5:"114",25.6:"114",25.7:"114",25.8:"114",25.9:"114","26.0":"116",26.1:"116",26.2:"116",26.3:"116","27.0":"118"}},87346:function(e,t,n){"use strict";var r=n(36899),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,v=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(v){var i=p(n);i&&i!==v&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),h=u(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||h&&h[m]||s&&s[m])){var y=f(n,m);try{c(t,m,y)}catch(e){}}}}return t}},96873:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=i(t);n;)n=i(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),u(e,"resize",r,!0)),u(t,"scroll",r,!0),a&&a.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=c){var l=i(t);l&&this._monitorIntersections(l.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=c(i),s=this._rootContainsTarget(i),u=r.entry,l=e&&s&&this._computeTargetAndRootIntersection(i,a,t),d=null;this._rootContainsTarget(i)?n&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var f=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:d,intersectionRect:l});u?e&&s?this._hasCrossedThreshold(u,f)&&this._queuedEntries.push(f):u&&u.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var a,s,u,l,f,v,h,g,m=i,y=p(t),b=!1;!b&&y;){var _=null,E=1==y.nodeType?window.getComputedStyle(y):{};if("none"==E.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)n&&!this.root?!r||0==r.width&&0==r.height?(y=null,_=null,m=null):_=r:_=o;else{var w=p(y),S=w&&c(w),T=w&&this._computeTargetAndRootIntersection(w,S,o);S&&T?(y=w,_=d(S,T)):(y=null,m=null)}else{var A=y.ownerDocument;y!=A.body&&y!=A.documentElement&&"visible"!=E.overflow&&(_=c(y))}if(_&&(a=_,s=m,void 0,void 0,void 0,void 0,void 0,void 0,u=Math.max(a.top,s.top),l=Math.min(a.bottom,s.bottom),f=Math.max(a.left,s.left),g=l-u,m=(h=(v=Math.min(a.right,s.right))-f)>=0&&g>=0&&{top:u,bottom:l,left:f,right:v,width:h,height:g}||null),!m)break;y=y&&p(y)}return m}},a.prototype._getRootRect=function(){var t;if(this.root&&!v(this.root))t=c(this.root);else{var n=v(this.root)?this.root:e,r=n.documentElement,i=n.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return f(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=l(e.rootBounds),this.boundingClientRect=l(e.boundingClientRect),this.intersectionRect=l(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function v(e){return e&&9===e.nodeType}}()},25692:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},86214:function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},92339:function(e,t,n){"use strict";var r=n(53188);function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var n,r="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var a={resolve:function(){for(var e,t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var s;a>=0?s=arguments[a]:(void 0===e&&(e=r.cwd()),s=e),i(s),0!==s.length&&(t=s+"/"+t,n=47===s.charCodeAt(0))}return t=o(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=o(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];i(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":a.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if((e=a.resolve(e))===(t=a.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,o=r-n,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var u=t.length-s,c=o<u?o:u,l=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);if(0===d)return t.slice(s+d)}else o>c&&(47===e.charCodeAt(n+d)?l=d:0===d&&(l=0));break}var f=e.charCodeAt(n+d);if(f!==t.charCodeAt(s+d))break;47===f&&(l=d)}var p="";for(d=n+l+1;d<=r;++d)d!==r&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(s+l):(s+=l,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!o){r=a;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');i(e);var n,r=0,o=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!a){r=n+1;break}}else-1===u&&(a=!1,u=n+1),s>=0&&(c===t.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=u))}return r===o?o=u:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){r=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":e.slice(r,o)},extname:function(e){i(e);for(var t=-1,n=0,r=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===r&&(o=!1,r=s+1),46===u?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1);else if(!o){n=s+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){i(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=e.charCodeAt(0),o=47===r;o?(t.root="/",n=1):n=0;for(var a=-1,s=0,u=-1,c=!0,l=e.length-1,d=0;l>=n;--l)if(47!==(r=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===r?-1===a?a=l:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){s=l+1;break}return-1===a||-1===u||0===d||1===d&&a===u-1&&a===s+1?-1!==u&&(t.base=t.name=0===s&&o?e.slice(1,u):e.slice(s,u)):(0===s&&o?(t.name=e.slice(1,a),t.base=e.slice(1,u)):(t.name=e.slice(s,a),t.base=e.slice(s,u)),t.ext=e.slice(a,u)),s>0?t.dir=e.slice(0,s-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,e.exports=a},53188:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],c=!1,l=-1;function d(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},58483:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case h:case u:return e;default:return t}}case i:return t}}}function w(e){return E(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=h,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||E(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===h},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===m)},t.typeOf=E},36899:function(e,t,n){"use strict";e.exports=n(58483)},2198:function(e){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,a,s=this.byteLength,u=e(t,s),c=s;return undefined!==n&&(c=e(n,s)),u>c?new ArrayBuffer(0):(r=c-u,i=new ArrayBuffer(r),o=new Uint8Array(i),a=new Uint8Array(this,u,r),o.set(a),i)}}(),l.prototype.append=function(e){return this.appendBinary(u(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var r,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},l.hash=function(e,t){return l.hashBinary(u(e),t)},l.hashBinary=function(e,t){var n=s(o(e));return t?c(n):n},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,r,o,a,s,u=(r=this._buff.buffer,o=e,a=!0,(s=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(o),r.byteLength),a?s:s.buffer),c=u.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)n(this._hash,i(u.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(u.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,o,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}(new Uint8Array(e)));return t?c(r):r},l}()},56640:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",u="object",c="string",l="model",d="name",f="type",p="vendor",v="version",h="architecture",g="console",m="mobile",y="tablet",b="smarttv",_="wearable",E="embedded",w="Amazon",S="Apple",T="ASUS",A="BlackBerry",k="Browser",O="Chrome",C="Firefox",R="Google",I="Huawei",N="LG",M="Microsoft",x="Motorola",P="Opera",L="Samsung",D="Sony",j="Xiaomi",B="Zebra",U="Facebook",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},V=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},H=function(e,t){for(var n,r,i,s,c,l,d=0;d<t.length&&!c;){var f=t[d],p=t[d+1];for(n=r=0;n<f.length&&!c;)if(c=f[n++].exec(e))for(i=0;i<p.length;i++)l=c[++r],typeof(s=p[i])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;d+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(V(t[n][r],e))return"?"===n?o:n}else if(V(t[n],e))return"?"===n?o:n;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,v],[/opios[\/ ]+([\w\.]+)/i],[v,[d,P+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[d,P]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[d,"UC"+k]],[/\bqbcore\/([\w\.]+)/i],[v,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[v,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+k],v],[/\bfocus\/([\w\.]+)/i],[v,[d,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[d,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[d,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[d,"MIUI "+k]],[/fxios\/([-\w\.]+)/i],[v,[d,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+k]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+k],v],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],v],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[d,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,O+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[d,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,v],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[v,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[v,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[v,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[d,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,v]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,W]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[p,L],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[p,L],[f,m]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[p,S],[f,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,S],[f,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[p,I],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[p,I],[f,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[p,j],[f,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[p,j],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[p,"OPPO"],[f,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[p,"Vivo"],[f,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[p,"Realme"],[f,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[p,x],[f,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[p,x],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,N],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[p,N],[f,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[p,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[p,"Nokia"],[f,m]],[/(pixel c)\b/i],[l,[p,R],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[p,R],[f,m]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,D],[f,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[p,D],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[p,"OnePlus"],[f,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[p,w],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[p,w],[f,m]],[/(playbook);[-\w\),; ]+(rim)/i],[l,p,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[p,A],[f,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[p,T],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[p,T],[f,m]],[/(nexus 9)/i],[l,[p,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[l,/_/g," "],[f,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[p,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[p,"Meizu"],[f,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[p,"Sharp"],[f,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,l,[f,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,l,[f,y]],[/(surface duo)/i],[l,[p,M],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[p,"Fairphone"],[f,m]],[/(u304aa)/i],[l,[p,"AT&T"],[f,m]],[/\bsie-(\w*)/i],[l,[p,"Siemens"],[f,m]],[/\b(rct\w+) b/i],[l,[p,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[p,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[p,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[p,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[l,[p,"NuVision"],[f,y]],[/\b(k88) b/i],[l,[p,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[l,[p,"ZTE"],[f,m]],[/\b(gen\d{3}) b.+49h/i],[l,[p,"Swiss"],[f,m]],[/\b(zur\d{3}) b/i],[l,[p,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[l,[p,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],l,[f,y]],[/\b(ns-?\w{0,9}) b/i],[l,[p,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[p,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],l,[f,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],l,[f,m]],[/\b(ph-1) /i],[l,[p,"Essential"],[f,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[p,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[l,[p,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[l,[p,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[l,[p,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[p,l,[f,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,M],[f,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,B],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,B],[f,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[f,g]],[/droid.+; (shield) bui/i],[l,[p,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[l,[p,D],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[p,M],[f,g]],[/smart-tv.+(samsung)/i],[p,[f,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,L],[f,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,N],[f,b]],[/(apple) ?tv/i],[p,[l,S+" TV"],[f,b]],[/crkey/i],[[l,O+"cast"],[p,R],[f,b]],[/droid.+aft(\w)( bui|\))/i],[l,[p,w],[f,b]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[f,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,q],[l,q],[f,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,b]],[/((pebble))app/i],[p,l,[f,_]],[/droid.+; (glass) \d/i],[l,[p,R],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[l,[p,B],[f,_]],[/(quest( 2)?)/i],[l,[p,U],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[f,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,m]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[v,G,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[v,G,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[v,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,v],[/\(bb(10);/i],[v,[d,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[d,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[v,[d,O+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],v],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,v],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,v]]},J=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof J))return new J(e,t).getResult();var n=e||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(K,t):K;return this.getBrowser=function(){var e,t={};return t[d]=o,t[v]=o,H.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[h]=o,H.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e[p]=o,e[l]=o,e[f]=o,H.call(e,n,r.device),e},this.getEngine=function(){var e={};return e[d]=o,e[v]=o,H.call(e,n,r.engine),e},this.getOS=function(){var e={};return e[d]=o,e[v]=o,H.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>255?q(e,255):e,this},this.setUA(n),this};J.VERSION="0.7.31",J.BROWSER=F([d,v,"major"]),J.CPU=F([h]),J.DEVICE=F([l,p,f,g,m,b,y,_,E]),J.ENGINE=J.OS=F([d,v]),typeof t!==s?(e.exports&&(t=e.exports=J),t.UAParser=J):n.amdO?(r=function(){return J}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=J);var z=typeof i!==s&&(i.jQuery||i.Zepto);if(z&&!z.ua){var Y=new J;z.ua=Y.getResult(),z.ua.get=function(){return Y.getUA()},z.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)z.ua[n]=t[n]}}}("object"==typeof window?window:this)},9773:function(e,t,n){"use strict";var r=n(44121),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},21579:function(e,t,n){"use strict";var r=n(44121),i=n(86949),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},86949:function(e,t,n){"use strict";e.exports=n(9773)},66426:function(e,t,n){"use strict";e.exports=n(21579)},26288:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"validateHTMLColorName",(function(){return a})),n.d(t,"validateHTMLColorSpecialName",(function(){return s})),n.d(t,"validateHTMLColorHex",(function(){return u})),n.d(t,"validateHTMLColorRgb",(function(){return h})),n.d(t,"validateHTMLColorHsl",(function(){return g})),n.d(t,"validateHTMLColorHwb",(function(){return m})),n.d(t,"validateHTMLColorLab",(function(){return y})),n.d(t,"validateHTMLColorLch",(function(){return b})),n.d(t,"validateHTMLColor",(function(){return _}));const r=e=>e&&"string"==typeof e,i=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenrod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","Goldenrod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenrodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquamarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenrod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],o=["currentColor","inherit","transparent"],a=e=>{let t=!1;return r(e)&&i.map((n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null))),t},s=e=>{let t=!1;return r(e)&&o.map((n=>(e.toLowerCase()===n.toLowerCase()&&(t=!0),null))),t},u=e=>!!r(e)&&(e&&/^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$/i.test(e)),c="(([\\d]{0,5})((\\.([\\d]{1,5}))?))",l=`(${c}%)`,d="(([0-9]|[1-9][0-9]|100)%)",f=`(${d}|(0?((\\.([\\d]{1,5}))?))|1)`,p=`([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?)([\\s]{1,5})(((${d}))|(0?((\\.([\\d]{1,5}))?))|1))?([\\s]{0,5})\\)`,v="(-?(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360)(deg)?)",h=e=>{if(r(e)){const t="([\\s]{0,5})([\\d]{1,5})%?([\\s]{0,5}),?",n="((([\\s]{0,5}),?([\\s]{0,5}))|(([\\s]{1,5})))",r=new RegExp(`^(rgb)a?\\(${t}${n}${t}${n}${t}${n}((\\/?([\\s]{0,5})(0?\\.?([\\d]{1,5})%?([\\s]{0,5}))?|1|0))?\\)$`);return e&&r.test(e)}return!1},g=e=>{if(r(e)){const t=new RegExp(`^(hsl)a?\\((([\\s]{0,5})(${v}|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-9][0-9]|400)grad)|((([0-5])?\\.([\\d]{1,5})|6\\.([0-9]|1[0-9]|2[0-8])|[0-6])rad)|((0?((\\.([\\d]{1,5}))?)|1)turn))((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${d})((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${d})([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?|,?)([\\s]{0,5})(((${d}))|(0?((\\.([\\d]{1,5}))?))|1))?\\)$`);return e&&t.test(e)}return!1},m=e=>{if(r(e)){const t=new RegExp(`^(hwb\\(([\\s]{0,5})${v}([\\s]{1,5}))((0|${d})([\\s]{1,5}))((0|${d})${p}$`);return e&&t.test(e)}return!1},y=e=>{if(r(e)){const t="(-?(([0-9]|[1-9][0-9]|1[0-5][0-9])((\\.([\\d]{1,5}))?)?|160))",n=new RegExp(`^(lab\\(([\\s]{0,5})${l}([\\s]{1,5})${t}([\\s]{1,5})${t}${p}$`);return e&&n.test(e)}return!1},b=e=>{if(r(e)){const t=new RegExp(`^lch\\((([\\s]{0,5})((([0-9]|[1-9][0-9])?((\\.([\\d]{1,5}))?)|100)(%)?)([\\s]{1,5})${""+c}([\\s]{1,5})((${v})|(0|${f})|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360))([\\s]{0,5})((\\/([\\s]{0,5})${f}))?)\\)$`);return e&&t.test(e)}return!1},_=e=>!!(e&&u(e)||h(e)||g(e)||m(e)||y(e)||b(e));t.default=e=>!!(e&&u(e)||a(e)||s(e)||h(e)||g(e)||m(e)||y(e)||b(e))}])},37152:function(e,t,n){"use strict";n.d(t,{c:function(){return y},N:function(){return m}});var r,i,o,a=n(15118),s=n(44488),u=n(56873),c=n(15688),l=n(98248),d=n.n(l),f=n(73579),p=n.n(f),v=n(42061),h=n(28531),g=n(90130),m=function(){return(0,g.jsx)("div",{className:"supreme-loader "+d().supremeLoader,children:r||(r=(0,g.jsx)(a.Z,{overlay:!0,semiTransparentBg:!1,fadeAnimation:"false",size:"xxl"}))})},y=function(){var e,t=(0,s.x)({webview:h.WEBVIEW_INIT_PARAMS_TOKEN,pageService:u.Y9,colorScheme:c.MICRO_DI_COLOR_SCHEME}),n=t.webview,r=t.pageService,a=t.colorScheme,l=(r.getConfig()||{}).fixedTheme;return n.isWebView?("dark"===l?e=p().fixedWebviewFallback:"dark"===a.getValueSync()&&(e=p().webviewFallback),(0,g.jsx)("div",{"data-qa-type":"emptyFallback",className:e})):(0,g.jsxs)(g.Fragment,{children:[i||(i=(0,g.jsx)(m,{})),o||(o=(0,g.jsx)(v.ch,{}))]})}},76802:function(e,t,n){"use strict";var r=n(45232),i=n(58903),o=n(17935),a=n.n(o),s=n(21533),u=n(97570),c=n(80772),l=n(67584),d=n(33926),f=n(80476),p=n(49103),v=n.n(p),h=n(80283),g=n(29772),m=n(16842),y=n(82571),b=n(37621),_=function(){function e(){this.parameters={}}var t=e.prototype;return t.get=function(e){return this.parameters[e]},t.getInt=function(e,t){var n=Number(e in this.parameters?this.parameters[e]:t);return Number.isFinite(n)?n:t},t.getAll=function(){return this.parameters},t.update=function(e){this.parameters=Object.assign(this.parameters,e)},t.clientUsed=function(){return this.getAll()},t.updateClientUsed=function(e){this.update(e)},e}(),E=n(58426),w=(0,E.L)("environment",{}),S=function(){};S=(0,f.__decorate)([(0,h.Y)({providers:[{provide:y.vC,useFactory:function(e){var t=e.store,n=new _;return n.update(t.getState(w)),n},scope:l.s.SINGLETON,deps:{store:b.kR}},{provide:b.Ym,useValue:w,multi:!0}]})],S);var T=n(66598),A=n(49076),k=n(10776),O=n(27714),C=n.n(O),R=n(42353),I=(0,R.y)("setMedia"),N=(0,E.L)("media",{height:0,width:0,isTouch:!1,retina:!1,synchronized:!1,displayMode:"unknown"}).on(I,(function(e,t){return Object.assign({},e,t)})),M=window.requestIdleCallback||function(e){return window.setTimeout(e,1)},x=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),P=window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: browser)").matches?"browser":"unknown",L=n(33464),D=n(66824),j=[(0,u.J)({provide:b.Ym,multi:!0,useValue:[D.c,N]}),(0,u.J)({provide:y.sQ,useValue:[{key:"TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",optional:!0}]})],B=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,j),[(0,u.J)({provide:c.Bi.clear,multi:!0,useFactory:function(e){var t=e.context,n=e.cookieManager;return function(){var e=function(){var e={width:window.innerWidth,height:window.innerHeight,isTouch:x,displayMode:P,retina:window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches};return n.set({name:"mediaInfo",value:JSON.stringify(e)}),M((function(){return t.dispatch(I(Object.assign({},e,{supposed:!1})))}))},r=C()(300,e);return window.addEventListener("orientationchange",r),window.addEventListener("resize",r),e()}},deps:{context:A.l,cookieManager:k.T}}),(0,u.J)({provide:L.N,useFactory:function(e){return e.store.getState(D.c)},deps:{store:b.kR}})]),U=(0,T.J)({name:"ClientHintsModule",providers:B}),F=function(){function e(e){void 0===e&&(e={}),this.defaults=e}var t=e.prototype;return t.get=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n];if(!r)break;var i=r.indexOf("=");i=i<0?r.length:i;var o=r.slice(0,i).replace(/^\s+/,""),a=r.slice(i+1),s=void 0;try{s=decodeURIComponent(o)}catch(e){console.warn("Decode cookie name error",e)}if(s===e||o===e)try{return decodeURIComponent(a)}catch(e){return console.warn("Decode cookie value error",e),a}}},t.set=function(e,t,n){if(e){var r=function(e,t){var n,r,i,o,a;return void 0===e&&(e={}),void 0===t&&(t={}),{expires:e.expires||t.expires,domain:e.domain||t.domain,path:null!==(r=null!==(n=e.path)&&void 0!==n?n:t.path)&&void 0!==r?r:"/",secure:null!==(i=e.secure)&&void 0!==i?i:t.secure,httpOnly:null!==(o=e.httpOnly)&&void 0!==o?o:t.httpOnly,sameSite:null!==(a=e.sameSite)&&void 0!==a?a:t.sameSite}}(n,this.defaults),i=r.domain,o=r.path,a=r.expires,s=r.secure,u=r.httpOnly,c=r.sameSite,l=function(e){return e?new Date("number"==typeof e?(new Date).getTime()+864e5*e:e):null}(a),d=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29"),f=("string"==typeof t?t:"").replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent),p=l&&l.getTime()>=0?";expires="+l.toUTCString():"",v=i?";domain="+i:"",h=o?";path="+o:"",g=s?";secure":"",m=u?";httponly":"",y=c?";samesite="+c:"";document.cookie=d+"="+f+p+v+h+g+m+y}},t.erase=function(e,t){void 0===t&&(t={}),this.set(e,"",{expires:-1,domain:t.domain,path:t.path,secure:!1,httpOnly:!1})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop();if(!n)break;var r=n.indexOf("=");r=r<0?n.length:r;var i=n.slice(0,r).replace(/^\s+/,""),o=n.slice(r+1),a=void 0,s=void 0;try{a=decodeURIComponent(i)}catch(e){console.warn("Decode cookie name error",e)}try{s=decodeURIComponent(o)}catch(e){console.warn("Decode cookie value error",e)}e[null!=a?a:i]=null!=s?s:o}return e},e}(),V=["sameSite","noSubdomains"],W=/^(?:::(?:ffff:(0:)?)?)?(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,q=/^([0-9a-fA-F]{1,4}:){1,4}:(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,H=function(e){if(e)return new Date("number"==typeof e?+new Date+1e3*e:e)},G=["name","value"],Z=function(){function e(){this.cache=Object.create(null)}var t=e.prototype;return t.get=function(e){return this.cache[e]||void 0},t.set=function(e,t){this.cache[e]=t},t.erase=function(e){delete this.cache[e]},t.all=function(){return this.cache},e}(),K=function(){function e(e){var t=e.cookieOptions,n=void 0===t?{}:t,r=e.userAgent,i="https:"===window.location.protocol,o=Object.assign({sameSite:r.sameSiteNoneCompatible&&i?"none":"lax",secure:i},n);this.cookies=function(e){void 0===e&&(e=!1);var t="testcookiesenabled=",n=e?t+"; SameSite=None; Secure":t;return document.cookie=n,document.cookie.indexOf(t)>-1&&(document.cookie=n+"; expires=Thu, 01 Jan 1970 00:00:01 GMT",!0)}("none"===o.sameSite)?new F(o):new Z,this.userAgent=r}var t=e.prototype;return t.get=function(e){return this.cookies.get(e)||void 0},t.set=function(e){var t=e.name,n=e.value,r=(0,d.Z)(e,G);this.cookies.set(t,n,function(e,t){var n,r=e.userAgent.sameSiteNoneCompatible,i=e.defaultHost,o=e.secureProtocol,a=t.sameSite,s=t.noSubdomains,u=(0,d.Z)(t,V);return Object.assign({},u,"none"!==a||r&&o?{sameSite:a}:{},o&&"none"===a&&r?{secure:!0}:{},{expires:H(u.expires),domain:s?(n=u.domain||i,function(e){return W.test(e)||q.test(e)}(n)?n:function(e){return e.replace(/:\d+$/,"")}(n.indexOf("localhost")>=0?n:"."+n.split(".").slice(-2).join("."))):u.domain})}({userAgent:this.userAgent,defaultHost:window.location.hostname,secureProtocol:"https:"===window.location.protocol},r))},t.all=function(){return this.cookies.all()},t.remove=function(e,t){return this.cookies.erase(e,t)},e}(),J=function(){};J=(0,f.__decorate)([(0,h.Y)({imports:[U],providers:[(0,u.J)({provide:k.T,useClass:K,scope:l.s.SINGLETON,deps:{cookieOptions:{token:"temporary cookieOptions",optional:!0},userAgent:L.N}})]})],J);var z=n(48945),Y=n(59999),Q=n(82342);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=(0,z.createLoggerFactory)({name:"",key:"tramvai",reporters:[new z.BrowserReporter]}),ee=function(){};ee=(0,f.__decorate)([(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return X(t,r)}return e(t,n)}(i.Z,[]),[(0,u.J)({provide:Q.Fp,useFactory:function(e){var t=e.loggerInitHooks;if(t)for(var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t,!0);!(n=r()).done;)(0,n.value)($);return $},deps:{loggerInitHooks:{token:Q.J0,multi:!0,optional:!0}}}),(0,u.J)({provide:Q.yV,scope:l.s.SINGLETON,useValue:new Map}),(0,u.J)({provide:Q.J0,multi:!0,useFactory:function(e){var t=e.remoteReporter;return function(e){t&&e.addReporter(t)}},deps:{remoteReporter:(0,Y.jt)(Q.DV)}})])})],ee);var te=n(7605),ne=n.n(te),re=function(){function e(){this.hooks=Object.create(null)}var t=e.prototype;return t.registerHooks=function(e,t){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e]=ne()(this.hooks[e].concat(t))},t.runHooks=function(e,t,n,r){var i=this.hooks[e];if(!i)return n;for(var o=n,a=0;a<i.length;a++)o=i[a](t,o,r);return o},t.runAsyncHooks=function(e,t,n,r){var i=this.hooks[e];if(!i)return n;for(var o=function(){var e=i[a];setTimeout((function(){e(t,n,r)}))},a=0;a<i.length;a++)o();return n},t.runPromiseHooks=function(e,t,n){var r=this.hooks[e];return function(e){if(!r)return Promise.resolve(e);var i=0;return Promise.resolve(e).then((function e(o){var a=r[i++];return a?Promise.resolve(a(t,o,n)).then(e):o}))}},e}(),ie=n(45838),oe=n(56003),ae=n(83005),se=n(17173),ue=n(10112),ce=n(79436),le=n.n(ce),de=n(71341),fe=n(96589),pe=n(52723),ve=n(37093),he=n.n(ve),ge=/\*/,me=/<history-fallback>/,ye=/:.+$/,be=/([^(?]+)(?:\((.+)\))?(\?)?/,_e=n(62234),Ee=n(97459),we=n(71021),Se=n(82366);function Te(e){return(0,_e.Z)(e)||(0,Ee.Z)(e)||(0,we.Z)(e)||(0,Se.Z)()}function Ae(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var ke=function(e,t){void 0===t&&(t=!1);var n=e.endsWith("/");return t?n||function(e){return/\/.+\.[^/]+$/.test(e)}(e)?e:e+"/":e.length>1&&n?e.slice(0,-1):e},Oe=function(e){return!e.host||e.host===window.location.host},Ce=function(e){return"string"==typeof e?{url:e}:e},Re=function(e,t){return e.add(t),function(){e.delete(t)}};function Ie(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Ne=function(e){return e.split("/").slice(e.startsWith("/")?1:0,e.endsWith("/")?-1:1/0)},Me=function(e){return me.test(e)},xe=function(e){return ge.test(e)},Pe=function(e){return!!e.match(ye)},Le=function(e,t){var n=Ne(e),r=he()((function(n){var r;if(Me(n)||xe(n))throw new Error("Pathname should be only a string with dynamic parameters, not a special string, got "+e);if(Pe(n)){var i=n.split(":"),o=Ie(pe.Z,i,3),a=o[0],s=void 0===a?"":a,u=o[1],c=void 0===u?"":u,l=o[2],d=void 0===l?"":l,f=be.exec(c);if(!f)throw new Error('parameters should satisfy pattern "prefix:paramName(regexp)\\?:postfix"');var p=Ie(pe.Z,f,4),v=p[1],h=p[2],g=p[3],m=null===(r=t[v])||void 0===r?void 0:r.toString();if(g&&!m)return"";if(!m)throw new Error("value for parameter for "+v+" should be defined in params");if(h&&!new RegExp(h).test(m))throw new Error("passed parameter for "+v+" should satisfy regxep: "+h+", got: "+m);return s+m+d||n}return n}),n).join("/");return ke("/"+r,e.endsWith("/"))},De={routes:{},pages:{"@/pages/AuthPage":(0,fe.Vo)({chunkName:function(){return"@_pages_AuthPage"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_AuthPage").then(n.bind(n,70277))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 70277}}),"@/pages/MFPage":(0,fe.Vo)({chunkName:function(){return"@_pages_MFPage"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,47037))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 47037}}),"@/pages/NotFound":(0,fe.Vo)({chunkName:function(){return"@_pages_NotFound"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,24015))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 24015}}),"@/pages/auth/ErrorMessages/message":(0,fe.Vo)({chunkName:function(){return"@_pages_auth_ErrorMessages_message"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_auth_ErrorMessages_message").then(n.bind(n,65739))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 65739}}),"@/pages/auth/authPage":(0,fe.Vo)({chunkName:function(){return"@_pages_auth_authPage"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_auth_authPage").then(n.bind(n,68212))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 68212}}),"@/pages/webviewDebug/WebviewDebug":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewDebug_WebviewDebug"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,18175))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 18175}}),"@/pages/webviewDebug/components/SimpleButton":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewDebug_components_SimpleButton"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_webviewDebug_components_SimpleButton").then(n.bind(n,53903))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 53903}}),"@/pages/webviewDebug/components/WebviewDebugComponent":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewDebug_components_WebviewDebugComponent"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("components-WebviewDebugComponent").then(n.bind(n,25960))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 25960}}),"@/pages/webviewDebug/components/WebviewLink":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewDebug_components_WebviewLink"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_webviewDebug_components_WebviewLink").then(n.bind(n,67150))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 67150}}),"@/pages/webviewPreload/WebviewPreload":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewPreload_WebviewPreload"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,21476))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 21476}}),"@/pages/webviewRedirect/WebviewRedirect":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewRedirect_WebviewRedirect"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,69297))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 69297}}),"@/pages/webviewRedirect/config":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewRedirect_config"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,76765))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 76765}}),"@/pages/webviewRedirect/utils/isTrustedUrl":(0,fe.Vo)({chunkName:function(){return"@_pages_webviewRedirect_utils_isTrustedUrl"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,83173))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 83173}})},layouts:{},errorBoundaries:{},wildcards:{}};var je=function(){return De.routes},Be=function(){return De.layouts},Ue=function(){return De.errorBoundaries},Fe=function(){return De.wildcards},Ve=function(e){return!!e&&0===e.indexOf("@/")},We=function(e){return"/"+e.replace("@/false/","").replace(/\[(.+?)\]/g,":$1").replace(/index$/g,"")},qe=function(e){return e+"__layout"},He=function(e){return e+"__errorBoundary"},Ge=function(e){var t=e,n=We(e),r=Be(),i=Ue(),o={name:t,path:n,config:{pageComponent:e}};return e in r&&(o.config.nestedLayoutComponent=qe(e)),e in i&&(o.config.errorBoundaryComponent=He(e)),o},Ze="__default",Ke=function(){function e(e){var t=e.bundleList,n=e.componentRegistry,r=e.logger;this.bundles=t,this.componentRegistry=n;var i=r("file-system-pages:bundle-manager"),o=Object.assign({},De.routes,De.pages),a=Be(),s=Ue(),u=Fe(),c=function(e,t){return Object.keys(e).reduce((function(n,r){return n[t(r)]=e[r],n}),{})},l=(0,de.Z)({name:Ze,components:Object.assign({},c(a,qe),c(s,He),c(u,le()),o)});for(var d in this.bundles[Ze]=function(){return Promise.resolve({default:l})},l.components)this.componentRegistry.add(d,l.components[d],Ze);i.debug({event:"create default bundle with file-system pages",components:Object.keys(o)})}var t=e.prototype;return t.get=function(e,t){return Ve(t)&&(e=Ze),this.loadBundle(e,t).then((function(e){return e.default}))},t.has=function(e,t){return Ve(t)&&(e=Ze),!!this.bundles[e]},t.loadBundle=function(e,t){var n=this;return this.has(e,t)?this.bundles[e]().catch((function(t){return(0,fe.gm)(t,n.bundles[e])})):Promise.reject(new Error('Bundle "'+e+'" not found'))},e}(),Je=n(33057),ze=n.n(Je),Ye=n(30353),Qe=n.n(Ye);var Xe="__default",$e=function(){function e(e){var t,n=(void 0===e?{}:e).componentList;this.components=((t={})[Xe]=Object.assign.apply(Object,[{}].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,Qe()(null!=n?n:[])))),t)}var t=e.prototype;return t.add=function(e,t,n){void 0===n&&(n=Xe);var r=this.components[n]||{};r[e]=t,this.components[n]=r},t.get=function(e,t){return void 0===t&&(t=Xe),(this.components[t]||{})[e]||this.components[Xe][e]},t.getComponentParam=function(e,t,n,r){return ze()([e],t,this.get(n,r))},e}(),et=(0,Y.V3)("fastify request"),tt=(0,Y.V3)("fastify response"),nt=(0,Y.V3)("tramvai server response stream"),rt=(0,Y.V3)("tramvai server response task manager"),it=(l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,(0,R.y)("setRequest")),ot=(0,E.L)("requestManager",{}).on(it,(function(e,t){return t})),at=n(82912),st=n(78047),ut=function(){function e(e){var t=e.request;this.request=t||{},this.url=window.location.href}var t=e.prototype;return t.getBody=function(){return this.request.body},t.getUrl=function(){return this.url},t.getParsedUrl=function(){return this.parsedUrl||(this.parsedUrl=(0,st.Qc)(this.url)),this.parsedUrl},t.getMethod=function(){return this.request.method},t.getHeader=function(e){var t;return null===(t=this.request.headers)||void 0===t?void 0:t[e]},t.getHeaders=function(){return this.request.headers},t.getCookie=function(e){return this.request.cookies[e]},t.getCookies=function(){return this.request.cookies},t.getClientIp=function(){var e,t;return this.getHeader("x-real-ip")||(null===(t=null===(e=this.request)||void 0===e?void 0:e.socket)||void 0===t?void 0:t.remoteAddress)||""},t.getHost=function(){return window.location.host},e}(),ct=[(0,u.J)({provide:at.G,scope:l.s.REQUEST,useClass:ut,deps:{request:et}}),(0,u.J)({provide:b.Ym,multi:!0,useValue:ot})],lt=function(){};lt=(0,f.__decorate)([(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,ct),[(0,u.J)({provide:et,useFactory:function(e){var t=e.store.getState(ot);return Object.assign({},t,{headers:Object.assign({},null==t?void 0:t.headers,{"user-agent":navigator.userAgent,cookie:document.cookie})})},deps:{store:b.kR}})])})],lt);var dt=n(80858),ft=n(92877),pt=n.n(ft),vt=n(53170),ht=n.n(vt),gt=function(){function e(){this.body="",this.headers={},this.cookies={},this.status=200}var t=e.prototype;return t.getBody=function(){return this.body},t.setBody=function(e){this.body=e},t.getHeader=function(e){return"set-cookie"===e?ht()(this.cookies):this.headers[e]},t.getHeaders=function(){return pt()(this.cookies)?this.headers:Object.assign({},this.headers,{"Set-Cookie":ht()(this.cookies)})},t.setHeader=function(e,t){this.headers[e]=t},t.getCookie=function(e){return this.cookies[e]},t.getCookies=function(){return this.cookies},t.setCookie=function(e,t){this.cookies[e]=t},t.setStatus=function(e){this.status=e},t.getStatus=function(){return this.status},e}(),mt=[(0,u.J)({provide:dt.r,scope:l.s.REQUEST,useClass:gt})],yt=function(){};yt=(0,f.__decorate)([(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,mt),[(0,u.J)({provide:tt,useValue:{}})])})],yt);var bt=n(65641),_t=n(35207),Et=n(63119),wt=n.n(Et),St=function(e,t){e.on("change",t),t()},Tt=n(24069);var At=function(e,t){return"string"==typeof e?{payload:t,type:e,error:!1}:e},kt=function(e){function t(t,n,r,i){var o;return(o=e.call(this)||this).applyDispatch=function(e){var t=o.dispatcher.handlers[e.type]||[];if(!t.length){if(!e.store)return e.payload;o.registerStore(e.store),t=o.dispatcher.handlers[e.type]||[]}return o.applyHandlers(e,t),e.payload},o.dispatcher=t,o.storeInstances={},o.storeUnsubscribeCallbacks={},o.context=n,o.dispatcherInterface={getContext:function(){return o.context},getStore:o.getStore.bind((0,bt.Z)(o))},o.rehydratedStoreState={},o.fullState={},r&&o.rehydrate(r),(null==i?void 0:i.length)&&(o.applyDispatch=o.applyMiddlewares(i)),Object.keys(o.dispatcher.stores).forEach((function(e){o.getStore(e)})),o}(0,_t.Z)(t,e);var n=t.prototype;return n.applyMiddlewares=function(e){var t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},n={getState:this.getState.bind(this),subscribe:this.subscribe.bind(this),dispatch:function(){return t.apply(void 0,arguments)}};return t=wt().apply(void 0,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,e.map((function(e){return e(n)}))))(this.applyDispatch),t},n.storeSubscribe=function(e,t){var n=this;if(!this.storeUnsubscribeCallbacks[e]){var r=function(){var r,i=t.getState();i!==n.fullState[e]&&(n.fullState=Object.assign({},n.fullState,((r={})[e]=i,r)),n.emit("change"))};St(t,r),this.storeUnsubscribeCallbacks[e]=function(){t.off("change",r)}}},n.getStore=function(e){var t,n=this,r=!1;"object"==typeof e?(t=e.store,r=e.optional):t=e;var i=this.dispatcher.getStoreName(t);if(!this.storeInstances[i]){var o=this.dispatcher.stores[i];if(!o){if("function"!=typeof t){if(r)return null;throw new Error("Store "+i+" was not registered.")}this.dispatcher.registerStore(t),o=t}var a=new o(this.dispatcherInterface);if(this.storeInstances[i]=a,this.rehydratedStoreState&&this.rehydratedStoreState[i]){var s=this.rehydratedStoreState[i];a.rehydrate&&a.rehydrate(s),this.rehydratedStoreState[i]=null}this.storeSubscribe(i,a),o.dependencies&&o.dependencies.forEach((function(e){var t=n.getStore(e);St(t,(function(){a.emit("change")}))}))}return this.storeInstances[i]},n.dispatch=function(e,t){if(!e)throw new Error("eventOrType parameter "+e+" is invalid.");var n=At(e,t);return this.applyDispatch(n)},n.applyHandlers=function(e,t){for(var n=this,r={},i=function(e){if(!r[e.name]){var t=n.getStore(e.name);t&&("function"==typeof e.handler?r[e.name]=e.handler.bind(t):r[e.name]=t[e.handler].bind(t))}},o=t.length,a=0;a<o;a++)i(t[a]);return function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];if(!o)throw new Error(i+" does not have a handler for action "+e.type);o(e.payload,e.type)}}(e,r)},n.dehydrate=function(){for(var e={},t=Object.keys(this.storeInstances),n=0;n<t.length;n++){var r=t[n],i=this.storeInstances[r].dehydrate();void 0!==i&&(e[r]=i)}return{stores:e}},n.rehydrate=function(e){if(e.stores)for(var t=Object.keys(e.stores),n=0;n<t.length;n++){var r=t[n];this.rehydratedStoreState[r]=e.stores[r]}},n.subscribe=function(){var e=this;if("storeName"in(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=this.getStore(t),i=function(){var r=e.getState(t);n(r)};return r.on("change",i),function(){r.off("change",i)}}var o=arguments.length<=0?void 0:arguments[0],a=function(){var t=e.getState();o(t)};return this.on("change",a),function(){e.off("change",a)}},n.getState=function(e){return e?this.fullState[e.storeName]:this.fullState},n.setContext=function(e){this.context=e},n.hasStore=function(e){return e.storeName in this.storeInstances&&this.dispatcher.hasStore(e)},n.registerStore=function(e){this.dispatcher.registerStore(e),this.getStore(e)},n.unregisterStore=function(e){var t=e.storeName;this.dispatcher.unregisterStore(e),this.storeUnsubscribeCallbacks[t](),delete this.storeUnsubscribeCallbacks[t],delete this.rehydratedStoreState[t],delete this.storeInstances[t]},t}(Tt.Z),Ot=n(71533),Ct=function(e){var t=this,n=e.di,r=e.dispatcherContext,i=e.pubsub,o=e.store;this.executeAction=function(e,n){return t.di.get(Ot.R$).run(e,n)},this.dispatch=function(e,n){return new Promise((function(r,i){try{r(t.store.dispatch(At(e,n)))}catch(e){i(e)}}))},this.dispatchWith=function(e,n){return"function"==typeof e?function(){return t.dispatch(e.apply(void 0,arguments),n)}:function(n){return t.dispatch(e,n)}},this.getStore=function(e){return t.dispatcher.getStore(e)},this.dehydrate=function(){return{dispatcher:t.dispatcher.dehydrate()}},this.getState=function(){return t.store.getState(arguments.length<=0?void 0:arguments[0])},this.subscribe=function(){return t.store.subscribe(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])},this.hasStore=function(e){return t.dispatcher.hasStore(e)},this.registerStore=function(e){return t.dispatcher.registerStore(e)},this.unregisterStore=function(e){return t.dispatcher.unregisterStore(e)},this.store=o,this.dispatcher=r,this.dispatcher.setContext(this),this.di=n,this.pubsub=i},Rt=(0,Y.V3)("commandLineRunner timingInfo"),It=(0,Y.V3)("commandLineRunner executionEnd",{multi:!0}),Nt=n(26566);(function(e){function t(n){var r;return(r=e.call(this,n)||this).isSilent=!0,r.name=t.errorName,r}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error))).errorName="SilentError";var Mt=function(e){return!!e.isSilent},xt=n(40186);function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lt=function(){function e(e){var t=e.lines,n=e.rootDi,r=e.logger,i=e.executionContextManager,o=e.executionEndHandlers;this.executionContextByDi=new WeakMap,this.abortControllerByDi=new WeakMap,this.lines=t,this.rootDi=n,this.log=r("command:command-line-runner"),this.executionContextManager=i,this.executionEndHandlers=o}var t=e.prototype;return t.run=function(e,t,n,i,o){var s=this,u=null!=i?i:this.resolveDi(e,t,this.rootDi,n),c=u.get({token:ue.mj,optional:!0});this.log.debug({event:"command-run",type:e,status:t});var l={};return u.register({provide:Rt,useValue:l}),this.lines[e][t].reduce((function(e,t){return e.then((function(){var e=t.toString();return l[e]={start:performance.now()},Promise.resolve().then((function(){return s.executionContextManager.withContext(c,"command-line:"+e,function(){var e=(0,r.Z)(a().mark((function e(n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.executionContextByDi.set(u,n),s.abortControllerByDi.set(u,r),e.next=4,s.createLineChain(u,t);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).finally((function(){l[e].end=performance.now()}))}))}),Promise.resolve()).finally((function(){if(s.executionContextByDi.delete(u),s.abortControllerByDi.delete(u),s.executionEndHandlers)for(var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(s.executionEndHandlers,!0);!(n=r()).done;)(0,n.value)(u,e,t,l,o)})).then((function(){return u}))},t.resolveDi=function(e,t,n,r){var i=n;return"customer"===t&&"client"!==e&&(i=(0,xt.H)(i)),r&&r.forEach((function(e){return i.register(e)})),i},t.resolveExecutionContextFromDi=function(e){var t;return null!==(t=this.executionContextByDi.get(e))&&void 0!==t?t:null},t.createLineChain=function(e,t){var n,r=this;try{if(null===(n=e.get({token:t,optional:!0})))return Promise.resolve()}catch(t){return this.log.error(t),this.throwError(t,e)}return Array.isArray(n)?Promise.all(n.map((function(n){return r.instanceExecute(n,t,e)}))):this.instanceExecute(n,t,e)},t.instanceExecute=function(e,t,n){var r=this;if(e instanceof Function){var i=e.name,o=void 0===i?"":i;return this.log.debug({event:"line-run",line:t.toString(),command:o}),Promise.resolve().then((function(){return e()})).catch((function(e){var i;r.log[Mt(e)?"debug":"error"]({event:"line-error",error:e,line:t.toString(),command:o}),null===(i=r.abortControllerByDi.get(n))||void 0===i||i.abort(),r.throwError(e,n)}))}var a=new TypeError('Expected function in line processing "commandLineListTokens.'+t.toString()+'", received "'+e+'".\n      Check that all commandLineListTokens subscribers return functions');this.log.error({event:"line-error",error:a,line:t.toString()})},t.throwError=function(e,t){throw"object"==typeof e&&(e.di=t),e},e}(),Dt={init:[c.Bi.init,c.Bi.listen],close:[c.Bi.close],customer:[c.Bi.customerStart,c.Bi.resolveUserDeps,c.Bi.resolvePageDeps,c.Bi.generatePage,c.Bi.clear],spa:[c.Bi.resolveUserDeps,c.Bi.resolvePageDeps,c.Bi.spaTransition],afterSpa:[c.Bi.afterSpaTransition]},jt={server:Dt,client:Dt},Bt=function(){};Bt=(0,f.__decorate)([(0,h.Y)({providers:[(0,u.J)({provide:c.S9,scope:l.s.SINGLETON,useClass:Lt,deps:{lines:c.PR,rootDi:m.Z,logger:Q.Fp,executionContextManager:ue.vV,executionEndHandlers:{token:It,optional:!0}}}),(0,u.J)({provide:ue.p7,useFactory:function(e){var t=e.di,n=e.commandLineRunner;return function(){return n.resolveExecutionContextFromDi(t)}},deps:{di:m.Z,commandLineRunner:c.S9}}),(0,u.J)({provide:c.PR,scope:l.s.SINGLETON,useValue:jt})]})],Bt);var Ut=n(64805),Ft=n.n(Ut),Vt={logger:{debug:Ft(),info:Ft(),error:Ft()},resultTransform:function(e){return 1===e.length?e[0]:e}},Wt=function(){function e(e){this.subscribers=new Map;var t=Object.assign({},Vt,e);this.logger=t.logger,this.resultTransform=t.resultTransform}var t=e.prototype;return t.subscribe=function(e,t){this.logger.debug("subscribe",e,t);var n=this.subscribers.get(e);return n?n.add(t):(n=new Set([t]),this.subscribers.set(e,n)),function(){return n.delete(t)}},t.publish=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.logger.debug("publish",e,n);var i=this.subscribers.get(e);if(i&&i.size){var o=[];return i.forEach((function(e){return o.push(Promise.resolve(e.apply(void 0,n)))})),Promise.all(o).then(this.resultTransform)}return Promise.resolve()},e}(),qt=function(){};qt=(0,f.__decorate)([(0,h.Y)({providers:[(0,u.J)({provide:se.eP,scope:l.s.SINGLETON,useFactory:function(e){return function(){return new Wt({logger:e.logger("pubsub")})}},deps:{logger:Q.Fp}}),(0,u.J)({provide:se.k3,scope:l.s.REQUEST,useFactory:function(e){return(0,e.createPubsub)()},deps:{createPubsub:se.eP}}),(0,u.J)({provide:se.Tm,scope:l.s.SINGLETON,useFactory:function(e){return(0,e.createPubsub)()},deps:{createPubsub:se.eP}})]})],qt);var Ht=function(){};Ht=(0,f.__decorate)([(0,h.Y)({providers:[]})],Ht);var Gt=[(0,u.J)({provide:b.E6,scope:l.s.REQUEST,useFactory:function(){var e,t;try{if(!(t=null===(e=document.getElementById("__TRAMVAI_STATE__"))||void 0===e?void 0:e.textContent))throw Error("__TRAMVAI_STATE__ element is empty or missing");return JSON.parse(t)}catch(e){throw e instanceof Error&&(e.event="initial-state-parse-error",e.initialState=t,e.readyState=document.readyState,e.bodyComplete=!!window.__TRAMVAI_HTML_READY__),e}}}),(0,u.J)({provide:c.Bi.listen,useFactory:function(e){var t=e.commandLineRunner;return function(){return t.run("client","customer")}},deps:{commandLineRunner:c.S9},multi:!0})],Zt=n(56873),Kt=(0,R.y)("action state execution in server"),Jt=(0,E.L)("actionTramvai",{serverState:{}}).on(Kt,(function(e,t){return Object.assign({},e,{serverState:t})})),zt=n(92366),Yt=n.n(zt),Qt=n(59576),Xt=n(20745),$t=n(57801),en=n.n($t),tn=["message","conditionName","targetName"],nn=function(e){function t(n){var r,i=n.message,o=void 0===i?"Condition failed":i,a=n.conditionName,s=n.targetName,u=(0,d.Z)(n,tn);return(r=e.call(this,o)||this).name=t.errorName,r.conditionName=a,r.targetName=s,r.isSilent=!0,Object.assign((0,bt.Z)(r),u),r}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error));nn.errorName="ConditionFailError";var rn="global",on={},an=function(){function e(e,t,n,r,i){var o;this.globalConditionals=e,this.payload=t,this.parameters=n,this.executionState=r,this.type=i,this.status=!0,this.forbiddenMarker=!1,this.key=null,i===rn&&(this.status="success"!==r.status),this.conditions=null!==(o=n.conditions)&&void 0!==o?o:on}var t=e.prototype;return t.check=function(){var e=this;return this.globalConditionals.forEach((function(t){e.key=t.key,t.fn(e)})),this.getStatus()},t.setState=function(e){this.executionState.state[this.key]=e},t.getState=function(){return this.executionState.state[this.key]},t.forbid=function(){this.executionState.status="forbidden",this.executionState.forbiddenBy=this.key,this.forbiddenMarker=!0},t.allow=function(){this.status=!0},t.getStatus=function(){return!this.forbiddenMarker&&this.status},e}(),sn=function(){var e=this;this.isResolved=function(){return void 0!==e.resolveData},this.isRejected=function(){return void 0!==e.rejectReason},this.reset=function(){e.resolveData=void 0,e.rejectReason=void 0,e.promise=e.initPromise()},this.initPromise=function(){return new Promise((function(t,n){e.resolve=function(n){e.resolveData=n,t(n)},e.reject=function(t){e.rejectReason=t,n(t)}}))},this.promise=this.initPromise()},un={},cn=function(){function e(e){var t=this,n=e.store,r=e.context,i=e.deferredActionsMap,o=e.di,a=e.executionContextManager,s=e.actionConditionals,u=e.transformAction;this.actionConditionals=Qe()(null!=s?s:[]),this.context=r,this.store=n,this.deferredActionsMap=i,this.di=o,this.executionContextManager=a,this.execution=new Map,this.transformAction=u||le();var c=n.getState(Jt);c&&c.serverState&&en()((function(e,n){t.execution.set(n,e)}),c.serverState)}var t=e.prototype;return t.runInContext=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s,u,c,l,d,f,p,v=this,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=h.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=h[o];if(u=i[0],c=!0===(null==t?void 0:t.values.pageActions)?rn:"local",l=this.getActionParameters(n)){e.next=6;break}throw new Error("Cannot resolve internal data for action. Make sure you are using the result of `declareAction` call as an action");case 6:if(d=this.getExecutionState(l.name),this.canExecuteAction(u,l,d,c)){e.next=13;break}e.t0=l.conditionsFailResult,e.next="reject"===e.t0?11:12;break;case 11:return e.abrupt("return",Promise.reject(new nn({conditionName:null!==(s=d.forbiddenBy)&&void 0!==s?s:"unknown",targetName:l.name})));case 12:return e.abrupt("return",Promise.resolve());case 13:return(f=l.deferred)&&!this.deferredActionsMap.get(n.name)&&((p=new sn).promise.catch((function(){})),this.deferredActionsMap.set(n.name,p)),d.status="pending",e.abrupt("return",this.executionContextManager.withContext(t,{name:l.name,values:!0===(null==t?void 0:t.values.pageActions)?{pageActions:!1}:void 0},(function(e,r){var o=v.createActionContext(t,e,r,l);return Promise.resolve().then((function(){if((0,Xt.J)(n)){var e=n.fn.apply(o,i),t=v.deferredActionsMap.get(n.name);return f?(t.isResolved()||t.isRejected()||!Yt()(e)||e.then(t.resolve).catch(t.reject),Promise.resolve()):e}return n(v.context,u,o.deps)})).then((function(e){return d.status="success",e})).catch((function(e){throw d.status="failed",e}))})));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.run=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=o.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=o[i];return e.abrupt("return",this.runInContext.apply(this,[null,t].concat(r)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.canExecute=function(e){var t=this.getActionParameters(e),n=this.getExecutionState(t.name);return this.canExecuteAction(void 0,t,n,rn)},t.getActionParameters=function(e){var t;return(0,Xt.J)(e)?t=e:(this.transformAction(e),t=function(e){return e[Qt.d]}(e)),t},t.getExecutionState=function(e){var t=this.execution.get(e);return t||(t={status:"pending",state:{}},this.execution.set(e,t)),t},t.canExecuteAction=function(e,t,n,r){return new an(this.actionConditionals,e,t,n,r).check()},t.createActionContext=function(e,t,n,r){return{abortController:n,abortSignal:null==t?void 0:t.abortSignal,executeAction:this.runInContext.bind(this,t),deps:r.deps?this.di.getOfDeps(r.deps):un,actionType:(null==e?void 0:e.values.pageActions)?"page":"standalone",dispatch:this.store.dispatch,getState:this.store.getState}},e}(),ln=n(24034),dn=n.n(ln),fn=n(5103),pn=n.n(fn);function vn(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var hn="@@global",gn=function(){function e(e){var t=e.actionsList;this.actions=new Map([[hn,Qe()(t)]])}var t=e.prototype;return t.add=function(e,t){var n=pn()(t);this.actions.set(e,ne()(this.actions.has(e)?[].concat(vn(i.Z,this.actions.get(e)),vn(i.Z,n)):n))},t.get=function(e,t){return ne()([].concat(vn(i.Z,this.actions.get(e)||[]),vn(i.Z,t||[])))},t.getGlobal=function(){return this.actions.get(hn)},t.remove=function(e,t){if(t){var n=pn()(t);this.actions.has(e)&&this.actions.set(e,dn()(this.actions.get(e),n))}else this.actions.delete(e)},e}(),mn={},yn=function(){function e(e){this.deps=e,this.log=e.logger("action:action-page-runner")}return e.prototype.runActions=function(e,t){var n=this;return void 0===t&&(t=function(){return!1}),this.deps.executionContextManager.withContext(this.deps.commandLineExecutionContext(),{name:"pageActions",values:{pageActions:!0}},function(){var i=(0,r.Z)(a().mark((function r(i,o){var s,u;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=n.deps.router.registerHook("beforeNavigate",(function(){return s(),o.abort("Page actions were aborted because of route changing"),Promise.resolve()})),u=function(e){return Promise.resolve().then((function(){return n.deps.actionExecution.runInContext(i,e,mn)})).catch((function(r){var i;if(!Mt(r)){var o=(0,Xt.J)(e)?e:e[Qt.d];n.log.error({error:r,event:"action-execution-error",message:'An error occurred during "'+(null!==(i=null==o?void 0:o.name)&&void 0!==i?i:"unknown")+'" action execution'})}if(t(r))throw r}))},r.next=4,Promise.all(e.map(u)).finally((function(){s()}));case 4:case"end":return r.stop()}}),r)})));return function(e,t){return i.apply(this,arguments)}}())},e}(),bn={key:"pageServer",fn:function(e){e.conditions.pageServer&&e.type===rn&&e.forbid()}},_n=[(0,u.J)({provide:Ot.m1,useFactory:function(){return window.__TRAMVAI_DEFERRED_ACTIONS||(window.__TRAMVAI_DEFERRED_ACTIONS={}),{get:function(e){return window.__TRAMVAI_DEFERRED_ACTIONS[e]},set:function(e,t){window.__TRAMVAI_DEFERRED_ACTIONS[e]=t},has:function(e){return e in window.__TRAMVAI_DEFERRED_ACTIONS},forEach:function(e){Object.keys(window.__TRAMVAI_DEFERRED_ACTIONS).forEach((function(t){e(window.__TRAMVAI_DEFERRED_ACTIONS[t],t)}))}}}})],En=function(){};En=(0,f.__decorate)([(0,h.Y)({providers:[(0,u.J)({provide:b.Ym,multi:!0,useValue:Jt}),(0,u.J)({provide:Ot.R9,scope:l.s.SINGLETON,useClass:gn,deps:{actionsList:g.I7}}),(0,u.J)({provide:Ot.R$,scope:l.s.REQUEST,useClass:cn,deps:{actionConditionals:{token:Ot.xW,optional:!0},context:A.l,store:b.kR,di:m.Z,executionContextManager:ue.vV,transformAction:{token:"actionTransformAction",optional:!0},deferredActionsMap:Ot.m1}}),(0,u.J)({provide:Ot.FM,scope:l.s.REQUEST,useClass:yn,deps:{actionExecution:Ot.R$,executionContextManager:ue.vV,commandLineExecutionContext:ue.p7,store:b.kR,limitTime:Ot.D7,logger:Q.Fp,deferredMap:Ot.m1,responseTaskManager:(0,Y.jt)(rt),serverResponseStream:(0,Y.jt)(nt),router:Zt.l1}}),(0,u.J)({provide:Ot.D7,useValue:500}),(0,u.J)({provide:Ot.xW,multi:!0,useValue:[{key:"alwaysCondition",fn:function(e){e.conditions.always&&e.allow()}},{key:"onlyServer",fn:function(e){e.conditions.onlyServer&&e.forbid()}},{key:"onlyBrowser",fn:function(e){e.conditions.onlyBrowser}},bn,{key:"pageBrowser",fn:function(e){e.conditions.pageBrowser&&e.type}},{key:"dynamicCondition",fn:function(e){e.conditions.dynamic&&(e.getState()&&"browser"!==e.getState().environment||e.allow(),e.setState({environment:"browser"}))}}]})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,_n))})],En);var wn=function(){function e(e){var t=this;(e=e||{}).stores=e.stores||[],this.stores={},this.handlers={},e.stores.forEach((function(e){t.registerStore(e)}))}var t=e.prototype;return t.createContext=function(e,t,n){return new kt(this,e,t,n)},t.hasStore=function(e){return!!this.stores[e.storeName]},t.registerStore=function(e){var t=this,n=e.storeName;this.stores[n]&&this.stores[n]===e||(this.stores[n]=e,e.handlers&&Object.keys(e.handlers).forEach((function(r){var i=e.handlers[r];t.registerHandler(r,n,i)})))},t.unregisterStore=function(e){var t=this,n=e.storeName;this.stores[n]&&(delete this.stores[n],e.handlers&&Object.keys(e.handlers).forEach((function(r){var i=e.handlers[r];t.unregisterHandler(r,n,i)})))},t.getStoreName=function(e){return"string"==typeof e?e:e.storeName},t.registerHandler=function(e,t,n){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push({name:t,handler:n})},t.unregisterHandler=function(e,t,n){Array.isArray(this.handlers[e])&&(this.handlers[e]=this.handlers[e].filter((function(e){return!(e.name===t&&e.handler===n)})))},e}();var Sn=function(){};Sn=(0,f.__decorate)([(0,h.Y)({providers:[(0,u.J)({provide:b.qb,scope:l.s.SINGLETON,useFactory:function(e){var t,n=e.stores;return t={stores:n&&Qe()(n)},new wn(t)},deps:{stores:b.Ym}}),(0,u.J)({provide:b.jm,scope:l.s.REQUEST,useFactory:function(e){var t=e.dispatcher,n=e.initialState,r=e.middlewares;return t.createContext({},n,[function(){return function(e){return function(t){return e(t)}}}].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,Qe()(r||[]))))},deps:{dispatcher:b.qb,middlewares:{token:b.PU,optional:!0},initialState:{token:b.E6,optional:!0}}}),(0,u.J)({provide:b.kR,scope:l.s.REQUEST,useFactory:function(e){var t=e.dispatcherContext;return{getState:t.getState.bind(t),dispatch:t.dispatch.bind(t),subscribe:t.subscribe.bind(t)}},deps:{dispatcherContext:b.jm}})]})],Sn);var Tn=n(16011),An=n(65538),kn=n(56868),On=n.n(kn),Cn=(0,Y.V3)("_cachesList"),Rn=(0,Y.V3)("cache names list"),In=function(){};In=(0,f.__decorate)([(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,[]),[{provide:Cn,scope:l.s.SINGLETON,useValue:[]},(0,u.J)({provide:Tn.xC,scope:l.s.SINGLETON,useFactory:function(e){var t=e.caches;return e.cacheNames,e.metrics,function(e,n){void 0===e&&(e="memory");var r=function(e,t){return Object.assign({type:e,max:100},t)}(e,n),i=function(e,t){return void 0===e&&(e="memory"),new(On())(t)}(e,r);return t.push(i),i}},deps:{caches:Cn,cacheNames:{token:Rn,optional:!0},metrics:{token:An.P,optional:!0}}}),(0,u.J)({provide:Tn.oK,scope:l.s.SINGLETON,useFactory:function(e){var t=e.caches,n=e.onCacheClear;return function(e){return t.forEach((function(e){return e.clear()})),n?Promise.all(n.map((function(t){return t(e)}))):Promise.resolve()}},deps:{caches:Cn,onCacheClear:{token:Tn.TZ,optional:!0}}})])})],In);var Nn=["message","contextName"],Mn=function(e){function t(n){var r,i=void 0===n?{}:n,o=i.message,a=void 0===o?"Execution Abort":o,s=i.contextName,u=(0,d.Z)(i,Nn);return(r=e.call(this,a)||this).name=t.errorName,r.contextName=s,Object.assign((0,bt.Z)(r),u),r}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error));Mn.errorName="ExecutionAbortError";var xn=n(13651),Pn={},Ln=function(e){return"string"==typeof e?{name:e}:e},Dn=function(){function e(){}return e.prototype.withContext=function(){var e=(0,r.Z)(a().mark((function e(t,n,r){var i,o,s,u,c,l,d,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ln(n),o=i.name,s=i.values,u=void 0===s?Pn:s,c=t?t.name+"."+o:o,!(null==t?void 0:t.abortSignal.aborted)){e.next=5;break}throw new Mn({message:'Execution aborted in context "'+c+'"',reason:t.abortSignal.reason,contextName:c});case 5:return l=new xn.H,f=u,t&&(f=Object.assign({},t.values,u),d=function(e){l.abort(e.target.reason)},t.abortSignal.addEventListener("abort",d)),p={name:c,abortSignal:l.signal,values:f},e.prev=9,e.next=12,r(p,l);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(9),"object"!=typeof e.t0||e.t0.executionContextName||(e.t0.executionContextName=p.name),e.t0;case 19:return e.prev=19,void 0!==d&&t&&t.abortSignal.removeEventListener("abort",d),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[9,15,19,22]])})));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),jn=["additionalBundleList"],Bn=function(){};Bn=(0,f.__decorate)([(0,h.Y)({imports:[Bt,S,qt,ee,J,En,Sn,lt,yt,In,Ht],providers:[(0,u.J)({provide:ie.v,scope:l.s.SINGLETON,useClass:re}),(0,u.J)({provide:oe.K,scope:l.s.SINGLETON,useClass:$e,deps:{componentList:{token:"componentDefaultList",optional:!0}}}),(0,u.J)({provide:ae.g,scope:l.s.SINGLETON,useFactory:function(e){var t=e.additionalBundleList,n=(0,d.Z)(e,jn);return null==t||t.forEach((function(e){v()((function(e,t){t in n.bundleList||(n.bundleList[t]=function(){return Promise.resolve({default:e})})}),e)})),new Ke(n)},deps:{bundleList:g.om,additionalBundleList:{token:ae.x,optional:!0},componentRegistry:oe.K,logger:Q.Fp}}),(0,u.J)({provide:A.l,scope:l.s.REQUEST,useFactory:function(e){var t=e.di,n=e.dispatcherContext,r=e.pubsub,i=e.store;return new Ct({di:t,dispatcherContext:n,pubsub:r,store:i})},deps:{di:m.Z,pubsub:se.k3,dispatcherContext:b.jm,store:b.kR}}),(0,u.J)({provide:ue.vV,scope:l.s.SINGLETON,useClass:Dn})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Gt))})],Bn);var Un=n(33268),Fn=[(0,u.J)({provide:Un.O7,useFactory:function(e){var t=(0,e.logger)("error-interceptor:error-boundary");return function(e,n){t.error({event:"component-did-catch",error:e,info:n})}},deps:{logger:Q.Fp},multi:!0})],Vn=function(){};Vn=(0,f.__decorate)([(0,h.Y)({providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Fn)})],Vn);var Wn=n(8479),qn=(0,Y.V3)("pageRenderFallbackComponentName"),Hn=(0,Y.V3)("pageRenderDefaultMode"),Gn=(0,Y.V3)("pageRenderWrapperType"),Zn=(0,Y.V3)("pageRenderDefaultFallbackComponent"),Kn="__default",Jn="__csr_fallback__",zn="TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",Yn={name:Jn,path:"/__csr_fallback__/",config:{bundle:Kn,pageComponent:Jn}},Qn=(0,T.J)({name:"ForceCSRModule",providers:[(0,u.J)({provide:y.sQ,useValue:[{key:zn,optional:!0}]}),(0,u.J)({provide:Wn.TRAMVAI_RENDER_MODE,useFactory:function(e){return"true"===e.envManager.get(zn)?"client":"ssr"},deps:{envManager:y.vC}}),(0,u.J)({provide:c.Bi.listen,useFactory:function(e){var t=e.componentRegistry,n=e.fallback,r=e.envManager;return function(){"true"===r.get(zn)&&t.add(Jn,n,Kn)}},deps:{componentRegistry:oe.K,fallback:{token:Zn,optional:!0},envManager:y.vC}}),(0,u.J)({provide:c.Bi.customerStart,useFactory:function(e){var t=e.router,n=e.envManager;return function(){"true"===n.get(zn)&&t.addRoute(Yn)}},deps:{router:Zt.l1,envManager:y.vC}})]}),Xn=n(90130),$n=n(44121),er=n.n($n),tr=n(44488);var nr=function(e){var t=e.children,n=(0,$n.useState)(!1),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,n,2),i=r[0],o=r[1],a=(0,tr.x)(Zt.Y9),s=(0,tr.x)(qn),u=(0,tr.x)(Hn),c=(0,tr.x)({token:Zn,optional:!0}),l=a.resolveComponentFromConfig(s)||c,d=function(e){var t,n=e.pageService,r=e.defaultRenderMode,i=n.getConfig(),o=i.pageComponent,a=i.pageRenderMode,s=(null!==(t=n.getComponent(o))&&void 0!==t?t:{}).renderMode,u=a||s||r;return"function"==typeof u?u():u}({pageService:a,defaultRenderMode:u});return(0,$n.useEffect)((function(){"client"===d&&o(!0)}),[]),"client"!==d||i?(0,Xn.jsx)(Xn.Fragment,{children:t}):l?(0,Xn.jsx)(l,{}):null},rr=function(e){return function(t){return(0,Xn.jsx)(nr,{children:(0,Xn.jsx)(e,Object.assign({},t))})}},ir=[(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useFactory:function(e){var t;return{wrappers:(t={},t[e.wrapperType]=rr,t)}},deps:{wrapperType:Gn}}),(0,u.J)({provide:qn,useValue:"pageRenderFallback"}),(0,u.J)({provide:Hn,useFactory:function(e){return e.tramvaiRenderMode},deps:{tramvaiRenderMode:Wn.TRAMVAI_RENDER_MODE}}),(0,u.J)({provide:Gn,useValue:"page"})],or=(0,T.J)({name:"PageRenderModeModule",imports:[Qn],providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,ir)}),ar=n(16254),sr=(0,R.y)("setPageError"),ur=(0,E.L)("pageError",null).on(sr,(function(e,t){return t&&function(e){return Object.assign({},e,{message:e.message,stack:e.stack})}(t)})),cr=$n.useLayoutEffect;var lr,dr,fr=/Minified React error #(\d+);/;try{lr=n(64054).a,dr=n(44121).startTransition}catch(e){}var pr=function(e){var t=e.children,n=e.callback;return cr(n,[]),t},vr=n(38003),hr=n(15434),gr=n.n(hr),mr=n(90794),yr=function(e){var t=e.context,n=e.children,r=e.serverState;return(0,Xn.jsx)(mr.h.Provider,{value:t,children:(0,Xn.jsx)(mr.N.Provider,{value:r,children:n})})},br=n(43158),_r=n(54143),Er=function(){return(0,_r.y)(),(0,tr.x)(Zt.Y9)},wr=n(81935),Sr=n(36840),Tr=function(e){var t=e.children,n=(0,tr.x)(Zt.Y9),r=(0,wr.w)(),i=(0,Sr.o)(ur),o=(0,$n.useMemo)((function(){return i&&function(e){var t=new Error(e.message);return Object.assign(t,e),t}(i)}),[i]),a=(0,tr.x)({token:Un.O7,optional:!0}),s=(0,tr.x)({token:Un.Ek,optional:!0}),u=n.resolveComponentFromConfig("errorBoundary");return(0,Xn.jsx)(vr.E,{url:r,error:o,errorHandlers:a,fallback:u,fallbackFromDi:s,children:t})},Ar=function(e){var t=e.children,n=Er(),r=n.resolveComponentFromConfig("layout"),i=n.resolveComponentFromConfig("header"),o=n.resolveComponentFromConfig("footer");return(0,$n.useMemo)((function(){return(0,Xn.jsx)(r,{Header:i,Footer:o,children:t})}),[r,i,o,t])},kr=function(e){var t=e.children,n=Er().resolveComponentFromConfig("nestedLayout");return(0,$n.useMemo)((function(){return(0,Xn.jsx)(n,{children:t})}),[n,t])},Or=function(){var e=Er(),t=e.getConfig().pageComponent,n=e.getComponent(t);return n||(n=function(){throw new Error("Page component '"+t+"' not found")}),(0,$n.useMemo)((function(){return(0,Xn.jsx)(Tr,{children:(0,Xn.jsx)(n,{})})}),[n])},Cr=function(){var e=(0,$n.useMemo)((function(){return(0,Xn.jsx)(Or,{})}),[]),t=(0,$n.useMemo)((function(){return(0,Xn.jsx)(kr,{children:e})}),[e]);return(0,Xn.jsx)(Ar,{children:t})},Rr=function(e){var t=e.extendRender,n=function(e,t){var n=e.di,r=n.get({token:b.E6,optional:!0});return(0,Xn.jsx)(yr,{context:t,serverState:null==r?void 0:r.stores,children:(0,Xn.jsx)(br.n.Provider,{value:n,children:(0,Xn.jsx)(Cr,{})})})}({di:e.di},e.consumerContext);return t&&gr()((function(e){n=e(n)}),t),n},Ir=function(e){var t=e.extendRender,n=e.useStrictMode,r=e.di,i=e.consumerContext,o=Rr({di:r,consumerContext:i,extendRender:t});return n&&(o=(0,$n.createElement)($n.StrictMode,null,o)),o},Nr=function(e){var t=e.defaultErrorBoundary,n=e.di,r={di:n,consumerContext:e.consumerContext,extendRender:e.extendRender,customRender:e.customRender,useStrictMode:e.useStrictMode},i=n.get({token:Un.O7,optional:!0}),o=n.get({token:Un.Ek,optional:!0});return(0,Xn.jsx)(vr.E,{fallback:t,errorHandlers:i,fallbackFromDi:o,children:(0,Xn.jsx)(Ir,Object.assign({},r))})};function Mr(e){var t=e.logger,r=e.consumerContext,i=e.customRender,o=e.extendRender,a=e.di,s=e.useStrictMode,u=e.rendererCallback,c=e.renderMode,l=e.defaultErrorBoundary,d=t("module-render");return new Promise((function(e,t){if(i)return i(Rr({extendRender:o,di:a,consumerContext:r}));var f=function(e){return null==u?void 0:u.forEach((function(t){try{t(e)}catch(e){console.error(e)}}))},p={element:(0,$n.createElement)(Nr,{defaultErrorBoundary:l,extendRender:o,customRender:i,useStrictMode:s,consumerContext:r,di:a}),container:function(){return document.querySelector(".application")},callback:function(){d.debug("App rendering"),document.querySelector("html").classList.remove("no-js"),f(),e()},log:d,renderMode:c};try{!function(e){var t=e.element,r=e.container,i=e.callback,o=e.log,a=e.renderMode;if("function"!=typeof lr)return(0,n(90776).hydrate)(t,r(),i);var s=(0,$n.createElement)(pr,{callback:i},t),u=new Map,c=C()(50,(function(){if(0!==u.size){var e=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(Te,Array.from(u.values())),t=e[0],n=t.error,r=t.errorInfo,i=e.slice(1);u=new Map,o.error({event:"hydrate:recover-after-error",error:n,errorInfo:r,otherErrors:i})}})),l=function(){return dr((function(){lr(r(),s,{onRecoverableError:function(e,t){var n,r,i=(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"").match(fr),o=null!==(r=null==i?void 0:i[1])&&void 0!==r?r:null==e?void 0:e.message;u.has(o)||("string"==typeof(null==t?void 0:t.componentStack)&&(t.componentStack=t.componentStack.split("\n").slice(0,15).join("\n")),u.set(o,{error:e,errorInfo:t})),c()}})}))};"streaming"===a?window.__TRAMVAI_DEFERRED_HYDRATION?l():window.__TRAMVAI_DEFERRED_HYDRATION=l:l()}(p)}catch(e){f(e),t(e)}}))}var xr=function(e){return Array.isArray(e)?e:[e]},Pr=function(e,t){return xr(null!=t?t:[]).reduce((function(e,t){return t(e)}),e)},Lr=["children"],Dr=["header","footer","layout","content","page"],jr=function(e){return e.children},Br=function(e){return(0,e.children)((0,d.Z)(e,Lr))},Ur=function(e){return e.children},Fr=function(){};Fr=(0,f.__decorate)([(0,h.Y)({providers:[{provide:Wn.DEFAULT_LAYOUT_COMPONENT,scope:l.s.SINGLETON,useFactory:function(e){var t,n,r,o,a,s,u,c,l,f,p,v,h,g,m,y,b,_,E,w,S,T,A,k,O;return t=e.layoutOptions,n=Qe()(null!=t?t:[]).reduce((function(e,t){var n=e.components,r=e.wrappers;return t.components&&Object.assign(n,t.components),t.wrappers&&Object.keys(t.wrappers).forEach((function(e){var n;r[e]||(r[e]=[]),(n=r[e]).push.apply(n,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,xr(t.wrappers[e])))})),e}),{components:{},wrappers:{}}),o=(r=void 0===n?{}:n).components,a=void 0===o?{}:o,s=r.wrappers,u=void 0===s?{}:s,c=a.header,l=void 0===c?Br:c,f=a.footer,p=void 0===f?Br:f,v=a.layout,h=void 0===v?jr:v,g=a.content,m=void 0===g?jr:g,y=a.page,b=void 0===y?jr:y,_=(0,d.Z)(a,Dr),E=Pr(h,u.layout),w=Pr(m,u.content),S=Pr(b,u.page),T=Pr(l,u.header),A=Pr(p,u.footer),k=Object.keys(_).map((function(e){return{name:e,Component:Pr(_[e],u[e])}})),(O=function(e){var t=e.children,n=e.Header,r=e.Footer;return(0,Xn.jsxs)(E,{children:[k.map((function(e){var t=e.Component,n=e.name;return(0,Xn.jsx)(t,{},n)})),(0,Xn.jsxs)(w,{children:[n?(0,Xn.jsx)(T,{children:function(e){return(0,Xn.jsx)(n,Object.assign({},e))}}):null,(0,Xn.jsx)(S,{children:t}),r?(0,Xn.jsx)(A,{children:function(e){return(0,Xn.jsx)(r,Object.assign({},e))}}):null]})]})}).displayName="Layout",O},deps:{layoutOptions:{token:Wn.LAYOUT_OPTIONS,optional:!0}}},{provide:"componentDefaultList",scope:l.s.SINGLETON,multi:!0,useFactory:function(e){return Object.assign({},e,{nestedLayoutDefault:Ur})},deps:{layoutDefault:Wn.DEFAULT_LAYOUT_COMPONENT,footerDefault:{token:Wn.DEFAULT_FOOTER_COMPONENT,optional:!0},headerDefault:{token:Wn.DEFAULT_HEADER_COMPONENT,optional:!0},errorBoundaryDefault:{token:Wn.DEFAULT_ERROR_BOUNDARY_COMPONENT,optional:!0}}}]})],Fr);var Vr,Wr=[(0,u.J)({provide:b.Ym,multi:!0,useValue:ur}),(0,u.J)({provide:Wn.TRAMVAI_RENDER_MODE,useValue:"ssr"})],qr=Vr=function(){function e(){}return e.forRoot=function(e){var t=e.mode,n=e.useStrictMode,r=[];return"string"!=typeof t&&"boolean"!=typeof n||r.push({provide:Wn.USE_REACT_STRICT_MODE,useValue:null!=n?n:"strict"===t}),{mainModule:Vr,providers:r}},e}();qr=Vr=(0,f.__decorate)([(0,h.Y)({imports:[Fr],providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Wr),[(0,u.J)({provide:ar.Yv,multi:!0,useFactory:function(e){var t=e.store;return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getState(ur)&&t.dispatch(sr(null));case 1:case"end":return e.stop()}}),e)})))},deps:{store:b.kR}}),(0,u.J)({provide:Wn.RESOURCES_REGISTRY,useFactory:function(e){return e.logger,{getPageResources:function(){return[]},register:function(){}}},deps:{logger:Q.Fp}}),(0,u.J)({provide:c.Bi.generatePage,useFactory:function(e){return function(){return window.contextExternal=e.consumerContext,Mr(e)}},deps:{logger:Q.Fp,customRender:{token:Wn.CUSTOM_RENDER,optional:!0},extendRender:{token:Wn.EXTEND_RENDER,optional:!0},rendererCallback:{token:Wn.RENDERER_CALLBACK,optional:!0},consumerContext:A.l,di:m.Z,useStrictMode:Wn.USE_REACT_STRICT_MODE,renderMode:(0,Y.jt)(Wn.REACT_SERVER_RENDER_MODE),defaultErrorBoundary:(0,Y.jt)(Wn.DEFAULT_ERROR_BOUNDARY_COMPONENT)},multi:!0}),(0,u.J)({provide:Wn.RENDERER_CALLBACK,useFactory:function(e){var t=e.consumerContext;return function(){t.di.register({provide:"__TRAMVAI_HYDRATED",useValue:!0})}},deps:{consumerContext:A.l}}),(0,u.J)({provide:Wn.USE_REACT_STRICT_MODE,useFactory:function(e){return"strict"===e.deprecatedMode},deps:{deprecatedMode:Wn.RENDER_MODE}}),(0,u.J)({provide:Wn.RENDER_MODE,useValue:"legacy"}),(0,u.J)({provide:Wn.MODERN_SATISFIES_TOKEN,useFactory:function(e){var t=e.cookieManager.get("_t_modern");return("true"===t||"false"===t)&&JSON.parse(t)},deps:{cookieManager:k.T}}),(0,u.J)({provide:Wn.REACT_SERVER_RENDER_MODE,useValue:"sync"})])})],qr);var Hr=n(73212),Gr=n(4216),Zr=n.n(Gr),Kr=n(34770),Jr=n.n(Kr),zr={trace:Ft(),debug:Ft(),info:Ft(),warn:Ft(),error:Ft()};function Yr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr=function(){function e(e){var t=e.trailingSlash,n=e.mergeSlashes,r=e.enableViewTransitions,i=e.beforeResolve,o=void 0===i?[]:i,a=e.beforeNavigate,s=void 0===a?[]:a,u=e.afterNavigate,c=void 0===u?[]:u,l=e.beforeUpdateCurrent,d=void 0===l?[]:l,f=e.afterUpdateCurrent,p=void 0===f?[]:f,v=e.guards,h=void 0===v?[]:v,g=e.onChange,m=void 0===g?[]:g,y=e.onRedirect,b=e.onNotFound,_=e.onBlock;this.started=!1,this.trailingSlash=!1,this.strictTrailingSlash=!0,this.viewTransitionsEnabled=!1,this.mergeSlashes=!1,this.trailingSlash=null!=t&&t,this.strictTrailingSlash=void 0===t,this.mergeSlashes=null!=n&&n,this.viewTransitionsEnabled=null!=r&&r,this.hooks=new Map([["beforeResolve",new Set(o)],["beforeNavigate",new Set(s)],["afterNavigate",new Set(c)],["beforeUpdateCurrent",new Set(d)],["afterUpdateCurrent",new Set(p)]]),this.guards=new Set(h),this.syncHooks=new Map([["change",new Set(m)]]),this.onRedirect=y,this.onNotFound=b,this.onBlock=_,this.currentUuid=0}var t=e.prototype;return t.start=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zr.debug({event:"start"}),this.started=!0;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getCurrentRoute=function(){var e,t,n;return null!==(t=null===(e=this.currentNavigation)||void 0===e?void 0:e.to)&&void 0!==t?t:null===(n=this.lastNavigation)||void 0===n?void 0:n.to},t.getCurrentUrl=function(){var e,t,n;return null!==(t=null===(e=this.currentNavigation)||void 0===e?void 0:e.url)&&void 0!==t?t:null===(n=this.lastNavigation)||void 0===n?void 0:n.url},t.getLastRoute=function(){var e;return null===(e=this.lastNavigation)||void 0===e?void 0:e.to},t.getLastUrl=function(){var e;return null===(e=this.lastNavigation)||void 0===e?void 0:e.url},t.commitNavigation=function(e){zr.debug({event:"commit-navigation",navigation:e}),e.history||this.history.save(e),this.lastNavigation=e,this.currentNavigation=null,this.runSyncHooks("change",e)},t.updateCurrentRoute=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.internalUpdateCurrentRoute(t,{}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.internalUpdateCurrentRoute=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s,u,c,l,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.history,o=null!==(i=this.currentNavigation)&&void 0!==i?i:this.lastNavigation){e.next=4;break}throw new Error("updateCurrentRoute should only be called after navigate to some route");case 4:return s=t.replace,u=t.params,c=t.navigateState,l=o.to,d=o.url,f={type:"updateCurrentRoute",from:l,to:this.resolveRoute({params:u,navigateState:c},{wildcard:!0}),url:this.resolveUrl(t),fromUrl:d,replace:s,history:r,navigateState:c,code:t.code,key:this.uuid()},zr.debug({event:"update-current-route",updateRouteOptions:t,navigation:f}),e.next=10,this.run(f);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.runUpdateCurrentRoute=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runHooks("beforeUpdateCurrent",t);case 2:return this.commitNavigation(t),e.next=5,this.runHooks("afterUpdateCurrent",t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.navigate=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.internalNavigate(Ce(t),{}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.internalNavigate=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s,u,c,l,d,f,p,v,h,g,m,y,b,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.history,i=n.redirect,s=t.url,u=t.replace,c=t.params,l=t.navigateState,d=t.code,f=t.viewTransition,p=i?this.lastNavigation:null!==(o=this.currentNavigation)&&void 0!==o?o:this.lastNavigation,s||p){e.next=5;break}throw new Error("Navigate url should be specified and cannot be omitted for first navigation");case 5:return v=this.resolveUrl(t),g=(h=null!=p?p:{}).to,m=h.url,y=i?this.currentNavigation.to:void 0,b={type:"navigate",from:g,url:v,fromUrl:m,replace:u,history:r,navigateState:l,code:d,redirect:i,redirectFrom:y,key:this.uuid()},this.viewTransitionsEnabled&&void 0!==f&&(b.viewTransition=f),e.next=12,this.runHooks("beforeResolve",b);case 12:if((_=this.resolveRoute({url:v,params:c,navigateState:l},{wildcard:!0}))&&(b=Object.assign({},b,{to:_})),zr.debug({event:"navigation",navigation:b}),b.to){e.next=17;break}return e.abrupt("return",this.notfound(b));case 17:return e.next=19,this.run(b);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.runNavigate=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.to.redirect){e.next=2;break}return e.abrupt("return",this.redirect(t,Ce(t.to.redirect)));case 2:return e.next=4,this.runGuards(t);case 4:return e.next=6,this.runHooks("beforeNavigate",t);case 6:return this.commitNavigation(t),e.next=9,this.runHooks("afterNavigate",t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.run=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentNavigation=t,"navigate"!==t.type){e.next=4;break}return e.next=4,this.runNavigate(t);case 4:if("updateCurrentRoute"!==t.type){e.next=7;break}return e.next=7,this.runUpdateCurrentRoute(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.resolve=function(e,t){var n=Ce(e);return this.resolveRoute(Object.assign({},n,{url:(0,st.Qc)(n.url)}),t)},t.back=function(e){return this.go(-1,e)},t.forward=function(){return this.go(1)},t.go=function(){var e=(0,r.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zr.debug({event:"history.go",to:t}),e.abrupt("return",this.history.go(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.isNavigating=function(){return!!this.currentNavigation},t.dehydrate=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.rehydrate=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.addRoute=function(e){var t;null===(t=this.tree)||void 0===t||t.addRoute(e)},t.redirect=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zr.debug({event:"redirect",navigation:t,target:n}),e.abrupt("return",null===(r=this.onRedirect)||void 0===r?void 0:r.call(this,Object.assign({},t,{from:t.to,fromUrl:t.url,to:null,url:this.resolveUrl(n)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.notfound=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zr.debug({event:"not-found",navigation:t}),e.abrupt("return",null===(n=this.onNotFound)||void 0===n?void 0:n.call(this,t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.block=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zr.debug({event:"blocked",navigation:t}),this.currentNavigation=null,!this.onBlock){e.next=4;break}return e.abrupt("return",this.onBlock(t));case 4:throw new Error("Navigation blocked");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.cancel=function(){},t.normalizePathname=function(e){var t,n,r,o=e;return this.mergeSlashes&&(n=(t=Ae(Te,o.split("?")))[0],r=t.slice(1),o=[n.replace(/\/+/g,"/").replace(/^(\w+):\//,"$1://")].concat(Ae(i.Z,r)).join("?")),this.strictTrailingSlash||(o=ke(o,this.trailingSlash)),o},t.resolveUrl=function(e){var t,n=e.url,r=e.query,i=void 0===r?{}:r,o=e.params,a=e.preserveQuery,s=e.hash,u=this.getCurrentRoute(),c=this.getCurrentUrl(),l=n?(0,st.Hz)(null!==(t=null==c?void 0:c.href)&&void 0!==t?t:"",n):(0,st.F_)(c.href),d=l.pathname;return o&&(n?d=Le(l.pathname,o):u&&(d=Le(u.path,Object.assign({},u.params,o)))),Oe(l)&&(d=this.normalizePathname(d)),(0,st.n2)((0,st.co)(l,{pathname:d,search:n?l.search:"",query:Object.assign({},a?this.getCurrentUrl().query:{},i),hash:null!=s?s:l.hash}))},t.resolveRoute=function(e,t){var n,r,i=e.url,o=e.params,a=e.navigateState,s=(void 0===t?{}:t).wildcard,u=i?null===(n=this.tree)||void 0===n?void 0:n.getRoute(i.pathname):this.getCurrentRoute();if(s&&!u&&i&&(u=null===(r=this.tree)||void 0===r?void 0:r.getWildcard(i.pathname)),u)return o||a!==u.navigateState?Object.assign({},u,{params:Object.assign({},u.params,o),navigateState:a}):u},t.runGuards=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zr.debug({event:"guards.run",navigation:t}),this.guards){e.next=4;break}return zr.debug({event:"guards.empty",navigation:t}),e.abrupt("return");case 4:return e.next=6,Promise.all(Array.from(this.guards).map((function(e){return Promise.resolve(e(t)).catch((function(e){zr.warn({event:"guard.error",error:e})}))})));case 6:n=e.sent,zr.debug({event:"guards.done",navigation:t,results:n}),r=Yr(n,!0);case 9:if((i=r()).done){e.next=17;break}if(!1!==(o=i.value)){e.next=13;break}return e.abrupt("return",this.block(t));case 13:if(!Zr()(o)&&!Jr()(o)){e.next=15;break}return e.abrupt("return",this.redirect(t,Ce(o)));case 15:e.next=9;break;case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.registerGuard=function(e){return Re(this.guards,e)},t.runSyncHooks=function(e,t){zr.debug({event:"sync-hooks.run",hookName:e,navigation:t});var n=this.syncHooks.get(e);if(n){for(var r,i=Yr(n,!0);!(r=i()).done;){var o=r.value;try{o(t)}catch(e){zr.warn({event:"sync-hooks.error",error:e})}}zr.debug({event:"sync-hooks.done",hookName:e,navigation:t})}else zr.debug({event:"sync-hooks.empty",hookName:e,navigation:t})},t.registerSyncHook=function(e,t){return Re(this.syncHooks.get(e),t)},t.runHooks=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zr.debug({event:"hooks.run",hookName:t,navigation:n}),r=this.hooks.get(t)){e.next=5;break}return zr.debug({event:"hooks.empty",hookName:t,navigation:n}),e.abrupt("return");case 5:return e.next=7,Promise.all(Array.from(r).map((function(e){return Promise.resolve(e(n)).catch((function(e){if(zr.warn({event:"hook.error",error:e}),"beforeResolve"===t)throw e}))})));case 7:zr.debug({event:"hooks.done",hookName:t,navigation:n});case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.registerHook=function(e,t){return Re(this.hooks.get(e),t)},t.uuid=function(){return this.currentUuid++},e}(),$r=function(){function e(){}var t=e.prototype;return t.init=function(e){},t.listen=function(e){this.listener=e},t.setTree=function(e){this.tree=e},e}(),ei=window.history&&window.history.pushState,ti=function(e){return e&&"string"==typeof e.key},ni=function(e,t,n){void 0===n&&(n=0);var r=function(e){var t=e.to;if(t)return t.name+"_"+t.path}(e),i=function(e,t){var n={};if(e.replace){var r=null==t?void 0:t.navigateState.previousRoute,i=null==t?void 0:t.navigateState.previousUrl;return r&&(n.previousRoute=r),i&&(n.previousUrl=i),n}return e.from&&(n.previousRoute=e.from),e.fromUrl&&(n.previousUrl=e.fromUrl),n}(e,t),o=e.type;return e.replace&&t&&(o=t.type===o?o:"navigate"),{key:r,type:o,navigateState:Object.assign({},i,e.navigateState),index:n}},ri=function(e){function t(){var t;return(t=e.call(this)||this).currentIndex=0,t.historyWrapper=function(e){var t=e.onNavigate;if(!ei){var n=function(e,t,n){window.location.href=n.toString()};return window.history.pushState=n,window.history.replaceState=n,{navigate:function(e){var t=e.path;return n(0,0,t)},history:function(){throw new Error("Method not implemented")},init:Ft(),subscribe:Ft()}}var r=window.history;"__originalHistory"in window.history?r=window.history.__originalHistory:window.history.__originalHistory={pushState:r.pushState.bind(window.history),replaceState:r.replaceState.bind(window.history),go:r.go.bind(window.history)};var i=r.pushState.bind(window.history),o=r.replaceState.bind(window.history),a=r.go.bind(window.history),s=function(e){a(e)},u=function(e){return void 0===e&&(e=!1),function(n,r,i){t({url:i.toString(),replace:e,navigateState:n})}};return window.history.pushState=u(!1),window.history.replaceState=u(!0),window.history.go=s,window.history.back=function(){return s(-1)},window.history.forward=function(){return s(1)},{navigate:function(e){var t=e.path,n=e.replace,r=e.state;n?o(r,"",t):i(r,"",t)},history:s,init:function(e){o(e,"")},subscribe:function(e){window.addEventListener("popstate",(function(t){var n=t.state;e({path:window.location.pathname+window.location.search+window.location.hash,state:n})}))}}}({onNavigate:function(e){var n=e.url,r=e.replace,i=e.navigateState;t.listener({url:n,replace:r,navigateState:i})}}),t}(0,_t.Z)(t,e);var n=t.prototype;return n.init=function(e){var t,n=this;this.currentState=ti(null===(t=window.history)||void 0===t?void 0:t.state)?window.history.state:ni(e),this.currentIndex=this.currentState.index,this.historyWrapper.init(this.currentState),this.historyWrapper.subscribe(function(){var e=(0,r.Z)(a().mark((function e(t){var r,i,o,s,u,c,l,d,f,p,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,i=t.state,e.prev=1,ti(i)?(l=n.currentState,d=l.key,f=l.type,p=i.key,v=i.type,n.currentState=i,c=i.navigateState,u=p!==d||"updateCurrentRoute"!==v&&"updateCurrentRoute"!==f?"navigate":"updateCurrentRoute"):n.currentIndex=0,e.next=5,n.listener({type:u,history:!0,url:r,navigateState:c});case 5:null===(o=n.goPromiseResolve)||void 0===o||o.call(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),null===(s=n.goPromiseReject)||void 0===s||s.call(n,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())},n.save=function(e){var t=e.replace,n=e.url;t||this.currentIndex++,this.currentState=ni(e,this.currentState,this.currentIndex),this.historyWrapper.navigate({path:n.path,replace:t,state:this.currentState})},n.go=function(e,t){var n,r=this;if(this.currentIndex<1){if(null==t?void 0:t.historyFallback)return this.listener({url:t.historyFallback,type:"navigate",history:!1,replace:t.replace});var i=null===(n=this.tree)||void 0===n?void 0:n.getHistoryFallback(window.location.pathname);if(i)return this.listener({url:i.actualPath,type:"navigate",history:!1})}this.currentIndex+=e;var o=new Promise((function(e,t){r.goPromiseResolve=e,r.goPromiseReject=t}));return this.historyWrapper.history(e),o},t}($r),ii=function(e){function t(t){var n;return(n=e.call(this,t)||this).fullRehydrationInProcess=null,n.history=new ri,n.history.listen(function(){var e=(0,r.Z)(a().mark((function e(t){var r,i,o,s,u,c,l,d,f,p,v,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,i=t.url,o=t.navigateState,s=t.replace,u=t.history,l=n.getCurrentUrl(),d=n.resolveUrl({url:i}),f=d.pathname,p=d.query,v=(l?l.pathname:window.location.pathname)===f,"updateCurrentRoute"!==r&&(r||!v)||l){e.next=8;break}return s?window.history.__originalHistory.replaceState(o,"",i):window.history.__originalHistory.pushState(o,"",i),e.abrupt("return");case 8:if("updateCurrentRoute"!==r&&(r||!v)){e.next=14;break}return h=null===(c=n.tree)||void 0===c?void 0:c.getRoute(f),e.next=12,n.internalUpdateCurrentRoute({params:null==h?void 0:h.params,query:p,replace:s,navigateState:o},{history:u});case 12:e.next=16;break;case 14:return e.next=16,n.internalNavigate({url:i,replace:s,navigateState:o},{history:u});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}(0,_t.Z)(t,e);var n=t.prototype;return n.rehydrate=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fullRehydrationInProcess=!t.to,zr.debug({event:"rehydrate",navigation:t}),n=(0,st.Qc)(window.location.href),this.currentNavigation=Object.assign({},t,{type:"navigate",url:n}),this.lastNavigation=this.currentNavigation,!this.fullRehydrationInProcess){e.next=13;break}return e.next=8,this.runHooks("beforeResolve",this.currentNavigation);case 8:if(r=this.resolveRoute({url:n},{wildcard:!0}),i=null==r?void 0:r.redirect,this.currentNavigation.to=r,!i){e.next=13;break}return e.abrupt("return",this.redirect(this.currentNavigation,Ce(i)));case 13:return e.next=15,this.runGuards(this.currentNavigation);case 15:this.history.init(this.currentNavigation),this.fullRehydrationInProcess&&this.runSyncHooks("change",this.currentNavigation),this.currentNavigation=null,this.fullRehydrationInProcess||this.addRoute({name:t.to.name,path:t.to.path,config:t.to.config,alias:n.pathname}),this.fullRehydrationInProcess=null;case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.resolveRoute=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[0].url;if(!o||Oe(o))return(t=e.prototype.resolveRoute).call.apply(t,[this].concat(r))},n.notfound=function(){var t=(0,r.Z)(a().mark((function t(n){var r,i,o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.notfound.call(this,n);case 2:if(o=null!==(i=null===(r=n.fromUrl)||void 0===r?void 0:r.href)&&void 0!==i?i:window.location.href,s=n.url.href,(!n.from||n.to)&&o===s){t.next=9;break}n.replace?window.location.replace(s):window.location.assign(s),t.next=11;break;case 9:if(!this.onBlock){t.next=11;break}return t.abrupt("return",this.onBlock(n));case 11:return t.abrupt("return",new Promise((function(){})));case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.block=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.notfound(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.redirect=function(){var t=(0,r.Z)(a().mark((function t(n,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.redirect.call(this,n,r);case 2:if(!this.fullRehydrationInProcess){t.next=5;break}return window.location.replace(r.url),t.abrupt("return",new Promise((function(){})));case 5:return t.abrupt("return",this.internalNavigate(Object.assign({},r,{replace:r.replace||n.replace}),{redirect:!0}));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t}(Xr),oi=n(44831),ai=n.n(oi),si=n(97939),ui=n.n(si);function ci(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function li(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return di(t,void 0!==n&&n<r?n:r)}return e(t,n)}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fi=function(e){return{route:e,children:Object.create(null),parameters:[]}},pi=function(e,t,n){return Object.assign({},e,{actualPath:t,params:null!=n?n:{}})},vi=function(){function e(e){var t=this;this.tree=fi(),gr()((function(e){return t.addRoute(e)}),e)}var t=e.prototype;return t.addRoute=function(e){for(var t,n=Ne(e.path),r=this.tree,i=function(){var t=n[o],i=function(e){return Me(e)?{type:1}:xe(e)?{type:2}:Pe(e)?function(e){var t=e.split(":"),n=Ie(pe.Z,t,3),r=n[0],i=void 0===r?"":r,o=n[1],a=n[2],s=void 0===a?"":a,u=be.exec(o);if(!u)throw new Error('parameters should satisfy pattern "prefix:paramName(regexp)\\?:postfix"');var c=Ie(pe.Z,u,4),l=c[1],d=c[2],f=c[3];return{type:3,paramName:l,regexp:i||s||d?new RegExp("^"+i+"("+(d||".+")+")"+(f?"?":"")+s+"$"):void 0,optional:!!f&&!i&&!s}}(e):{type:0,value:e}}(t);if(1===i.type)return r.historyFallbackRoute=e,{v:void 0};if(2===i.type)return r.wildcardRoute=e,{v:void 0};if(3===i.type){var a=i.paramName,s=i.regexp,u=i.optional,c=ai()((function(e){return e.key===t}),r.parameters);if(c)r=c.tree;else{var l={key:t,paramName:a,regexp:s,optional:u,tree:fi()};if(s&&!u){var d=ui()((function(e){return!e.regexp}),r.parameters);r.parameters.splice(d,0,l)}else r.parameters.push(l);r=l.tree}}else r.children[t]||(r.children[t]=fi()),r=r.children[t]},o=0;o<n.length;o++)if(t=i())return t.v;r.route=e},t.getRoute=function(e){return this.findRoute(e,"route")},t.getWildcard=function(e){return this.findRoute(e,"wildcardRoute")},t.getHistoryFallback=function(e){var t=this.findRoute(e,"historyFallbackRoute");return t&&Object.assign({},t,{actualPath:t.path.replace(me,"")||"/"})},t.findRoute=function(e,t){for(var n="route"===t,r=Ne(e),i=[[this.tree,0]];i.length;){var o=i.pop(),a=li(pe.Z,o,3),s=a[0],u=a[1],c=a[2],l=s.children,d=s.parameters,f=!1;if(u>=r.length){if(s[t])return pi(s[t],e,c);f=!0}!n&&s[t]&&i.push([s,r.length,c]);for(var p,v=r[u],h=l[v],g=ci(d,!0);!(p=g()).done;){var m=p.value,y=m.optional,b=m.tree;y&&i.push([b,u,c])}if(!f){for(var _=d.length-1;_>=0;_--){var E,w=d[_],S=w.paramName,T=w.tree,A=w.regexp,k=null==A?void 0:A.exec(v),O=A?null==k?void 0:k[1]:v;O&&i.push([T,u+1,Object.assign({},c,(E={},E[S]=O,E))])}h&&i.push([h,u+1,c])}}},e}();function hi(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return gi(t,void 0!==n&&n<r?n:r)}return e(t,n)}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mi="_t_view_transitions",yi=function(e){function t(t){var n;return(n=e.call(this,t)||this).tree=new vi(t.routes),n.history.setTree(n.tree),n.viewTransitionsEnabled&&(n.restoreAppliedViewTransitions(),window.addEventListener("pagehide",(function(){n.saveAppliedViewTransitions()}))),n}(0,_t.Z)(t,e);var n=t.prototype;return n.rehydrate=function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.resolveIfDelayFound(e.prototype.rehydrate.call(this,n)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.start=function(){var t=(0,r.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.start.call(this);case 2:if(!this.delayedNavigation){t.next=6;break}return n=this.delayedNavigation,this.delayedNavigation=null,t.abrupt("return",this.flattenDelayedNavigation(n));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.run=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({},t),this.viewTransitionsEnabled&&(n.viewTransition=this.shouldApplyViewTransition(t)),this.started){e.next=5;break}return this.delayNavigation(n),e.abrupt("return");case 5:if(!this.currentNavigation){e.next=7;break}return e.abrupt("return",this.delayNavigation(n));case 7:return this.delayedNavigation&&(zr.info({event:"delay-navigation-drop",delayedNavigation:this.delayedNavigation,navigation:n}),this.delayedNavigation=null),e.abrupt("return",this.flattenDelayedNavigation(n));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.delayNavigation=function(e){var t=this;return this.delayedNavigation=e,zr.info({event:"delay-navigation",navigation:e}),this.delayedPromise||(this.delayedPromise=new Promise((function(e,n){t.delayedResolve=e,t.delayedReject=n}))),this.delayedPromise},n.commitNavigation=function(t){if(!t.cancelled&&!t.skipped)return e.prototype.commitNavigation.call(this,t);zr.debug({event:"delay-ignore-commit",navigation:t})},n.runGuards=function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.cancelled){t.next=3;break}return zr.debug({event:"delay-ignore-guards",navigation:n}),t.abrupt("return");case 3:return t.abrupt("return",e.prototype.runGuards.call(this,n));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.runHooks=function(){var t=(0,r.Z)(a().mark((function t(n,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.cancelled||this.lastNavigation===r){t.next=3;break}return zr.debug({event:"delay-ignore-hooks",navigation:r}),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.prototype.runHooks.call(this,n,r);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(3),t.abrupt("return",this.notfound(r));case 11:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,n){return t.apply(this,arguments)}}(),n.resolveIfDelayFound=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=setInterval((function(){var e;i.delayedNavigation&&("navigate"===i.delayedNavigation.type||i.delayedNavigation.type===(null===(e=i.currentNavigation)||void 0===e?void 0:e.type)?(zr.info({event:"delay-navigation-found",navigation:i.delayedNavigation}),i.currentNavigation&&(i.currentNavigation.cancelled=!0,i.currentNavigation=null),n()):i.delayedResolve())}),50),e.next=3,Promise.race([t,new Promise((function(e){n=e}))]);case 3:clearInterval(r),n();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.flattenDelayedNavigation=function(){var t=(0,r.Z)(a().mark((function t(n){var i,o=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(){var t=(0,r.Z)(a().mark((function t(n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.resolveIfDelayFound(e.prototype.run.call(o,n));case 2:if(!o.delayedNavigation){t.next=7;break}return r=o.delayedNavigation,zr.info({event:"delay-navigation-run",navigation:r}),o.delayedNavigation=null,t.abrupt("return",i(r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",i(n).then((function(){var e;null===(e=o.delayedResolve)||void 0===e||e.call(o)}),(function(e){var t;null===(t=o.delayedReject)||void 0===t||t.call(o,e)})).finally((function(){o.delayedPromise=null,o.delayedResolve=null,o.delayedReject=null})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.shouldApplyViewTransition=function(e){var t,n,r=e.from.actualPath,i=void 0!==e.to.redirect?null===(t=this.resolve(e.to.redirect))||void 0===t?void 0:t.actualPath:null===(n=e.to)||void 0===n?void 0:n.actualPath;if(e.viewTransition){var o=this.appliedViewTransitions.get(r);return this.appliedViewTransitions.get(r)?o.add(i):this.appliedViewTransitions.set(r,new Set([i])),!0}var a=this.appliedViewTransitions.get(r);return!(void 0===a||!a.has(i))||this.appliedViewTransitions.has(i)},n.restoreAppliedViewTransitions=function(){try{var e=sessionStorage.getItem(mi);if(null!==e){var t=JSON.parse(e);return void(this.appliedViewTransitions=new Map(Object.entries(t).map((function(e){var t=hi(pe.Z,e,2),n=t[0],r=t[1];return[n,new Set(r)]}))))}this.appliedViewTransitions=new Map}catch(e){this.appliedViewTransitions=new Map}},n.saveAppliedViewTransitions=function(){if(this.appliedViewTransitions.size>0)try{for(var e,t={},n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.appliedViewTransitions,!0);!(e=n()).done;){var r=hi(pe.Z,e.value,2),o=r[0],a=r[1];t[o]=hi(i.Z,a)}sessionStorage.setItem(mi,JSON.stringify(t))}catch(e){}},n.cancel=function(){if(this.isNavigating()){zr.debug({event:"cancelled",navigation:this.currentNavigation});var e=this.currentNavigation;return this.currentNavigation.skipped=!0,this.currentNavigation=null,e}},t}(ii),bi=n(14908),_i=[(0,u.J)({provide:Zt.sU,multi:!0,useFactory:function(e){var t=e.bundleManager,n=e.logger,i=e.responseManager,o=e.pageRegistry,s=n("route:load-bundles");return function(){var e=(0,r.Z)(a().mark((function e(n){var r,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.to,s.debug({event:"load-bundle",route:r}),u=r.config,c=u.bundle,l=u.pageComponent,t.has(c,l)){e.next=7;break}return s.info({event:"load-bundle-not-found",bundle:c,pageComponent:l}),i.setStatus(404),e.abrupt("return",!1);case 7:return e.prev=7,e.next=10,o.resolve(r);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(7),s.error({event:"load-bundle-failed",error:e.t0}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()},deps:{logger:Q.Fp,bundleManager:ae.g,responseManager:dt.r,pageRegistry:Zt._Q}}),(0,u.J)({provide:Zt.sU,multi:!0,useFactory:function(e){var t=e.responseManager,n=(0,e.logger)("route:guard-check-error");return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.getStatus()>=500)){e.next=3;break}return n.error({event:"status-is-error",status:t.getStatus()}),e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})))},deps:{logger:Q.Fp,responseManager:dt.r}})],Ei=[{provide:ar.p$,multi:!0,useFactory:function(e){var t=e.context;return function(e){t.dispatch((0,bi.L$)(e))}},deps:{context:A.l}}];var wi=n(63609),Si=n.n(wi),Ti=n(86949),Ai=n(70872),ki=function(e){var t=e.router,n=e.children,r=e.serverState,i=(0,$n.useMemo)((function(){return t.getCurrentRoute()}),[t]),o=(0,$n.useMemo)((function(){return t.getCurrentUrl()}),[t]),a=(0,$n.useCallback)((function(e){return t.registerSyncHook("change",e)}),[t]),s=(0,Ti.useSyncExternalStore)(a,(function(){var e,n;return null!==(n=null===(e=t.getLastRoute)||void 0===e?void 0:e.call(t))&&void 0!==n?n:i}),r?function(){return r.route}:function(){var e,n;return null!==(n=null===(e=t.getLastRoute)||void 0===e?void 0:e.call(t))&&void 0!==n?n:i}),u=(0,Ti.useSyncExternalStore)(a,(function(){var e,n;return null!==(n=null===(e=t.getLastUrl)||void 0===e?void 0:e.call(t))&&void 0!==n?n:o}),r?function(){return r.url}:function(){var e,n;return null!==(n=null===(e=t.getLastUrl)||void 0===e?void 0:e.call(t))&&void 0!==n?n:o});return(0,Xn.jsx)(Ai._q.Provider,{value:t,children:(0,Xn.jsx)(Ai.Xn.Provider,{value:s,children:(0,Xn.jsx)(Ai.qs.Provider,{value:u,children:n})})})};ki.displayName="TinkoffRouterProvider";var Oi=ki,Ci=function(){function e(e){var t=e.router,n=e.componentRegistry;this.router=t,this.componentRegistry=n}var t=e.prototype;return t.getCurrentRoute=function(){return this.router.getCurrentRoute()},t.getCurrentUrl=function(){return this.router.getCurrentUrl()},t.getConfig=function(e){var t;return void 0===e&&(e=this.getCurrentRoute()),null!==(t=null==e?void 0:e.config)&&void 0!==t?t:{}},t.getContent=function(e){var t;return null!==(t=this.getConfig(e).content)&&void 0!==t?t:{}},t.getMeta=function(e){var t;return null!==(t=this.getConfig(e).meta)&&void 0!==t?t:{}},t.navigate=function(e){return this.router.navigate(e)},t.updateCurrentRoute=function(e){return this.router.updateCurrentRoute(e)},t.back=function(e){return this.router.back(e)},t.forward=function(){return this.router.forward()},t.go=function(e,t){return this.router.go(e,t)},t.addComponent=function(e,t,n){var r=this.getComponentsGroupName(n);return this.componentRegistry.add(e,t,r)},t.getComponent=function(e,t){var n=this.getComponentsGroupName(t);return this.componentRegistry.get(e,n)},t.resolveComponentFromConfig=function(e,t){var n,r=e+"Component",i=e+"Default",o=null!==(n=this.getConfig(t)[r])&&void 0!==n?n:i;return this.getComponent(o,t)||this.getComponent(i,t)},t.getComponentsGroupName=function(e){var t=this.getConfig(e),n=t.bundle,r=t.pageComponent;return Ve(r)?r:n},e}(),Ri=n(42282),Ii=n.n(Ri),Ni=function(){function e(e){var t=e.bundleManager,n=e.pageService,r=e.componentRegistry,i=e.actionRegistry,o=e.dispatcher,a=e.dispatcherContext;this.bundleManager=t,this.pageService=n,this.componentRegistry=r,this.actionRegistry=i,this.dispatcher=o,this.dispatcherContext=a}var t=e.prototype;return t.resolve=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.pageService.getConfig(t),i=r.bundle,o=r.pageComponent,s=this.pageService.resolveComponentFromConfig("nestedLayout",t),e.next=4,this.bundleManager.get(i,o);case 4:return u=e.sent,e.next=7,this.registerComponent(i,u);case 7:return c=null===(n=u.components)||void 0===n?void 0:n[o],l=[],c&&l.push(this.registerComponent(o,c)),s&&l.push(this.registerComponent(o,this.pageService.resolveComponentFromConfig("nestedLayout"))),e.next=13,Promise.all(l);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.registerComponent=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("load"in n)){e.next=3;break}return e.next=3,(0,fe.BU)(n);case 3:"components"in n&&Jr()(n.components)&&v()((function(e,n){r.componentRegistry.add(n,e,t)}),n.components),"actions"in n&&Ii()(n.actions)&&this.actionRegistry.add(t,n.actions),"reducers"in n&&Ii()(n.reducers)&&n.reducers.forEach((function(e){r.dispatcher.registerStore(e),r.dispatcherContext.getStore(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e}(),Mi=[(0,u.J)({provide:ar.Ct,useFactory:function(e){var t=e.transformers;return t&&0!==t.length?wt().apply(void 0,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,Qe()(t))):le()},deps:{transformers:{token:Zt.S3,optional:!0}}}),(0,u.J)({provide:Zt.S3,multi:!0,useValue:function(e){var t=Object.assign({bundle:"mainDefault",pageComponent:"pageDefault"},e.config);return Object.assign({},e,{config:t})}}),(0,u.J)({provide:Zt.S3,multi:!0,useValue:function(e){return Object.assign({},e,{path:Si()(/\/?$/,"/",e.path)})}}),(0,u.J)({provide:Wn.EXTEND_RENDER,multi:!0,useFactory:function(e){var t=e.router,n={route:t.getCurrentRoute(),url:t.getCurrentUrl()};return function(e){return(0,Xn.jsx)(Oi,{router:t,serverState:n,children:e})}},deps:{router:Zt.l1}}),(0,u.J)({provide:Zt.Y9,useClass:Ci,deps:{router:Zt.l1,componentRegistry:oe.K}}),(0,u.J)({provide:Zt._Q,useClass:Ni,deps:{bundleManager:ae.g,pageService:Zt.Y9,componentRegistry:oe.K,actionRegistry:Ot.R9,dispatcher:b.qb,dispatcherContext:b.jm}})],xi=[(0,u.J)({provide:Zt.Dk,multi:!0,useFactory:function(e){var t=(0,e.logger)("file-system-pages:route"),n=Object.keys(je()).map(Ge),r=function(){var e=Fe();return Object.keys(e).map((function(e){return{name:e,path:(t=e,n=t.replace(/__wildcard$/g,""),We(n)+"*"),config:{pageComponent:e}};var t,n}))}();return t.debug({event:"create static routes from file-system pages",routes:n}),r.concat(n)},deps:{logger:Q.Fp}})].filter(Boolean);function Pi(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Li=[].concat(Pi(i.Z,_i),Pi(i.Z,Ei),Pi(i.Z,Mi),Pi(i.Z,xi),[(0,u.J)({provide:Zt.l1,useFactory:function(e){var t=e.RouterClass,n=e.routes,i=e.routeTransform,o=e.routeResolve,s=e.additionalParameters,u=new t(Object.assign({},s,{trailingSlash:!0,mergeSlashes:!0,enableViewTransitions:!1,routes:Qe()(null!=n?n:[]).map(i)}));return o&&u.registerHook("beforeResolve",function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=u.resolve(t.url.href))&&!(null===(n=r.config)||void 0===n?void 0:n.forceRouteResolve)){e.next=6;break}return e.next=4,o(t);case 4:(s=e.sent)&&u.addRoute(i(s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u},deps:{RouterClass:ar.U5,additionalParameters:{token:ar.FZ,optional:!0},routes:{token:Zt.Dk,optional:!0},routeTransform:ar.Ct,routeResolve:{token:Zt.TL,optional:!0}}}),(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.router,n=e.guards,r=e.onChange,i=e.beforeResolve,o=e.beforeNavigate,a=e.afterNavigate,s=e.beforeUpdateCurrent,u=e.afterUpdateCurrent;return function(){Qe()(null!=n?n:[]).forEach((function(e){return t.registerGuard(e)})),Qe()(null!=r?r:[]).forEach((function(e){return t.registerSyncHook("change",e)})),Qe()(null!=i?i:[]).forEach((function(e){return t.registerHook("beforeResolve",e)})),Qe()(null!=o?o:[]).forEach((function(e){return t.registerHook("beforeNavigate",e)})),Qe()(null!=a?a:[]).forEach((function(e){return t.registerHook("afterNavigate",e)})),Qe()(null!=s?s:[]).forEach((function(e){return t.registerHook("beforeUpdateCurrent",e)})),Qe()(null!=u?u:[]).forEach((function(e){return t.registerHook("afterUpdateCurrent",e)}))}},deps:{router:Zt.l1,guards:{token:Zt.sU,optional:!0},onChange:{token:ar.p$,optional:!0},beforeResolve:{token:ar.Yv,optional:!0},beforeNavigate:{token:ar.rZ,optional:!0},afterNavigate:{token:ar.jB,optional:!0},beforeUpdateCurrent:{token:ar.vR,optional:!0},afterUpdateCurrent:{token:ar.P$,optional:!0}}}),(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.logger;return function(){var e;e=t("route:router"),zr=e}},deps:{logger:Q.Fp}}),(0,u.J)({provide:Zt.$d,useValue:"after"}),(0,u.J)({provide:b.Ym,multi:!0,useValue:bi.sH})],Pi(i.Z,[])),Di=["message"],ji=function(e){function t(n){var r,i=n.message,o=void 0===i?"Block Error":i,a=(0,d.Z)(n,Di);return(r=e.call(this,o)||this).name=t.errorName,Object.assign((0,bt.Z)(r),a),r}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error));ji.errorName="BlockError";var Bi=function(e){return e.name===ji.errorName},Ui=n(75633),Fi=(0,Y.V3)(),Vi=(0,Y.V3)(),Wi=[(0,u.J)({provide:Fi,useValue:new Set}),(0,u.J)({provide:Vi,useFactory:function(){var e=(0,Ui.R)(),t=Promise.resolve();return{add:function(n){return t=t.then((function(){return new Promise((function(t,r){e((function(){n().then(t).catch(r)}))}))}))}}}}),(0,u.J)({provide:Zt.fw,useFactory:function(e){var t=e.router,n=e.routeTransform,i=e.routeResolve,o=e.logger,s=e.prefetchedLinksCache,u=e.prefetchedLinksQueue,c=e.pageRegistry,l=e.prefetchHandlers,d=o("link-prefetch-manager"),f=function(){var e=(0,r.Z)(a().mark((function e(r){var o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.has(r)){e.next=2;break}return e.abrupt("return");case 2:if(s.add(r),d.info({event:"prefetch-route-init",url:r}),(o=t.resolve(r))||!i){e.next=11;break}return u=(0,st.Qc)(r),e.next=9,i({url:u,type:"navigate"});case 9:(o=e.sent)&&(o=n(o),t.addRoute(o));case 11:if(o){e.next=14;break}return d.info({event:"prefetch-route-not-found",url:r}),e.abrupt("return");case 14:return e.prev=14,e.next=17,c.resolve(o);case 17:return e.next=19,Promise.all(l.map((function(e){return e(o)})));case 19:d.info({event:"prefetch-route-success",url:r}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),d.warn({event:"prefetch-fail",url:r,error:e.t0});case 25:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(t){return e.apply(this,arguments)}}();return{prefetch:function(e){return u.add((function(){return f(e)}))}}},deps:{router:Zt.l1,routeTransform:ar.Ct,routeResolve:(0,Y.jt)(Zt.TL),logger:Q.Fp,prefetchedLinksCache:Fi,prefetchedLinksQueue:Vi,pageRegistry:Zt._Q,prefetchHandlers:(0,Y.jt)(Zt.Dv)}})],qi=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Wi),[{provide:ar.FZ,useFactory:function(e){var t,n=e.store;return{onBlock:(t=(0,r.Z)(a().mark((function e(t){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=s=new ji({message:"Url "+(null===(r=t.to)||void 0===r?void 0:r.actualPath)+" is blocked",prevUrl:null!==(o=null===(i=t.fromUrl)||void 0===i?void 0:i.href)&&void 0!==o?o:window.location.href,nextUrl:t.url.href})).isSilent=!0,s=a,n.dispatch(sr(s));case 3:case"end":return e.stop()}var a}),e)}))),function(e){return t.apply(this,arguments)})}},deps:{store:b.kR}}]),Hi=["message","httpStatus"],Gi=function(e){function t(n){var r,i=n.message,o=void 0===i?"Http Error":i,a=n.httpStatus,s=(0,d.Z)(n,Hi);return(r=e.call(this,o)||this).name=t.errorName,r.httpStatus=a,Object.assign((0,bt.Z)(r),s),r}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error));Gi.errorName="HttpError";var Zi=["message"],Ki=function(e){function t(n){var r,i=void 0===n?{}:n,o=i.message,a=void 0===o?"Not Found":o,s=(0,d.Z)(i,Zi);return(r=e.call(this,{message:a,httpStatus:404})||this).name=t.errorName,Object.assign((0,bt.Z)(r),s),r}return(0,_t.Z)(t,e),t}(Gi);Ki.errorName="NotFoundError";var Ji=["message","nextUrl","httpStatus"],zi=function(e){function t(n){var r,i=n.message,o=void 0===i?"Redirect Found":i,a=n.nextUrl,s=n.httpStatus,u=void 0===s?307:s,c=(0,d.Z)(n,Ji);return(r=e.call(this,{message:o,httpStatus:u})||this).name=t.errorName,r.nextUrl=a,r.httpStatus=u,Object.assign((0,bt.Z)(r),c),r}return(0,_t.Z)(t,e),t}(Gi);zi.errorName="RedirectFoundError";var Yi=function(e){return e.name===zi.errorName};function Qi(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Xi=function(e){if(e.name===Ki.errorName||Yi(e))return!0},$i=function(e){e.store;var t=e.router,n=e.actionRegistry,r=(e.actionPageRunner,t.getCurrentRoute()),o=r.config,a=void 0===o?{}:o,s=a.bundle,u=a.pageComponent;if(!s||!u)throw new Error("bundle and pageComponent should be defined, but got "+r);return ne()([].concat(Qi(i.Z,n.getGlobal()||[]),Qi(i.Z,n.get(s)||[]),Qi(i.Z,n.get(u)||[])))},eo=function(e){return function(){var t=$i(e);return e.actionPageRunner.runActions(t,Xi).catch((function(t){if(Yi(t))return e.router.navigate({url:t.nextUrl,replace:!0,code:t.httpStatus});throw t.error||t}))}};function to(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var no=[].concat(to(i.Z,qi),to(i.Z,Li),[(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.router,n=e.store,i=e.envManager;return function(){var e=(0,r.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==i.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")){e.next=2;break}return e.abrupt("return",t.rehydrate({}));case 2:return r=n.getState(bi.sH).currentRoute,e.abrupt("return",t.rehydrate({to:r}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},deps:{router:Zt.l1,store:b.kR,envManager:y.vC}}),(0,u.J)({provide:c.Bi.clear,multi:!0,useFactory:function(e){var t=e.router,n=e.store;return function(){return n.getState().router.currentUrl.href!==window.location.href&&n.dispatch((0,bi.Qk)(t.getCurrentUrl())),t.start()}},deps:{router:Zt.l1,store:b.kR}}),(0,u.J)({provide:c.Bi.clear,multi:!0,useFactory:function(e){return eo(e)},deps:{store:b.kR,router:Zt.l1,actionRegistry:Ot.R9,actionPageRunner:Ot.FM}})]),ro=["spaMode"],io=["spaMode"],oo=[{provide:ar.rZ,multi:!0,useFactory:function(e){var t=e.commandLineRunner,n=e.di;return function(){var e=(0,r.Z)(a().mark((function e(r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.key,e.next=3,t.run("client","spa",[],n,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{di:m.Z,commandLineRunner:c.S9}},{provide:ar.jB,multi:!0,useFactory:function(e){var t=e.commandLineRunner,n=e.di;return function(){var e=(0,r.Z)(a().mark((function e(r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.key,e.next=3,t.run("client","afterSpa",[],n,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{di:m.Z,commandLineRunner:c.S9}},{provide:c.Bi.spaTransition,multi:!0,useFactory:function(e){var t=e.spaMode,n=(0,d.Z)(e,ro);return function(){if(function(e){$i(e).forEach((function(t){var n=t[Qt.d],r=null==n?void 0:n.deferred,i=e.deferredActionsMap.get(null==n?void 0:n.name);r&&i&&e.actionExecution.canExecute(t)&&i.reset()}))}(n),"after"!==t)return eo(n)()}},deps:{store:b.kR,router:Zt.l1,actionRegistry:Ot.R9,actionPageRunner:Ot.FM,spaMode:Zt.$d,deferredActionsMap:Ot.m1,actionExecution:Ot.R$}},{provide:c.Bi.afterSpaTransition,multi:!0,useFactory:function(e){var t=e.spaMode,n=(0,d.Z)(e,io);return"after"===t?eo(n):Ft()},deps:{store:b.kR,router:Zt.l1,actionRegistry:Ot.R9,actionPageRunner:Ot.FM,spaMode:Zt.$d}}],ao=function(e,t){return void 0===t&&(t={}),[{provide:Zt.Dk,multi:!0,useValue:e},t.spaActionsMode&&{provide:Zt.$d,useValue:t.spaActionsMode}].filter(Boolean)};function so(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var uo=(0,T.J)({name:"SpaRouterModule",providers:[].concat(so(i.Z,no),so(i.Z,oo),[(0,u.J)({provide:ar.U5,useValue:yi}),(0,u.J)({provide:Zt.aP,useValue:"spa"})]),extend:{forRoot:ao}}),co=n(20076),lo=(0,Y.V3)("ADMIN_SERVICE"),fo=(0,Y.V3)("ADMIN_RESOURCES_SERVICE"),po=(0,Y.V3)("ADMIN_PAGE_ENRICHMENT_SERVICE"),vo=(0,Y.V3)("INTEGRATION_ADMIN_SERVICE"),ho=(0,Y.V3)("ADMIN_API_HTTP_CLIENT_FACTORY"),go=(0,Y.V3)("ADMIN_API_DEFAULT_OPTIONS_FACTORY"),mo=(0,Y.V3)("TINKOFF_API_SERVICE"),yo=(0,Y.V3)("COMMON_API_HTTP_CLIENT_FACTORY"),bo=(0,Y.V3)("COMMON_API_DEFAULT_OPTIONS_FACTORY"),_o=(0,Y.V3)("apiOriginService"),Eo=(0,Y.V3)("apiOriginServiceDecorator",{multi:!0}),wo=n(60028),So=n.n(wo),To={mobile:!0,wearable:!0},Ao=n(65165),ko=n.n(Ao),Oo=n(147),Co=n.n(Oo),Ro=ko();try{Ro=n(60531).XH}catch(e){}var Io=function(e,t,n){var r=e.url,i=e.domain,o=e.appId;if(!Jr()(t))return null;if("redirectUrl"in t)return{name:"page-enrichment-redirect",path:r.pathname,redirect:{url:Si()(new RegExp("^https://"+i),"",t.redirectUrl),code:+t.redirectCode,preserveQuery:!0}};if("page"in t){var a=t.page,s=a.id,u=a.pageId,c=a.appId,l=a.name,d=a.properties,f=a.url,p=a.meta,v=a.content;return n.inBrowser&&c&&(n.strictAppId||"platform"!==c)&&c!==o&&"m"+c!==o?null:{name:l,path:f,config:Object.assign({id:s,pageId:u},d,{meta:p,content:v})}}return null};function No(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Mo={timeout:5e3,deduplicateCache:!0},xo=n(6073),Po=n.n(xo);function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Do=(0,Y.V3)("__tinkoffRouterDeprecatedToken",{multi:!0}),jo=[(0,u.J)({provide:co.DG,useFactory:function(e){var t=e.appInfo,n=e.userAgent;return function(){var e,r=t.appName;return n&&(e=n,To[So()(["device","type"],e)])?"m"+r:r}},deps:{appInfo:g.Qo,userAgent:{token:L.N,optional:!0}}}),(0,u.J)({provide:co.Q6,useFactory:function(e){var t=e.appInfo;return function(){return[t.appName,"m"+t.appName]}},deps:{appInfo:g.Qo}}),(0,u.J)({provide:co.xO,useFactory:function(e){var t=e.requestManager,n=e.responseManager,i=e.envManager,o=e.enableAutoDomainResolve,s=e.store;return(0,r.Z)(a().mark((function e(){var r,u,c,l,d,f,p,v,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=i.get("DOMAIN_ALIAS"))){e.next=3;break}return e.abrupt("return",c);case 3:return l=null!==(r=s.getState().featureToggle)&&void 0!==r?r:{},d=Ro("admin/default_domain_www",l)?"www.tinkoff.ru":"tinkoff.ru",f=t.getHost(),p=/^localhost(?::\d+)$/.test(f),a=i.get("EXTERNAL_HOSTNAME_MAP")||"",v=Co()(a.split(",").map((function(e){return e.split("=")}))),h=null!==(u=v[f])&&void 0!==u?u:p||!o?d:f,n.setHeader("x-tramvai-resolved-external-host",f+"="+h),e.abrupt("return",h);case 11:case"end":return e.stop()}var a}),e)})))},deps:{requestManager:at.G,responseManager:dt.r,envManager:y.vC,enableAutoDomainResolve:co.vi,store:b.kR}}),(0,u.J)({provide:co.vi,useValue:!1}),(0,u.J)({provide:Zt.TL,useFactory:function(e){var t=e.logger,n=(e.responseManager,e.pageEnrichment),o=e.domainResolve,s=e.appIdResolve,u=e.routeResolveExtend,c=e.routesFallback,l=(e.deprecatedTokens,e.envManager),d=e.criticalRoutes;if(!n)throw new Error("pageEnrichment is not defined, have you forgot to add @tramvai/module-api-clients?");var f=t("route:admin:route-resolve");return function(){var e=(0,r.Z)(a().mark((function e(t){var p,v,h,g,m,y,b,_,E,w,S,T,A,k,O;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=t.url,f.debug({event:"load",url:p}),m=function(){var e=(0,r.Z)(a().mark((function e(t){var r,i,o,s,u,c,d,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=t,r=t.domain,i=t.appId,o=t.url.pathname,s=t.requestOptions,e.next=4,n.getResponse({appId:i,url:"https://"+r+o},Object.assign({silent:!0},s));case 4:return u=e.sent,c=u.payload,d=u.headers,f=u.status,p=Io(g,c,{inBrowser:!0,strictAppId:"true"===l.get("TRAMVAI_ROUTE_STRICT_APP_ID")}),e.abrupt("return",{status:f,headers:d,payload:c,route:p});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u&&u.length&&(m=wt().apply(void 0,No(i.Z,u))(m)),e.next=6,Promise.all([o(),s()]);case 6:return y=e.sent,b=No(pe.Z,y,2),_=b[0],E=b[1],e.prev=10,e.next=13,m({domain:_,appId:E,url:p,shouldSetFallback:!0,requestOptions:Mo});case 13:if(w=e.sent,S=w.route,T=w.status,f.debug({event:"loaded",route:S}),A=c&&g&&c.get(g.url.pathname,{appId:null==g?void 0:g.appId}),S||404!==T&&400!==T||!A||!Qe()(d).includes(p.pathname)&&!(null===(v=A.config)||void 0===v?void 0:v.useFallbackCacheIfNotFound)){e.next=20;break}throw new Error("404 Not Found для критичного роута - "+p+", возможны проблемы на стороне web-gateway.\nЕсли это ожидаемое поведение и страница действительно удалена, необходимо убрать роут из списка критичных.");case 20:return c&&S&&(null==g?void 0:g.shouldSetFallback)&&(f.debug({event:"fallback-set",request:g}),c.set(S,{appId:null!==(h=null==g?void 0:g.appId)&&void 0!==h?h:E})),e.abrupt("return",S);case 24:if(e.prev=24,e.t0=e.catch(10),k=!!c,O=c&&g&&c.has(g.url.pathname,{appId:null==g?void 0:g.appId}),f.error({event:"load-failed",message:"Ошибка загрузки роута "+g.url+" с web-gateway"+(O?", будет использован fallback кэш":"")+'.\nПричина ошибки будет указана в параметре "error", основные кейсы:\n- 500 ответы при падениях сервиса web-gateway\n- таймауты при проблемах с сетью\n- 404 ответы для критичных роутов',error:e.t0,request:g,hasFallback:O}),!O){e.next=32;break}return f.debug({event:"fallback-get",request:g}),e.abrupt("return",c.get(g.url.pathname,{appId:null==g?void 0:g.appId}));case 32:throw k&&f.error({event:"load-error",message:"Не найден fallback кэш после ошибки загрузки роута"+(g?" "+g.url:"")+" с web-gateway, нет возможности отрисовать страницу",error:e.t0}),e.t0;case 34:case"end":return e.stop()}}),e,null,[[10,24]])})));return function(t){return e.apply(this,arguments)}}()},deps:{logger:Q.Fp,responseManager:dt.r,pageEnrichment:{token:po,optional:!0},domainResolve:co.xO,appIdResolve:co.DG,envManager:y.vC,routeResolveExtend:{token:co.eZ,optional:!0},routesFallback:{token:co.c3,optional:!0},deprecatedTokens:{token:Do,optional:!0},criticalRoutes:{token:co.LM,optional:!0}}}),(0,u.J)({provide:co.eZ,multi:!0,useFactory:function(e){var t=e.pageEnrichment,n=e.envManager;return function(e){return function(){var i=(0,r.Z)(a().mark((function r(i){var o,s,u,c;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=i.url,s=i.domain,u=i.appId,!o.query.previewToken){r.next=6;break}return r.next=4,t.getPreview({url:"https://"+s+o.pathname,appId:u,previewToken:o.query.previewToken},{cache:!1});case 4:return c=r.sent,r.abrupt("return",Object.assign({},c,{route:Io(i,c.payload,{inBrowser:!0,strictAppId:"true"===n.get("TRAMVAI_ROUTE_STRICT_APP_ID")})}));case 6:return r.abrupt("return",e(i));case 7:case"end":return r.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}()}},deps:{pageEnrichment:{token:po,optional:!0},envManager:y.vC}}),(0,u.J)({provide:Zt.S3,multi:!0,useFactory:function(e){var t=(0,e.logger)("file-system-pages:route:admin");return function(e){var n;if(e&&e.path&&e.config&&(e.config.migrateToFileSystemPageComponent||!e.config.pageComponent&&!e.config.bundle)){var r=function(e){var t=Ne(e).map((function(e){return e.startsWith(":")?"["+e.replace(":","")+"]":e}));return["@/pages"].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,t),["index"]).filter(Boolean).join("/")}(e.path),o=function(e){return!(!je()[e]&&!De.pages[e])}(r),a=null!==(n=e.config.pageComponent)&&void 0!==n?n:"pageDefault",s=o?r:a;return!o&&e.config.migrateToFileSystemPageComponent?t.error({event:"failed to resolve file-system page component",pageComponent:{expected:r,resolved:s},route:e}):t.debug({event:"resolve file-system page component",pageComponent:{expected:r,resolved:s},route:e}),Object.assign({},e,{config:Object.assign({},e.config,{pageComponent:s})})}return e}},deps:{logger:Q.Fp}}),(0,u.J)({provide:Zt.S3,multi:!0,useFactory:function(e){var t=e.routeMigrations,n=Qe()(null!=t?t:[]);return function(e){var t=e.config;if(!t)return e;for(var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n,!0);!(r=i()).done;){var o=r.value,a=o.from,s=o.to,u=Po()((function(e,n){return t[n]===e}),a);if(u)return Object.assign({},e,{config:Object.assign({},t,s)})}return e}},deps:{routeMigrations:{token:co.de,optional:!0}}})],Bo=(0,T.J)({name:"TinkoffSpaRouterModule",imports:[uo],providers:jo,extend:{forRoot:ao}}),Uo=n(24592),Fo=/[&<>"']/,Vo={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",39:"&#039;"};function Wo(e){return void 0===e&&(e=""),function(e,t,n){if(0===e.length||!1===t.test(e))return e;for(var r=0,i=0,o="",a="";i<e.length;i++){var s=e.charCodeAt(i);s in n&&(a=n[s],i!==r&&(o+=e.slice(r,i)),o+=a,r=i+1)}return i!==r&&(o+=e.slice(r,i)),o}(e,Fo,Vo)}var qo=n(2012),Ho=n.n(qo),Go="x-service",Zo="dcoData",Ko="dcoTrackingData",Jo="beforeRedirectPageUrl",zo={"<":"\\u003C","\u2028":"\\u2028","\u2029":"\\u2029"},Yo=new RegExp("["+Object.keys(zo).join("")+"]","g");function Qo(e){var t,n,r;try{n=e,void 0===(r=JSON.stringify(n))&&(r=""),t=r.replace(Yo,(function(e){return zo[e]}))}catch(e){}return t||""}var Xo=n(57471),$o=n.n(Xo),ea=n(60411),ta=n.n(ea),na=["utm_source","utm_content","utm_campaign","utm_medium","utm_term","sid","wm"],ra=function(e,t){return"dco.id"===e?new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(t):void 0!==e&&void 0!==t};var ia=na.reduce((function(e,t){var n;return Object.assign({},e,((n={})[t]=!0,n))}),{}),oa="utm_source",aa=/; */,sa=/, */,ua=function(e){return $o()((function(e,t){return!ia[t]}),e)},ca=function(e,t){return Object.keys(e).sort().map((function(n){var r=t[n]||e[n];return ra(n,r)?n+"="+e[n]:null})).filter(Boolean).join("; ")},la=["protocol","host","pathname","query"],da=n(52158),fa=n.n(da),pa=[{dcoAppliedStatus:"not_match",dcoAppliedEntity:"pageContent"}];function va(e){return pt()(e)||fa()(pa)}var ha=["logger"],ga=function(){function e(e){var t=e.logger,n=(0,d.Z)(e,ha);this.parseUrl=Ho()(3,st.Qc),this.sanitizeReferrer=Ho()(3,Wo),this.parseCookie=Ho()(3,(function(e){var t,n=(void 0===(t=e)&&(t=""),t.split(aa).reduce((function(e,t){var n,r=t.indexOf("="),i=t.slice(0,r).replace(/^\s+/,""),o=t.slice(r+1);return Object.assign({},e,((n={})[i]=o,n))}),{}));return{rawUserCookie:n,decodedUserCookie:en()((function(e){return function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e)}),n)}})),this.logger=t({name:"dco-client"}),this.getClientParameters="clientParametersFactory"in n?n.clientParametersFactory:function(){return n}}var t=e.prototype;return t.getParsedClientParameters=function(){var e=this.getClientParameters(),t=e.pageUrl,n=e.userHeaders,r=en()((function(e){return Array.isArray(e)?e.join(","):e}),n);return Object.assign({pageUrl:this.parseUrl(t),pageReferrer:this.sanitizeReferrer(r.referer),userHeaders:r},this.parseCookie(r.cookie))},t.getDcoRequestParams=function(e){var t,n=e.appId,r=e.service,i=this.getParsedClientParameters(),o=i.pageUrl,a=i.decodedUserCookie,s=i.rawUserCookie,u=i.pageReferrer,c=i.userHeaders,l=o.query,d=function(e,t,n,r){var i,o=function(e){if(!e)return e;var t={};return Object.keys(e).forEach((function(n){if(Object.prototype.hasOwnProperty.call(e,n))try{t[encodeURIComponent(n)]=encodeURIComponent(e[n])}catch(e){}})),t}(function(e){return!!e.utm_source&&ta()(na,e)}(e));return o?ca(Object.assign({},ua(n),o),t):t[oa]?ca(n,t):ca(Object.assign({},ua(n),((i={})[oa]=r||"",i)),t)}(l,a,s,u),f=((t={})["x-app-id"]=n,t["x-dco-user-data"]=d,t);return r?f[Go]=r:c[Go]&&(f[Go]=c[Go]),{headers:f,payload:Object.assign({},l,{trackingState:Qo({dco:{referrer:u,beforeRedirectPageUrl:a[Jo]}})})}},t.getUserResponseParams=function(e){var t=this.getParsedClientParameters(),n=t.pageUrl,r=t.decodedUserCookie,i=t.pageReferrer;this.latestResponse=e;var o,a,s,u,c,l,d=e.dcoResponse,f=e.dcoResponseHeaders,p=function(e){var t=[];return gr()((function(n){var r=e[n];ra(n,r)&&t.push({name:n,value:r,expires:31536e3,noSubdomains:!0})}),Object.keys(e).sort()),t}((void 0===(o=f["x-dco-set-context"])&&(o=""),o.split(sa).reduce((function(e,t){var n,r=t.split("="),i=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,r,2),o=i[0],a=i[1];return Object.assign({},e,((n={})[o]=a,n))}),{}))),v=d.dcoTracking,h=d.dco,g=!pt()(h)&&!pt()(h.state),m=va(v);if(g&&d.redirectUrl)return p.push({name:Jo,value:n.pathname,expires:60},{name:Zo,value:Qo(h),expires:60},{name:Ko,value:Qo(v),expires:60}),{redirectUrl:(a=(0,st.Qc)(d.redirectUrl),s=n,u=So()(["state","ic"],h),l=Object.assign({},a),void 0!==u&&(l.query=Object.assign({},l.query,{dco_ic:u})),l=Object.assign({},l,{query:(c=Object.assign({},l.query,s.query),en()((function(e){if(Ii()(e)){var t=ne()(e);return 1===t.length?t[0]:t}return e}),c))}),"/"!==(l=ta()(la,l)).pathname.slice(-1)&&(l.pathname+="/"),(0,st.WU)(l)),redirectCode:d.redirectCode,cookieSet:p};var y=function(e,t){var n=e[Zo],r=e[Ko],i={};if(n)try{i.dco=JSON.parse(n)}catch(e){t.error(e,"error occurred while parsing dco cookie "+Zo)}if(r)try{i.dcoTracking=JSON.parse(r)}catch(e){t.error(e,"error occurred while parsing dco cookie "+Ko)}return i}(r,this.logger),b=y.dco,_=y.dcoTracking;b&&p.push({name:Zo,value:"",expires:new Date(0)}),_&&p.push({name:Ko,value:"",expires:new Date(0)});var E=g||!b?h:b,w=m||va(_)?v:_,S=function(e){var t=e.dcoData,n=e.dcoTrackingData,r=e.query,i=e.dcoResponseHeaders,o=e.decodedUserCookie,a=e.referrer,s=ze()(["dco_ic"],"",r),u=So()(["x-dco-ic"],i),c={dcoTracking:n,personalizedLandingMetrics:t,dco:{referrer:a,ic:So()(["state","ic"],t)||u||s}};return o.beforeRedirectPageUrl&&(c.dco.beforeRedirectPageUrl=o.beforeRedirectPageUrl),c}({referrer:i,query:n.query,dcoData:E,dcoTrackingData:w,dcoResponseHeaders:f,decodedUserCookie:r});return{cookieSet:p,dcoData:E,trackingData:S}},t.getDcoResponseStatus=function(){var e,t,n,r;return null===(r=null===(n=null===(t=null===(e=this.latestResponse)||void 0===e?void 0:e.dcoResponse)||void 0===t?void 0:t.dco)||void 0===n?void 0:n.techInfo)||void 0===r?void 0:r["response-status"]},e}(),ma=(0,R.y)("Set DCO tracking data"),ya=(0,E.L)("dcoTracking",{}).on(ma,(function(e,t){var n,r=t.path,i=t.data;return Object.assign({},e,((n={})[r]=i,n))})),ba=[{provide:b.Ym,multi:!0,useValue:[ya]}];function _a(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function Ea(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var wa=function(){};wa=(0,f.__decorate)([(0,h.Y)({providers:[].concat(Ea(i.Z,ba),[(0,u.J)({provide:y.sQ,multi:!0,scope:l.s.REQUEST,useValue:[{key:"DCO_SERVICE",optional:!0,dehydrate:!0}]}),(0,u.J)({provide:"dcoClient",scope:l.s.REQUEST,useFactory:function(e){var t=e.logger,n=e.requestManager;return new ga({logger:t,clientParametersFactory:function(){return{pageUrl:n.getUrl(),userHeaders:n.getHeaders()}}})},deps:{logger:Q.Fp,requestManager:at.G}}),(0,u.J)({provide:co.eZ,multi:!0,scope:l.s.REQUEST,useFactory:function(e){var t=e.cookieManager,n=e.context,i=e.dcoClient,o=e.routesFallback,s=e.envManager,u=e.domainResolve,c=e.requestManager;return function(e){return function(){var l=(0,r.Z)(a().mark((function r(l){var d,f,p,v,h,g,m;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!c.getHeader("x-tramvai-static-page-revalidate")){r.next=2;break}return r.abrupt("return",e(l));case 2:return o&&e(l).then((function(e){var t=e.route,n=e.payload;t&&("string"!=typeof n&&"page"in n&&n.page.matchedUrlParams?o.set(Object.assign({},t,{alias:l.url.pathname}),{appId:l.appId}):o.set(t,{appId:l.appId}))})).catch((function(){})),d=i.getDcoRequestParams({appId:l.appId,service:s.get("DCO_SERVICE")}),r.next=6,Promise.all([e(Object.assign({},l,{shouldSetFallback:!1,requestOptions:Object.assign({},l.requestOptions,{headers:d.headers,query:d.payload,cache:!1})})),u()]);case 6:if(f=r.sent,p=_a(pe.Z,f,2),v=p[0],h=p[1],Jr()(v.payload)){r.next=12;break}return r.abrupt("return",v);case 12:if((g=i.getUserResponseParams({dcoResponseHeaders:v.headers,dcoResponse:v.payload})).cookieSet.forEach((function(e){return t.set(e)})),"trackingData"in g&&n.dispatch(ma({path:l.url.pathname,data:g.trackingData})),!("redirectUrl"in g)){r.next=18;break}return m=Si()(new RegExp("^https://(?:"+h+"|"+h.replace(/^www\./,"")+")"),"",g.redirectUrl),r.abrupt("return",Object.assign({},v,{payload:Object.assign({},v.payload,{redirectUrl:m}),route:Object.assign({},v.route,{name:"dco-redirect",redirect:{url:m,code:+g.redirectCode,preserveQuery:!1}})}));case 18:return r.abrupt("return",v);case 19:case"end":return r.stop()}}),r)})));return function(e){return l.apply(this,arguments)}}()}},deps:{cookieManager:k.T,context:A.l,routesFallback:{token:co.c3,optional:!0},envManager:y.vC,domainResolve:co.xO,requestManager:at.G,dcoClient:"dcoClient"}}),(0,u.J)({provide:"router afterNavigateHooks",multi:!0,useFactory:function(e){var t=e.store,n=e.tracking;return function(){var e=(0,r.Z)(a().mark((function e(r){var i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.to,o=r.url,s=(null==i?void 0:i.path)||(null==o?void 0:o.pathname)){e.next=4;break}return e.abrupt("return");case 4:u=t.getState(ya),null==n||n.extend(u[s]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{tracking:{token:Uo.t3,optional:!0},store:b.kR}})],Ea(i.Z,[]))})],wa);var Sa=n(67570),Ta=n(28288),Aa=n.n(Ta);var ka,Oa=function(){function e(){this.state=new Map}var t=e.prototype;return t.eachMeta=function(e){this.state.forEach((function(t,n){return e(t,n)}))},t.updateStateByPriority=function(e,t){var n=this.state.get(e);(!n||t.priority>=n.priority)&&this.state.set(e,t)},t.updateMeta=function(e,t){var n=this;return v()((function(t,r){(t||null===t)&&n.updateStateByPriority(r,{value:t,priority:e})}),t),this},t.get=function(e){return this.state.get(e)},t.reset=function(){this.state.clear()},t.getSerializableState=function(){return Array.from(this.state.entries())},t.mergeValuesFromSerializableState=function(e){var t=this;e.forEach((function(e){var n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,e,2),r=n[0],i=n[1];t.updateStateByPriority(r,i)}))},e}(),Ca=(0,Y.V3)("metaDefaultPack"),Ra=(0,Y.V3)("metaWalk"),Ia=(0,Y.V3)("metaUpdater",{multi:!0}),Na=(0,Y.V3)("applyMeta"),Ma=(0,R.y)("set application metaWalk state"),xa=(0,E.L)("appMeta",{serverMetaWalkState:[]}).on(Ma,(function(e,t){return Object.assign({},e,{serverMetaWalkState:t})})),Pa=n(77125),La=n.n(Pa),Da=function(e){return La()("tag",e)?e:null},ja=function(){function e(e){var t=e.list,n=e.transformValue,r=void 0===n?le():n,i=e.converters,o=void 0===i?{}:i,a=e.metaWalk;this.listSources=t,this.transformValue=r,this.converters=o,this.metaWalk=null!=a?a:new Oa}return e.prototype.dataCollection=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.listSources.map((function(t){return t.apply(void 0,[e.metaWalk].concat(n))}));var i=[];return this.metaWalk.eachMeta((function(t,n){if(null!==t.value){var r=e.transformValue(t),o=(e.converters[n]||Da)(r.value);o&&(i=i.concat(Ii()(o)?o.filter(le()):o))}})),i},e}(),Ba="data-meta-dynamic",Ua=function(e){var t=e.tag,n=e.attributes,r=e.innerHtml,i=document.createElement(t);return r&&(i.innerHTML=r),n&&v()((function(e,t){i.setAttribute(t,e||"")}),n),i.setAttribute(Ba,"true"),i},Fa=function(){function e(e){this.meta=e}var t=e.prototype;return t.patchMeta=function(e){var t=e.head,n=e.addTags,r=e.removeTagsArray,i=!1;n.forEach((function(e){var n;if("title"===e.tagName.toLowerCase())n=r.find((function(e){return"title"===e.tagName.toLowerCase()}));else if("meta"===e.tagName.toLowerCase()&&"robots"===e.getAttribute("name"))i=!0;else if("meta"===e.tagName.toLowerCase()){var o=e.getAttribute("name"),a=e.getAttribute("property");n=r.find((function(e){return"meta"===e.tagName.toLowerCase()&&(o&&e.getAttribute("name")===o||a&&e.getAttribute("property")===a)&&"robots"!==e.getAttribute("name")}))}else"link"===e.tagName.toLowerCase()&&(n=r.find((function(t){return"link"===t.tagName.toLowerCase()&&"canonical"===t.getAttribute("rel")&&t.getAttribute("href")===e.getAttribute("href")})));n&&t.removeChild(n)})),i&&r.filter((function(e){return"robots"===e.getAttribute("name")})).forEach((function(e){t.removeChild(e)}))},t.update=function(e){void 0===e&&(e=!1);var t=document.head||document.querySelector("head"),n=this.meta.dataCollection().map(Ua),r=t.querySelectorAll("["+Ba+"]"),i=document.createDocumentFragment(),o=Array.from(r);e?this.patchMeta({head:t,addTags:n,removeTagsArray:o}):o.forEach((function(e){return t.removeChild(e)})),n.forEach((function(e){return i.appendChild(e)})),t.insertBefore(i,t.firstChild)},e}(),Va=n(24970),Wa=n.n(Va),qa=n(18826),Ha=n.n(qa),Ga=Wa()(Zr(),Ha(),le()),Za=function(e){return e.priority>10?{priority:e.priority,value:Ga(e.value)}:e},Ka=n(95775),Ja=n.n(Ka),za=Ja()(2,(function(e,t){return t&&{tag:e,innerHtml:t}})),Ya=Ja()(2,(function(e,t){return t&&{tag:"meta",attributes:{name:e,content:t}}})),Qa=Ja()(2,(function(e,t){return t&&{tag:"meta",attributes:{property:e,content:t}}})),Xa=Ja()(2,(function(e,t){return t&&{tag:"link",attributes:{rel:e,href:t}}})),$a=[Ya("robots","noindex, follow"),Ya("robots","noarchive")],es=[Ya("robots","index, nofollow"),Ya("robots","noarchive")],ts=[Ya("robots","none"),Ya("robots","noindex, nofollow"),Ya("robots","noarchive")],ns={all:[Ya("robots","all"),Ya("robots","index, follow"),Ya("robots","noarchive")],noindex:$a,"noindex, follow":$a,nofollow:es,"index, nofollow":es,none:ts,"noindex, nofollow":ts},rs={title:za("title"),description:Ya("description"),keywords:Ya("keywords"),canonical:Xa("canonical"),viewport:Ya("viewport"),ogTitle:Qa("og:title"),ogDescription:Qa("og:description"),ogSiteName:Qa("og:site_name"),ogUrl:Qa("og:url"),ogType:Qa("og:type"),ogImage:Qa("og:image"),ogImageSecure:Qa("og:image:secure_url"),ogImageType:Qa("og:image:type"),ogImageAlt:Qa("og:image:alt"),ogImageWidth:Qa("og:image:width"),ogImageHeight:Qa("og:image:height"),ogLocale:Qa("og:locale"),twitterTitle:Ya("twitter:title"),twitterDescription:Ya("twitter:description"),twitterCard:Ya("twitter:card"),twitterSite:Ya("twitter:site"),twitterCreator:Ya("twitter:creator"),twitterImage:Ya("twitter:image"),twitterImageAlt:Ya("twitter:image:alt"),robots:function(e){return ns[e]}},is=(0,u.J)({provide:Na,useFactory:function(e){var t=e.di;return function(e){var n=(void 0===e?{}:e).metaObj,r=t.get(Ra);n&&r.updateMeta(20,n);var i=new ja({list:Qe()(t.get({token:Ia,optional:!0,multi:!0})||[]),metaWalk:r,transformValue:Za,converters:rs});new Fa(i).update()}},deps:{di:m.Z}}),os=function(e,t){void 0===t&&(t={});var n={};return Object.keys(t).forEach((function(r){var i;n[e+(i=r,""+i.charAt(0).toUpperCase()+i.slice(1))]=t[r]})),n},as=[is,{provide:Ra,useClass:Oa},{provide:Ca,useValue:{title:"Tramvai"}},{provide:Ia,multi:!0,useFactory:function(e){var t,n=e.defaultMeta;return t=n,function(e){e.updateMeta(0,t)}},deps:{defaultMeta:Ca}},(0,u.J)({provide:Ia,useFactory:function(e){var t=e.pageService;return function(e){var n=t.getMeta().seo||{},r=(t.getConfig()||{}).pageComponent,i=t.getComponent(r),o=i&&i.seo||{},a=Aa()({},n,o),s=a.shareSchema||{},u=Object.assign({},a.metaTags,os("twitter",s.twitterCard),os("og",s.openGraph));e.updateMeta(10,u)}},multi:!0,deps:{pageService:Zt.Y9}}),{provide:Ia,multi:!0,useFactory:function(e){var t=e.context,n=e.metaList,r=Qe()(n||[]);return function(e){r.forEach((function(n){return n(t,e)}))}},deps:{context:A.l,metaList:{token:"metaList",optional:!0}}},(0,u.J)({provide:b.Ym,multi:!0,useValue:xa})],ss=ka=function(){function e(){}return e.forRoot=function(e){if(Ii()(e))return{mainModule:ka,providers:[{provide:"metaList",useValue:e,multi:!0}]};var t=e.metaUpdaters,n=e.metaDefault,r=[];return n&&r.push({provide:Ca,useValue:n}),t&&r.push({provide:Ia,useValue:t,multi:!0}),{providers:r,mainModule:ka}},e}();ss=ka=(0,f.__decorate)([(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,as),[(0,u.J)({provide:"router beforeNavigateHooks",multi:!0,useFactory:function(e){var t=e.metaWalk;return function(){t.reset()}},deps:{metaWalk:Ra}}),(0,u.J)({provide:It,scope:l.s.SINGLETON,multi:!0,useFactory:function(e){var t=e.applyMeta;return function(e,n,r){if("client"===n&&("afterSpa"===r||"customer"===r)){var i=e.get(Ra);if("customer"===r){var o=e.get({token:b.E6,optional:!0});i.mergeValuesFromSerializableState(o.stores.appMeta.serverMetaWalkState)}t()}}},deps:{applyMeta:Na}})])})],ss);var us,cs=(0,Y.V3)("metricsModule"),ls=(0,Y.V3)("metricsServicesRegistry"),ds=function(e){return Math.round(e)/1e3},fs=function(e){return function(t){return e.test(t)}},ps=fs(/\.js$/),vs=fs(/\.css$/),hs=fs(/\.(?:svg|png|jpeg|webp|jpg)$/),gs=fs(/\.(?:woff|eot|woff2|ttf)/);!function(e){e.html="html",e.js="js",e.css="css",e.img="img",e.font="font",e.other="other"}(us||(us={}));var ms=function(e,t){if(e.getEntriesByType)return e.getEntriesByType(t)},ys=function(e){var t=ms(e,"paint");return t&&t[0]?t[0].startTime:0},bs=function(e,t){return e&&e[t]||0},_s=function(e,t){return{duration:bs(e,"duration")+ds(t.duration),transferSize:bs(e,"transferSize")+t.transferSize,encodedBodySize:bs(e,"encodedBodySize")+t.encodedBodySize}},Es=function(){function e(e){}var t=e.prototype;return t.get=function(){},t.inc=function(){},t.reset=function(){},t.remove=function(){},t.labels=function(){return{inc:function(){}}},e}(),ws=function(){function e(e){}var t=e.prototype;return t.get=function(){},t.inc=function(){},t.dec=function(){},t.set=function(){},t.setToCurrentTime=function(){},t.reset=function(){},t.remove=function(){},t.startTimer=function(e){return function(e){return 0}},t.labels=function(){return{inc:function(){},dec:function(){},set:function(){},setToCurrentTime:function(){},startTimer:function(){return function(e){return 0}}}},e}(),Ss=function(){function e(e){}var t=e.prototype;return t.get=function(){},t.observe=function(){},t.startTimer=function(e){return function(e){return 0}},t.reset=function(){},t.remove=function(){},t.labels=function(){return{observe:function(){},startTimer:function(){return function(){return 0}}}},t.zero=function(){},e}(),Ts=function(){function e(e){}var t=e.prototype;return t.get=function(){},t.observe=function(){},t.startTimer=function(){return function(e){return 0}},t.reset=function(){},t.labels=function(e){return{observe:function(){},startTimer:function(){return function(e){return 0}}}},t.remove=function(){},e}(),As=(0,Y.V3)("HTTP_CLIENT_FACTORY"),ks=(0,Y.V3)("DEFAULT_HTTP_CLIENT_FACTORY_OPTIONS"),Os=(0,Y.V3)("DEFAULT_HTTP_CLIENT_INTERCEPTORS",{multi:!0}),Cs=(0,Y.V3)("HTTP_CLIENT"),Rs=(0,Y.V3)("HTTP_CLIENT_AGENT"),Is=(0,Y.V3)("apiClientPassHeaders",{multi:!0}),Ns=(0,Y.V3)("papi service"),Ms=(0,Y.V3)("disable circuit breaker"),xs=(0,R.y)("set instant metrics map"),Ps=(0,E.L)("instantMetrics",{instantMetricsMap:{}}).on(xs,(function(e,t){return t})),Ls=[{provide:b.Ym,multi:!0,useValue:[Ps]}],Ds=function(){};Ds=(0,f.__decorate)([(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Ls),[{provide:c.Bi.init,scope:l.s.SINGLETON,multi:!0,useFactory:function(e){var t=e.logger,n=e.papiService,r=e.context;if(!n)return function(){};var i=r.getStore("instantMetrics").getState().instantMetricsMap,o=new z.RemoteReporter({requestCount:1,emitLevels:{trace:!0,debug:!0,info:!0,warn:!0,error:!0,fatal:!0},makeRequest:function(e){return i[e.event]?n.request({path:"metrics/"+e.event,method:"post",payload:e.value?{value:e.value}:{}}).then((function(e){return e.payload})):Promise.resolve()}});return function(){t.addReporter(o)}},deps:{papiService:{token:Ns,optional:!0},context:A.l,logger:Q.Fp}}])})],Ds);var js=function(){};js=(0,f.__decorate)([(0,h.Y)({imports:[Ds],providers:[{provide:cs,useFactory:function(){return{counter:function(e){return new Es(Object.assign({},e))},gauge:function(e){return new ws(Object.assign({},e))},histogram:function(e){return new Ss(Object.assign({},e))},summary:function(e){return new Ts(Object.assign({},e))}}},scope:l.s.SINGLETON},{provide:c.Bi.init,useFactory:function(e){var t=e.logger,n=e.pageService;return function(){window.addEventListener("load",(function(){setTimeout((function(){var e,r,i=function(){var e;try{if(!(e=window.performance).timing||!e.timing.loadEventEnd)throw 0===e.timing.loadEventEnd&&console.error("Library used at browser initialization page. Reed docs"),new Error("Not implemented timing api")}catch(e){return{}}var t=e.timing,n=t.requestStart,r=t.responseStart,i=t.responseEnd,o=t.domComplete,a=t.loadEventEnd,s=t.domInteractive,u=t.navigationStart,c=[{key:"connection",start:u,end:n},{key:"backend",start:n,end:r},{key:"pageDownload",start:r,end:i},{key:"first-paint",start:0,end:ys(e)},{key:"domInteractive",start:u,end:s},{key:"domComplete",start:u,end:o},{key:"pageLoadTime",start:u,end:a}],l={};return c.forEach((function(e){var t=ds(e.end-e.start);l[e.key]=t>0||t<2e3?t:void 0})),l.download=function(e){var t={},n=ms(e,"resource");if(n&&n.length>0){var r={};n.forEach((function(e){var n=function(e){switch(!0){case vs(e):return us.css;case ps(e):return us.js;case hs(e):return us.img;case gs(e):return us.font;default:return us.other}}(e.name.split("?",1)[0]);us[n]&&(r[n]||(r[n]=0),r[n]++,t[n]=_s(t[n],e),t[n].count=r[n])}))}var i=ms(e,"navigation");return i&&i.length>0&&(t[us.html]=_s({},i[0])),t}(e),l}();t({name:"metrics:perf",defaults:{remote:{emitLevels:{info:!0}}}}).info(Object.assign({},i,{event:"perf-timings",deviceType:-1!==(null===(e=navigator.userAgent)||void 0===e?void 0:e.indexOf("Mobi"))?"mobile":"desktop",urlMask:null===(r=n.getCurrentRoute())||void 0===r?void 0:r.path}))}),0)}))}},multi:!0,deps:{logger:Q.Fp,pageService:Zt.Y9}}]})],js);var Bs=(0,Y.V3)("serverModulePapiPublicUrl",{scope:l.s.SINGLETON}),Us=(0,Y.V3)("serverModulePapiPrivateUrl",{scope:l.s.SINGLETON}),Fs=(0,Y.V3)("serverModulePapiPrivateRoute",{multi:!0,scope:l.s.SINGLETON}),Vs=(l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,[{provide:Bs,useFactory:function(e){return"/"+e.appInfo.appName+"/papi"},deps:{appInfo:g.Qo}},{provide:Us,useFactory:function(e){return"/"+e.appInfo.appName+"/private/papi"},deps:{appInfo:g.Qo}}]),Ws=function(){};Ws=(0,f.__decorate)([(0,h.Y)({providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Vs)})],Ws);var qs=function(){};qs=(0,f.__decorate)([(0,h.Y)({imports:[js,Ws].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,[!1].filter(Boolean))),providers:[]})],qs);var Hs=n(13641),Gs=n.n(Hs);function Zs(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function Ks(e,t,n){if(null==n?void 0:n.replace)return Object.assign({},e,t);var r=Object.assign({},e,t,{query:Object.assign({},e.query,t.query),headers:Object.assign({},e.headers,t.headers),interceptors:[].concat(Zs(i.Z,e.interceptors||[]),Zs(i.Z,t.interceptors||[]))}),o=function(n){e[n]&&t[n]&&(r[n]=wt()(t[n],e[n]))};return o("modifyRequest"),o("modifyResponse"),o("modifyError"),r}var Js,zs,Ys=n(17848),Qs=n.n(Ys),Xs=n(22422),$s=n.n(Xs),eu=n(46226),tu=n.n(eu),nu=n(38507),ru=n.n(nu);!function(e){e.INIT="init",e.COMPLETE="complete",e.ERROR="error"}(zs||(zs={}));var iu=zs,ou=function(){function e(e){this.state=Object.assign({status:iu.INIT,request:null,response:null,error:null},e),this.internalMeta={},this.externalMeta={}}var t=e.prototype;return t.getState=function(){return this.state},t.setState=function(e){var t=$s()([this.state],e);t&&(this.state=Object.assign({},this.state,t))},t.getInternalMeta=function(e){return this.getMeta(e,this.internalMeta)},t.getExternalMeta=function(e){return this.getMeta(e,this.externalMeta)},t.updateInternalMeta=function(e,t){this.internalMeta=this.extendMeta(e,t,this.internalMeta)},t.updateExternalMeta=function(e,t){this.externalMeta=this.extendMeta(e,t,this.externalMeta)},t.getStatus=function(){return this.state.status},t.getResponse=function(){return this.state.response},t.getRequest=function(){return this.state.request},t.getMeta=function(e,t){return void 0===t&&(t=this.externalMeta),e?t[e]:t},t.extendMeta=function(e,t,n){var r;if(void 0===n&&(n=this.externalMeta),t)return Object.assign({},n,((r={})[e]=Object.assign({},n[e],t),r))},e}(),au=((Js={})[iu.INIT]=iu.COMPLETE,Js),su=n(28296),uu=n.n(su),cu="log",lu=function(e){var t=e.getExternalMeta(cu),n=Date.now(),r=n-t.start;e.updateExternalMeta(cu,{end:n,duration:r})},du=function(e){return{debug:function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=console).debug.apply(t,[e].concat(r))},error:function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=console).error.apply(t,[e].concat(r))}}},fu=function(e,t){return!0===t?e:Jr()(e)?!1===t?en()((function(){return"*"}),e):en()((function(e,n){return t.has(n)?e:"*"}),e):"*"},pu="cache",vu=pu,hu="PROTOCOL_HTTP",gu=function(e,t){return function(n){var r,i,o,a,s,u=n.getRequest(),c=null!==(r=uu()("cacheForce",u))&&void 0!==r&&r,l=null!==(i=uu()(e+"CacheForce",u))&&void 0!==i?i:c,d=null!==(o=uu()("cache",u))&&void 0!==o?o:t,f=null!==(a=uu()(e+"Cache",u))&&void 0!==a?a:d;return n.getStatus()===iu.INIT&&n.updateExternalMeta(pu,((s={forced:c,enabled:d})[e+"Enabled"]=f,s[e+"Force"]=l,s)),l?n.getStatus()===iu.COMPLETE:f}},mu=function(e){var t=e.httpMethod,n=void 0===t?"GET":t,r=e.url,i=e.payload,o=e.query,a=e.rawQueryString,s=void 0===a?"":a,u=e.additionalCacheKey,c=void 0===u?"":u;return n.toLowerCase()+r+JSON.stringify(i||"")+JSON.stringify(o||"")+s+JSON.stringify(c)},yu=function(e,t){void 0===t&&(t=mu);var n=uu()("key",e.getInternalMeta(pu));return n||(n=t(e.getRequest()),e.updateInternalMeta(pu,{key:n})),n},bu=function(e){var t=void 0===e?{}:e,n=t.shouldExecute,r=void 0===n||n,i=t.getCacheKey,o=void 0===i?void 0:i,a={},s=function(e){var t=e.getState(),n=yu(e,o);if(n&&a[n]){var r=a[n];delete a[n],r.forEach((function(e){e({status:t.status,response:t.response,error:t.error})}))}};return{shouldExecute:gu("deduplicate",r),init:function(e,t){var n=yu(e,o);if(a[n])return e.updateExternalMeta(vu,{deduplicated:!0}),void a[n].push(t);a[n]=[],t()},complete:function(e,t){s(e),t()},error:function(e,t){s(e),t()}}},_u=n(77367),Eu=n.n(_u),wu=Eu()({}),Su=3e5,Tu=function(e){var t=void 0===e?{}:e,r=t.lruOptions,i=void 0===r?{max:1e3,ttl:Su}:r,o=t.shouldExecute,a=void 0===o||o,s=t.allowStale,u=void 0!==s&&s,c=t.staleTtl,l=void 0===c?"ttl"in i?i.ttl:Su:c,d=t.staleBackgroundRequestTimeout,f=void 0===d?void 0:d,p=t.memoryConstructor,v=void 0===p?function(e){return new(n(56868))(e)}:p,h=t.getCacheKey,g=void 0===h?void 0:h,m=v(Object.assign({},i,{allowStale:!0}));return{shouldExecute:gu("memory",a),init:function(e,t,n){var r=yu(e,g);if(m.has(r)){e.updateExternalMeta(vu,{memoryCache:!0,memoryCacheOutdated:!1});var i=m.get(r);return i.status&&e.updateInternalMeta(hu,{response:{status:i.status}}),t({status:iu.COMPLETE,response:i.response})}var o=ru()("memoryCacheAllowStale",u,e.getRequest())&&m.peek(r);if(o){var a=e.getRequest();return e.updateExternalMeta(vu,{memoryCache:!0,memoryCacheOutdated:!0}),o.status&&e.updateInternalMeta(hu,{response:{status:o.status}}),m.set(r,o,{ttl:l}),setTimeout((function(){return n(Object.assign({},a,{timeout:(e={requestTimeout:a.timeout,configTimeout:f},t=e.requestTimeout,r=e.configTimeout,r||(t?2*t:void 0)),memoryCacheForce:!0,memoryCacheBackground:!0,signal:void 0,abortPromise:void 0})).catch((function(){}));var e,t,r}),15),t({status:iu.COMPLETE,response:o.response})}t()},complete:function(e,t){var n,r=yu(e,g),i=uu()("memoryCacheTtl",e.getRequest()),o={response:e.getResponse()},a=e.getInternalMeta(hu);(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status)&&(o.status=a.response.status),m.set(r,o,{ttl:i}),e.updateExternalMeta(vu,{memoryCacheBackground:uu()("memoryCacheBackground",e.getRequest())}),t()}}},Au=n(8152),ku=n.n(Au),Ou="validate",Cu=n(8729),Ru=n.n(Cu),Iu=n(60694),Nu=n.n(Iu);function Mu(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var xu=function(e,t){void 0===t&&(t="");var n=new URLSearchParams(t);return function e(t,r){void 0===r&&(r=[]),v()((function(t,o){if(!Gs()(t)){var a=r.length?[].concat(Mu(i.Z,r),[o]):[o];Jr()(t)?e(t,a):n.set(Nu()((function(e,t,n){return n?e+"["+t+"]":t}),"",a),t)}}),t)}(e),n.toString()},Pu=n(94905),Lu=n.n(Pu),Du=n(18542),ju=n.n(Du),Bu=n(15081),Uu=n.n(Bu),Fu="PROTOCOL_HTTP",Vu={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded","multipart/form-data":""},Wu=function(e){var t=e.getInternalMeta(Fu);return t&&t.response},qu=function(e){var t=function(e){return uu()("headers",Wu(e))}(e),n={};return t&&t.forEach((function(e,t){n[t]="set-cookie"===t?[]:e})),n},Hu=function(e){return uu()("status",Wu(e))},Gu=function(e){return"ERR_HTTP_ERROR"===e.code},Zu=function(e){return function(e){return"ERR_HTTP_REQUEST_TIMEOUT"===e.code}(e)||Gu(e)&&!e.status},Ku=function(e){return Gu(e)&&e.status>=500},Ju="undefined"!=typeof self?self:window,zu=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).code="ERR_HTTP_REQUEST_TIMEOUT",t.message="Request timed out",t}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error)),Yu=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).code="ABORT_ERR",t}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error)),Qu=Eu()({}),Xu="retry",$u=["logger","name","disableCache","enableCircuitBreaker","createCache","cacheTime","defaultTimeout","validator","errorValidator","errorModificator","circuitBreakerOptions","getCacheKey","lruOptions","allowStale","agent","querySerializer","retryOptions","etagCacheOptions","interceptors"];function ec(e){var t,n,r,i,o,a,s=e.logger,u=e.name,c=e.disableCache,l=e.enableCircuitBreaker,f=e.createCache,p=e.cacheTime,h=void 0===p?3e4:p,g=e.defaultTimeout,m=e.validator,y=e.errorValidator,b=e.errorModificator,_=e.circuitBreakerOptions,E=void 0===_?{}:_,w=e.getCacheKey,S=e.lruOptions,T=void 0===S?{max:1e3,maxAge:h}:S,A=e.allowStale,k=void 0===A||A,O=e.agent,C=e.querySerializer,R=e.retryOptions,I=e.etagCacheOptions,N=(e.interceptors,(0,d.Z)(e,$u)),M=(s&&s(u+":initialization"),"function"==typeof f?function(e){return f(Object.assign({name:"http-client-"+u},e))}:void 0),x=[];x.push({init:function(e,t){t({request:Object.assign({timeout:g},e.getRequest())})}}),x.push((t={baseUrl:N.baseUrl,transform:function(e){var t=e.baseUrl,n=e.path,r=e.url;if(r)return r;if(t&&n){var i=!("/"===t.slice(-1));return"/"===n.slice(0,1)&&(n=n.substring(1)),t+(i?"/":"")+n}return t||n||""}},r=(n=void 0===t?{}:t).baseUrl,i=void 0===r?"":r,a=void 0===(o=n.transform)?function(e){return""+e.baseUrl+e.url}:o,{init:function(e,t){var n=e.getRequest();t({request:Object.assign({},n,{url:a(Object.assign({},n,{baseUrl:n.baseUrl||i}))})})}})),x.push(function(e){var t=e.name,n=e.logger,r=e.showQueryFields,i=void 0!==r&&r,o=e.showPayloadFields,a=void 0!==o&&o,s=(void 0===n?du:n)("request."+(void 0===t?"":t)),u=function(e){var t=e.url,n=e.query,r=e.payload,o=e.showQueryFields,s=e.showPayloadFields,u=null!=o?o:i,c=null!=s?s:a;return{url:t,query:n&&fu(n,Ii()(u)?new Set(u):u),payload:r&&fu(r,Ii()(c)?new Set(c):c)}};return{init:function(e,t){var n=e.getRequest(),r=Date.now();uu()("silent",n)||s.debug({event:"init",info:u(n)}),e.updateExternalMeta(cu,{start:r}),t()},complete:function(e,t){lu(e);var n=e.getRequest();uu()("silent",n)||s.debug({event:"complete",info:u(n),meta:e.getExternalMeta()}),t()},error:function(e,t){var n=e.getRequest(),r=uu()("silent",n);lu(e),r||s.error({event:"error",info:u(n),error:e.getState().error,meta:e.getExternalMeta()}),t()}}}({logger:s,name:u,showQueryFields:!0,showPayloadFields:!0})),x.push(Tu({shouldExecute:!c,lruOptions:T,allowStale:k,getCacheKey:w,memoryConstructor:M})),x.push(bu({shouldExecute:!c,getCacheKey:w})),l&&x.push(Qu(Object.assign({isSystemError:Qs()(Ku,Zu)},E))),x.push({error:function(e,t){var n=e.getState(),r=null==b?void 0:b(n);return r?t({error:r}):t()}}),(m||y)&&x.push(function(e){var t=void 0===e?{}:e,n=t.validator,r=void 0===n?ku():n,i=t.allowFallback,o=void 0===i||i,a=t.errorValidator,s=void 0===a?ku():a;return{complete:function(e,t){var n=e.getState(),i=n.request,a=r(n);return e.updateExternalMeta(Ou,{validated:!a}),a?t({error:a,request:o?i:Object.assign({},i,{fallbackCache:!1}),status:iu.ERROR}):t()},error:function(e,t){var n=e.getState(),r=s(n);return e.updateExternalMeta(Ou,{errorValidated:!!r}),r?(e.updateExternalMeta(Ou,{error:n.error}),t({error:null,status:iu.COMPLETE})):t()}}}({validator:m,errorValidator:y,allowFallback:!0})),R&&x.push(function(e){var t=void 0===e?{}:e,n=t.retry,r=void 0===n?0:n,i=t.retryDelay,o=void 0===i?100:i,a=t.maxTimeout,s=void 0===a?6e4:a;return{init:function(e,t){e.updateInternalMeta(Xu,{startTime:Date.now()}),t()},error:function(e,t,n){var i,a,u=e.getRequest(),c=u.timeout||s,l=null!==(i=u.retry)&&void 0!==i?i:r,d=null!==(a=u.retryDelay)&&void 0!==a?a:o,f=e.getInternalMeta(Xu).startTime,p=0;!function r(){p<l?setTimeout((function(){var i=Date.now()-f;if(i>=c)return e.updateExternalMeta(Xu,{attempts:p,timeout:!0}),t();n(Object.assign({},u,{retry:0,timeout:c-i,silent:!0,retryDelay:void 0,cache:!1})).then((function(n){return e.updateExternalMeta(Xu,{attempts:p+1}),t({status:iu.COMPLETE,response:n})}),(function(){p++,r()}))}),$s()([p],d)):(l>0&&e.updateExternalMeta(Xu,{attempts:p,timeout:!1}),t())}()}}}(R)),(null==I?void 0:I.enabled)&&x.push(wu({shouldExecute:!c,getCacheKey:w,memoryConstructor:M,lruOptions:(null==I?void 0:I.lruOptions)||{max:1e3,ttl:6e5}})),x.push(function(e){var t=void 0===e?{}:e,n=(t.agent,t.querySerializer);return{init:function(e,t){var r,i,o,a,s,u,c=e.getRequest(),l=c.httpMethod,d=void 0===l?"GET":l,f=c.url,p=c.query,h=c.queryNoCache,g=c.headers,m=c.type,y=void 0===m?"form":m,b=c.payload,_=c.attaches,E=void 0===_?[]:_,w=c.timeout,S=c.credentials,T=c.withCredentials,A=c.abortPromise,k=c.responseType,O=c.signal,C=!1,R=d.toUpperCase(),I="GET"===R||"HEAD"===R;if(E.length)r=function(e,t){void 0===t&&(t=[]);var n=new(Uu());return v()((function e(t,r){if(Ii()(t))return gr()((function(t){return e(t,r)}),t);Gs()(t)||n.append(r,t)}),e),t.forEach((function(e){if(e instanceof window.Blob){var t=e.uploadName||e.name,r=e.fieldName||"file";n.append(r,e,encodeURIComponent(t))}})),n}(b,E),i=r.getHeaders&&r.getHeaders();else{var N=ru()(y,y,Vu);i=N?{"Content-type":N}:{},I||(r=function(e,t,n){switch(void 0===n&&(n=xu),e){case"form":case"urlencoded":case"form-data":return n(t);case"json":return JSON.stringify(t);default:return t}}(y,b,n))}if(Ru()){var M=new(Ru());a=M.signal;var x=function(e){C||(C=!0,M.abort(),t({status:iu.ERROR,error:e instanceof Error?e:Object.assign(new Yu,{abortOptions:e||{}})}))};A&&A.then(x),w&&(o=setTimeout((function(){x(new zu)}),w)),e.updateInternalMeta(Fu,{requestAbort:x}),O&&(O.aborted?x():O.addEventListener("abort",(function(){x()})))}else w&&(o=setTimeout((function(){t({status:iu.ERROR,error:new zu}),C=!0}),w));(function(){return Ju.fetch.apply(Ju,arguments)})(function(e,t,n){void 0===n&&(n=xu);var r=e.split("?",2),i=Mu(pe.Z,r,2),o=i[0],a=n(t,i[1]);return a?o+"?"+a:o}(f,Object.assign({},I?b:{},h,p),n),{signal:a,method:R,headers:Object.assign({},i,g),agent:void 0,credentials:null!=S?S:T?"include":"same-origin",body:r,timeout:w}).then((function(t){return s=t,e.updateInternalMeta(Fu,{response:s}),s[k]?s[k]():function(e){var t=Lu()(e.headers.get("content-type")||"");return ju()("application/json",t)?e.json():ju()("application/octet-stream",t)?e.arrayBuffer():e.text()}(s)})).then((function(e){if(!C){if(u=e,!s.ok)throw new Error(s.statusText);t({status:iu.COMPLETE,response:u})}})).catch((function(e){if(!C){if(e&&"string"==typeof e.type&&/timeout/.test(e.type))return t({status:iu.ERROR,error:new zu});try{Object.assign(e,{code:"ERR_HTTP_ERROR",status:s&&s.status,body:u})}catch(t){Object.assign(e,{__response:{code:"ERR_HTTP_ERROR",status:s&&s.status,body:u}})}t({status:iu.ERROR,error:e,response:u})}})).then((function(){C=!0,o&&clearTimeout(o)}))}}}({agent:O||void 0,querySerializer:C||void 0}));var P=function(e){return function t(n){var r=-1,i=e.length,o=new ou;o.setState({request:n});var a=new Promise((function(n,a){var s=function(e){var t=o.getState(),r=t.status,i=au[r];return e?u(r,-1):i?(o.setState({status:i}),u(i,-1)):void(r===iu.COMPLETE?n(t.response):a(Object.assign(t.error||{},{url:t.request.url})))},u=function(n,a){var u=o.getState().status;!function c(l){if(o.setState(l),o.getState().status!==u)return s(!0);if((r+=a)<0||r>=i)return s(!1);var d=e[r],f=d[n];if(!f||!$s()([o],ru()("shouldExecute",!0,d)))return c();try{f(o,tu()(c),t)}catch(e){return c({status:iu.ERROR,error:e})}}()};u(iu.INIT,1)}));return Object.assign(a,{getState:o.getState.bind(o),getInternalMeta:o.getInternalMeta.bind(o),getExternalMeta:o.getExternalMeta.bind(o)})}}(x);return P}var tc=function(){function e(){}var t=e.prototype;return t.get=function(e,t,n){return this.request(Object.assign({path:e},t,n,{method:"GET"}))},t.post=function(e,t,n){return this.request(Object.assign({path:e,requestType:"json"},t,n,{method:"POST"}))},t.put=function(e,t,n){return this.request(Object.assign({path:e,requestType:"json"},t,n,{method:"PUT"}))},t.delete=function(e,t,n){return this.request(Object.assign({path:e},t,n,{method:"DELETE"}))},e}(),nc=["method","body","requestType"],rc=["modifyRequest","modifyResponse","modifyError","interceptors"],ic=function(e){function t(t){var n,i=t.options,o=t.makeRequest;return(n=e.call(this)||this)._processMakeRequest=function(){var e=(0,r.Z)(a().mark((function e(t,r){var i,o,s,u,c,l,f,p,v,h,g,m,y,b,_,E,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.modifyRequest,o=r.modifyResponse,s=r.modifyError,u=i?i(t):t,c=u.method,l=u.body,f=u.requestType,p=(0,d.Z)(u,nc),c&&(p.httpMethod=c),l&&(p.payload=l),f&&(p.type=f),v=n.makeRequest(p),e.prev=6,e.next=9,v;case 9:return h=e.sent,g=Hu(v),m=qu(v),y={payload:h,status:g,headers:m},e.abrupt("return",o?o(y):y);case 16:throw e.prev=16,e.t0=e.catch(6),b=v.getExternalMeta(),_=Hu(v),E=qu(v),w=Object.assign(e.t0,{__meta:b,status:_,headers:E}),s?s(w,p):w;case 23:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}(),n.options=i,n.makeRequest=o,n}(0,_t.Z)(t,e);var n=t.prototype;return n.request=function(e){var t=this,n=Ks(this.options,e),r=n.modifyRequest,i=n.modifyResponse,o=n.modifyError,a=n.interceptors,s=(0,d.Z)(n,rc),u=function(e){return t._processMakeRequest(e,{modifyRequest:r,modifyResponse:i,modifyError:o})};return a&&Array.from(a).reverse().forEach((function(e){var t=u;u=function(n){return e(n,t)}})),u(s)},n.fork=function(e,n){return void 0===e&&(e={}),void 0===n&&(n={}),new t({options:Ks(this.options,e,n),makeRequest:this.makeRequest})},t}(tc),oc=function(e){return function(e){return e}},ac={defaultTimeout:3e4},sc=function(e){function t(t){var n;return(n=e.call(this)||this).httpClient=t,n}return(0,_t.Z)(t,e),t.prototype.request=function(e){return this.httpClient.request(e)},t}(tc),uc=function(e){function t(t){var n=(0,t.httpClientFactory)({name:"papi",baseUrl:t.baseUrl,validator:function(e){var t=e.response;if(!t.resultCode||!t.payload)return t.error||new Error(JSON.stringify(t))},modifyResponse:function(e){return Object.assign({},e,{payload:uu()("payload",e.payload)})}});return e.call(this,n)||this}return(0,_t.Z)(t,e),t}(sc),cc=(0,h.Y)({providers:[(0,u.J)({provide:Ns,scope:l.s.SINGLETON,useClass:uc,deps:{httpClientFactory:As,baseUrl:Bs}})]})((function(){})),lc=(0,Y.V3)("httpClient createCache"),dc=(0,h.Y)({imports:[cc],providers:[(0,u.J)({provide:As,useFactory:function(e){var t=e.logger,n=e.envManager,r=(e.appInfo,e.requestManager,e.headersList,e.createCache),i=e.makeRequestRegistry,o=e.agent,a=e.querySerializer,s=e.disableCircuitBreaker,u=void 0!==s&&s,c=e.defaultOptions,l=e.defaultInterceptors,d=e.commandLineExecutionContext;return function(e){var s;if(!e.name)throw Error('You need to pass a unique field "name" for the HTTP client instance');var f=n.get("HTTP_CLIENT_CACHE_DISABLED"),p=n.get("HTTP_CLIENT_CIRCUIT_BREAKER_DISABLED"),v={interceptors:l||[]},h=Ks(Ks(Object.assign({logger:t,agent:o,querySerializer:a,method:"GET",createCache:r?r.bind(null,"memory"):void 0,modifyRequest:wt()(oc(),(function(e){return e})),circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10},signal:null===(s=null==d?void 0:d())||void 0===s?void 0:s.abortSignal},ac),c?Ks(c,v):v),e);if(Gs()(f)||(h.disableCache=!!f),u&&(h.enableCircuitBreaker=!1),Gs()(p)||(h.enableCircuitBreaker=!p),!i.has(h.name)){var g=Object.assign({},h);delete g.signal,i.set(h.name,ec(g))}var m=i.get(h.name);return new ic({options:h,makeRequest:m})}},deps:{logger:Q.Fp,envManager:y.vC,appInfo:g.Qo,createCache:lc,makeRequestRegistry:"makeRequestRegistry",requestManager:{token:at.G,optional:!0},headersList:{token:Is,optional:!0},agent:{token:Rs,optional:!0},disableCircuitBreaker:{token:Ms,optional:!0},defaultOptions:{token:ks,optional:!0},defaultInterceptors:{token:Os,optional:!0},commandLineExecutionContext:{token:ue.p7,optional:!0}}}),(0,u.J)({provide:Cs,useFactory:function(e){return(0,e.factory)({name:"http-client",enableCircuitBreaker:!1})},deps:{factory:As}}),(0,u.J)({provide:y.sQ,useValue:[{key:"HTTP_CLIENT_CACHE_DISABLED",optional:!0,dehydrate:!1},{key:"HTTP_CLIENT_CIRCUIT_BREAKER_DISABLED",optional:!0,dehydrate:!1}]}),(0,u.J)({provide:"makeRequestRegistry",scope:l.s.SINGLETON,useFactory:function(){return new Map}}),(0,u.J)({provide:lc,scope:l.s.SINGLETON,useFactory:function(e){return e.createCache},deps:{createCache:Tn.xC}}),(0,u.J)({provide:Is,useValue:["x-request-id"]})]})((function(){})),fc=(0,Y.V3)("webUserId"),pc=/^[0-9a-f]{32}$/,vc=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/,hc=function(e,t){var n;if("cookies"===t.from)n=e.cookie.get("__P__wuid");else{var r=e.requestManager.getParsedUrl().query;"string"==typeof r.wuid&&(n=r.wuid)}if(n&&function(e){return pc.test(e)||vc.test(e)}(n))return n},gc=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:fc,useFactory:function(e){var t=hc(e,{from:"query"}),n=hc(e,{from:"cookies"});return null!=t?t:n},deps:{cookie:k.T,requestManager:at.G}})]})((function(){})),mc=function(e){function t(t){var n=t.httpClient;return e.call(this,n)||this}return(0,_t.Z)(t,e),t.prototype.getResources=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),r=n.query,i=void 0===r?{}:r,e.next=4,this.request(Object.assign({},n,{path:"resources",query:Object.assign({},i,{name:t})}));case 4:return o=e.sent,s=o.payload,e.abrupt("return",s||{});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(sc),yc=function(e){function t(t){var n,r=t.httpClient;return(n=e.call(this,r)||this).pagesIntegrationApi="pages/api/integration/v1",n}(0,_t.Z)(t,e);var n=t.prototype;return n.buildJsonRpcParams=function(e,t){return{path:this.pagesIntegrationApi+"/"+e,method:"POST",requestType:"json",body:{method:e,params:t,id:"null",jsonrpc:"2.0"}}},n.getRoutesByDomainAndAppId=function(e){return this.request(this.buildJsonRpcParams("getRoutesByDomainAndAppId",e))},t}(sc),bc=function(){function e(e){var t=e.httpClient;this.httpClient=t}var t=e.prototype;return t.getResponse=function(t,n){return this.httpClient.request(Object.assign({},n,{path:e.pageEnrichmentApi+"/getResponse",query:Object.assign({},null==n?void 0:n.query,t)}))},t.getPreview=function(t,n){return this.httpClient.request(Object.assign({},n,{path:e.pageEnrichmentApi+"/getPreview",query:Object.assign({},null==n?void 0:n.query,t)}))},e}();bc.pageEnrichmentApi="web-gateway";var _c,Ec=function(e){if(!e)return"value should not be empty";var t;try{t=e.startsWith("/")?new URL(e,"http://localhost:3000"):new URL(e)}catch(e){return"URL is not valid"}return"http:"!==t.protocol&&"https:"!==t.protocol&&"Invalid protocol "+t.protocol},wc=function(e){return function(t){return t?!!t.endsWith(e)||"value should ends with "+e:"value should not be empty"}},Sc=function(e){return function(t){return e.reduce((function(e,n){var r=n(t);return Zr()(r)?Zr()(e)?e+"; "+r:r:Zr()(e)?e:e&&r}),!0)}},Tc={cacheTime:6e5,defaultTimeout:3e4},Ac=function(e){return Object.assign({},e,{payload:e.payload.response||e.payload.result||So()(["error","message"],e.payload)})},kc=function(e){return Object.assign({},e,{payload:ru()("value",{},Ac(e).payload)})},Oc=function(e){var t,n;return null!==(n=null===(t=e.request.path)||void 0===t?void 0:t.split("/")[0])&&void 0!==n?n:""},Cc=(0,h.Y)({providers:[(0,u.J)({provide:y.sQ,scope:l.s.SINGLETON,useFactory:function(e){var t=e.dehydrateConfigApi,n=e.dehydrateResourcesApi;return[{key:"CONFIG_API",validator:Sc([Ec,wc("/")]),dehydrate:null===t||t},{key:"RESOURCES_API",validator:Sc([Ec,wc("/")]),dehydrate:null===n||n},{key:"INTEGRATION_CONFIG_API",dehydrate:!1,validator:Sc([Ec,wc("/")])}]},deps:{dehydrateConfigApi:{token:"dehydrateConfigApi",optional:!0},dehydrateResourcesApi:{token:"dehydrateResourcesApi",optional:!0}},multi:!0}),(0,u.J)({provide:lo,useFactory:function(e){return(0,e.factory)({baseUrl:e.envManager.get("CONFIG_API"),circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10,isSystemError:function(){return!0},getKey:Oc}})},deps:{factory:ho,envManager:y.vC}}),(0,u.J)({provide:fo,useFactory:function(e){var t=(0,e.factory)({name:"admin-resources-api",baseUrl:e.envManager.get("RESOURCES_API"),modifyResponse:kc});return new mc({httpClient:t})},deps:{factory:ho,envManager:y.vC}}),(0,u.J)({provide:vo,useFactory:function(e){var t=(0,e.factory)({name:"admin-integration-api",baseUrl:e.envManager.get("INTEGRATION_CONFIG_API")});return new yc({httpClient:t})},deps:{factory:ho,envManager:y.vC}}),(0,u.J)({provide:ho,useFactory:function(e){var t=e.factory,n=e.optionsFactory;return function(e){return t(Object.assign({},n(e),e))}},deps:{factory:As,optionsFactory:go}}),(0,u.J)({provide:go,useValue:function(e){return Object.assign({},Tc,{name:"admin-api",validator:function(e){var t=e.request,n=e.response;if(!n||!n.response&&!n.result)return Jr()(n)?Object.assign(new Error,Jr()(n.error)?n.error:{path:t.path,response:n||null}):new Error(JSON.stringify(n))},errorValidator:function(e){e.request;var t=e.response,n=e.error;return(404===n.status||400===n.status)&&!(!t||!t.error)},errorModificator:function(e){var t=e.error;return Object.assign(t,{errorId:"CONFIG_REQUEST_ERROR"})},modifyResponse:Ac,enableCircuitBreaker:!0,circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10,isSystemError:function(){return!0}}})}}),{provide:po,useFactory:function(e){var t=e.httpClient;return new bc({httpClient:t})},deps:{httpClient:{token:lo,optional:!0}}}]})((function(){})),Rc=n(69736),Ic=n(67826),Nc=n.n(Ic),Mc=Nc()(["resultCode"],"SESSION_IS_ABSENT"),xc=Nc()(["resultCode"],"INSUFFICIENT_PRIVILEGES"),Pc=n(84762),Lc={expired:Mc,notAllowed:xc,confirmation:n.n(Pc)()([Nc()(["resultCode"],"WAITING_CONFIRMATION"),La()("confirmations"),La()("confirmationData")])},Dc=["query","method","serverGetSession","roles"],jc=Nc()(["resultCode"],"OK"),Bc={defaultTimeout:6e4},Uc=function(e){return Object.assign({},e,{payload:e.payload.payload})},Fc=n(23629),Vc=n.n(Fc),Wc=function(e){return function(t){var n=e.getWhen({requestOrigin:t.origin});return Object.assign({},t,{query:Object.assign({origin:n},t.query)})}},qc=function(e){var t=e.cookieManager,n=e.sessionCookieName;return function(e){return e.withoutSession?e:Object.assign({},e,{query:Object.assign({sessionid:t.get(n||"psid")},e.query)})}},Hc=function(e){function t(t){var n,r=t.httpClient,i=t.context,o=t.hooks,a=t.apiOriginService,s=t.cookieManager,u=t.wuid,c=t.sessionCookieName;return(n=e.call(this,r)||this).context=i,n.hooks=o,n.customizeParams=wt()((function(e){return e}),Wc(a),qc({cookieManager:s,sessionCookieName:c}),function(e){return function(t){return t.withoutSession||t.withoutWuid?t:Object.assign({},t,{query:Object.assign({wuid:e},t.query)})}}(u)),n}return(0,_t.Z)(t,e),t.prototype.request=function(e){var t=this,n=e.path,r=e.confirmHide,i=e.confirmSSR,o=void 0!==i&&i,a=e.confirmViewType,s=void 0===a?null:a,u=e.onConfirm,c=void 0===u?Ft():u;return this.httpClient.request(this.customizeParams(e)).then((function(e){return Lc.confirmation(e.payload)?t.hooks.runPromiseHooks("confirm",t.context)({viewType:s,onConfirmShowed:c,confirmHide:r,confirmSSR:o,data:e.payload}).then(Vc()("payload")):e})).catch((function(r){switch(!0){case"session_status"!==n&&Lc.expired(r.response):return t.hooks.runPromiseHooks("sessionAbsent",t.context)({sessionExpired:!0,useCache:!1});case Lc.notAllowed(r.response):return t.hooks.runPromiseHooks("notAllowed",t.context)(void 0).then((function(){throw new Error("Not Allowed")}));default:return t.hooks.runPromiseHooks("unknown",t.context,e)(r).then((function(){throw r}))}}))},t}(sc),Gc=function(e){return uu()("tinkoffApiOrigin",e)||So()(["properties","tinkoffApiOrigin"],e)},Zc=wt()(Gc,So()(["currentRoute","config"]),("router",function(e){return e.getState().router})),Kc=function(){function e(e){var t=this,n=e.context,r=e.defaultOrigin,i=e.decorators;this.getRawOrigin=function(e){return Zc(t.context)||e||t.defaultOrigin},this.getOrigin=function(e){var n=t.getRawOrigin(e);return t.decorators.reduce((function(e,t){return t(e)}),n)},this.context=n,this.defaultOrigin=r,this.decorators=null!=i?i:[]}var t=e.prototype;return t.get=function(){return this.getOrigin()},t.getWhen=function(e){var t=e.requestOrigin;return this.getOrigin(t)},e}(),Jc=(0,h.Y)({providers:[(0,u.J)({provide:y.sQ,useValue:[{key:"TINKOFF_API",validator:Sc([Ec,wc("/")])}],multi:!0}),(0,u.J)({provide:"defaultOrigin",useValue:"web,ib5,platform"}),(0,u.J)({provide:_o,useFactory:function(e){var t=e.context,n=e.defaultOrigin,r=e.decorators;return new Kc({context:t,defaultOrigin:n,decorators:r})},deps:{context:A.l,defaultOrigin:"defaultOrigin",decorators:{optional:!0,token:Eo}}}),(0,u.J)({provide:mo,useFactory:function(e){var t=e.factory,n=e.envManager,r=e.appInfo,i=e.context,o=e.hooks,a=e.apiOriginService,s=e.cookieManager,u=e.wuid,c=e.sessionCookieName,l=t({name:"tinkoff-api",baseUrl:n.get("TINKOFF_API"),disableCache:!0,query:{appName:r.appName,appVersion:n.get("APP_VERSION")},modifyResponse:function(e){return Lc.confirmation(e.payload)?e:Object.assign({},e,{payload:e.payload.payload})}},{isResponseValid:function(e){return jc(e)||Lc.confirmation(e)}});return new Hc({httpClient:l,context:i,hooks:o,apiOriginService:a,cookieManager:s,wuid:u,sessionCookieName:c})},deps:{factory:yo,envManager:y.vC,appInfo:g.Qo,hooks:ie.v,requestManager:at.G,context:A.l,apiOriginService:_o,cookieManager:k.T,wuid:fc,sessionCookieName:{token:Rc.sV,optional:!0},headersList:{token:Is,optional:!0}}}),(0,u.J)({provide:yo,useFactory:function(e){var t=e.factory,n=e.optionsFactory;return function(e,r){return t(Object.assign({},n(e,r),e))}},deps:{factory:As,optionsFactory:bo}}),(0,u.J)({provide:bo,useValue:function(e,t){var n=e.modifyResponse,r=void 0===n?Uc:n,i=e.disableCache,o=(void 0===t?{}:t).isResponseValid,a=void 0===o?jc:o;return Object.assign({name:"common-api",validator:function(e){var t=e.request,n=e.response;if(!a(n))return Jr()(n)?Object.assign(new Error,Jr()(n.error)?n.error:{path:t.path,response:n||null}):new Error(JSON.stringify(n))},errorModificator:function(e){var t=e.error;return Object.assign(t,{errorId:"COMMON_API_REQUEST_ERROR"})},modifyRequest:function(e){var t=e.query,n=void 0===t?{}:t,r=e.method,o=void 0===r?"GET":r,a=(e.serverGetSession,e.roles),s=(0,d.Z)(e,Dc),u=n.sessionid+JSON.stringify(a),c=Object.assign({method:o},s,{query:n,additionalCacheKey:u});if(!i){var l=c.cache,f=void 0===l?"POST"!==o:l,p=c.cacheForce;c.cache=f,c.cacheForce=p}return c},modifyResponse:r,enableCircuitBreaker:!0},Bc)}}),(0,u.J)({provide:Eo,multi:!0,useFactory:function(e){var t=e.context;return function(e){var n,r;if(!(null===(r=null===(n=t.getState())||void 0===n?void 0:n.session)||void 0===r?void 0:r.isJunior))return e;var i=e.split(",");return i.push("junior"),i.filter(Boolean).join(",")}},deps:{context:A.l}})]})((function(){})),zc=(0,h.Y)({imports:[gc],providers:[{provide:Is,multi:!0,useValue:["x-b3-traceid","x-b3-spanid","x-b3-parentspanid","x-b3-sampled","x-b3-flags","x-ot-span-context"]}]})((function(){})),Yc=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:ks,scope:l.s.SINGLETON,useValue:{modifyError:function(e){if(e.originalMessage)return e;var t=e.message,n=function(e){return!0===(/network timeout at/i.test(e)||/request timed out/i.test(e))?"Время истекло. Обновите страницу и повторите попытку.":"Что-то пошло не так. Мы уже решаем проблему. Попробуйте снова через несколько минут."}(t);return Object.assign(e,{message:n,originalMessage:t})}}})]})((function(){})),Qc=(0,h.Y)({imports:[gc,zc,dc,Yc,Cc,Jc],providers:[]})((function(){})),Xc=n(60488),$c=(0,Y.V3)("reactQuery queryClient"),el=n(29376),tl=(0,R.y)("UPDATE_ROLES"),nl=((_c={})[el.$d]=(0,el.Me)(),_c),rl=(0,E.L)("roles",nl).on(tl,(function(e,t){return t})),il=n(92105),ol=n(67744),al=n.n(ol),sl=n(62491),ul=n.n(sl),cl=n(56257),ll=n.n(cl),dl=n(98799),fl=n.n(dl),pl=n(68989),vl=n.n(pl),hl=n(55500),gl=n.n(hl),ml=wt()(ul()((function(e){return!!e})),ll()(","),ze()(["config","requiredRoles"],"")),yl=ze()(["config","accessLevel"],0),bl=ze()(["config","authenticateFailureRedirectUrl"],""),_l=ze()(["config","failureRedirectWithQueryParams"],!1);function El(e,t){void 0===t&&(t=[]);var n=gl()(e);return fl()((function(t){return fl()((function(n){var r;return!!(null===(r=e[n])||void 0===r?void 0:r[t])}),n)}),t)}function wl(e,t){return 0===function(e,t){var n=[];return e===t||ne()(vl()(gl()(e),gl()(t))).forEach((function(r){var i=ru()(r,{},e),o=ru()(r,{},t);ne()(vl()(gl()(i),gl()(o))).forEach((function(e){(null==i?void 0:i[e])!==(null==o?void 0:o[e])&&n.push(e)}))})),n}(e,t).length}var Sl=n(96105),Tl=n.n(Sl),Al=n(31565),kl="DYNAMIC",Ol=ru()(kl,{}),Cl=function(e){return Tl()(Boolean,Ol(e))},Rl=function(e,t){var n,r,i,o,a=ml(e),s=(0,el.mm)(yl(e));return a.length?!El(t,a):(r=s,i=Cl(n=t),o=Cl(r),!(i||!o)||!(i&&!o)&&(0,el.lw)(n,r))},Il=function(e){var t=e.route,n=e.url,r=e.roles,i=e.redirectType,o=void 0===i?"":i,a=e.accessDeniedRedirectUrl,s=null==a?void 0:a();if(s)return s;if((0,el.QO)(r))return"/mybank/";var u=n.path,c=n.query;if(!al()("/login/",n.pathname)){var l=_l(t),d=bl(t);return d?(0,st.DI)(d,l?c:{}).path:(0,st.DI)("/login/",{redirectTo:u,redirectType:ze()(["config","loginRedirectType"],o,t)}).path}},Nl=n(5881),Ml=n.n(Nl),xl=function(){function e(e){var t=e.strategies,n=void 0===t?[]:t,r=e.timingCallbacks;this.isAuthenticateFinishedPromise=null,this.isAuthenticateFinishedPromiseResolve=null,this.strategies=n,this.timingCallbacks=r}var t=e.prototype;return t.authenticate=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s,u,c,l,d,f,p,v,h,g,m,y,b,_=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=null===(t=this.timingCallbacks)||void 0===t?void 0:t.onAuthStart)||void 0===n||n.call(t),this.isAuthenticateFinishedPromise=new Promise((function(e){_.isAuthenticateFinishedPromiseResolve=e})),p=0,v=this.strategies.length;case 3:if(!(p<v)){e.next=20;break}return h=this.strategies[p],g=null!==(r=h.name)&&void 0!==r?r:"unknown:"+p,null===(o=null===(i=this.timingCallbacks)||void 0===i?void 0:i.onAuthStrategyStart)||void 0===o||o.call(i,g),e.next=9,this.authenticateBy(h);case 9:if(m=e.sent,y=m.status,b=m.payload,null===(u=null===(s=this.timingCallbacks)||void 0===s?void 0:s.onAuthStrategyResolved)||void 0===u||u.call(s,g,"success"===y),"success"!==y){e.next=17;break}return null===(l=null===(c=this.timingCallbacks)||void 0===c?void 0:c.onAuthResolved)||void 0===l||l.call(c,!0),this.isAuthenticateFinishedPromiseResolve(),e.abrupt("return",b);case 17:++p,e.next=3;break;case 20:null===(f=null===(d=this.timingCallbacks)||void 0===d?void 0:d.onAuthResolved)||void 0===f||f.call(d,!1),this.isAuthenticateFinishedPromiseResolve();case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.authenticateBy=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n={pass:function(){return e({status:"pass"})},success:function(t){return e({status:"success",payload:t})}};t.authenticate(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}(),Pl=n(7027),Ll=function(){function e(e){var t=e.sessionManager;this.sessionManager=t}return e.prototype.authenticate=function(e){var t=e.success,n=e.pass;this.sessionManager.authenticate().then(t).catch(n)},(0,Pl.Z)(e,[{key:"name",get:function(){return"SessionStrategy"}}]),e}(),Dl=function(e){function t(t){var n,i,o,s=t.strategies,u=t.sessionManager,c=t.timingCallbacks;return(n=e.call(this,{strategies:s,timingCallbacks:c})||this).prolongateSession=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.sessionManager.prolongateSession(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.sessionManager=u,n.authenticateDeferred={promise:new Promise((function(e,t){i=e,o=t})),resolve:i,reject:o},n}(0,_t.Z)(t,e);var n=t.prototype;return n.logout=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionManager.logout());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runAuthenticateFlow=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionManager.runAuthenticateFlow());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(xl),jl=n(78944),Bl=[{provide:b.Ym,useValue:il.p,multi:!0},{provide:b.Ym,useValue:rl,multi:!0},{provide:Zt.sU,multi:!0,useFactory:function(e){var t=e.store,n=e.authenticateDeferred,i=e.onRouteGuardRedirect,o=e.accessDeniedRedirectUrl;return function(){var e=(0,r.Z)(a().mark((function e(r){var s,u,c,l,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.to,u=r.url,e.next=3,n.promise;case 3:if(c=t.getState(il.p),l=c.requested,d=t.getState(rl),!l||!Rl(s,d)){e.next=11;break}if(f=Il({route:s,url:u,roles:d,accessDeniedRedirectUrl:o}),!i){e.next=10;break}return e.next=10,i(f);case 10:return e.abrupt("return",f);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{store:b.kR,authenticator:Rc.i6,authenticateDeferred:"authenticateDeferred",onRouteGuardRedirect:(0,Y.jt)(Rc.qt),accessDeniedRedirectUrl:(0,Y.jt)(Rc.Ri)}},{provide:Ot.xW,useFactory:function(e){var t=e.context;return{key:"auth",fn:function(e){var n=e.conditions,r=n.requiredCoreRoles,i=n.requiredRoles,o=void 0===i?r:i;if(o){var a=t.getState(rl),s=t.getState(il.p);if(!El(a,o))return e.forbid();var u=function(e){var t=e.guid,n=e.accessLevel,r=e.campaign,i={guid:t,accessLevel:n};return r&&(i.campaignId=r.id),i}(s);Ml()(e.getState(),u)||(e.allow(),e.setState(u))}}}},multi:!0,deps:{context:A.l}},{provide:Rc.i6,useFactory:function(e){var t=e.strategies,n=e.sessionManager,r=e.timingCallbacks,i=Qe()(t||[]);return new Dl({sessionManager:n,strategies:i.concat(new Ll({sessionManager:n})),timingCallbacks:r})},deps:{sessionManager:Rc.db,strategies:{token:Rc.sI,optional:!0},timingCallbacks:{token:Rc.SG,optional:!0}}},{provide:y.sQ,multi:!0,useValue:[{key:jl.BZ,optional:!0}]}],Ul=n(20596),Fl=n.n(Ul),Vl=n(21461),Wl=n.n(Vl),ql=n(72446),Hl=n.n(ql),Gl=["sessionId","millisLeft","accessLevel","userId"],Zl={sessionId:void 0,sessionWillExpireIn:0,accessLevel:"ANONYMOUS",millisLeft:0,userId:null,requested:!1},Kl={session:Zl},Jl=function(){function e(e){var t=e.apiClient,n=e.dispatcher,r=e.cookie,i=e.initialState,o=e.sessionCookieName;this.state=Kl,this.sessionRequestPromiseResolve=null,this.sessionRequestPromise=null,this.dispatcher=n,this.apiClient=t,this.cookie=r,this.sessionCookieName=o,i&&this.setState(i),this.setSessionRequestPromise()}var t=e.prototype;return t.updateSessionStatus=function(){var e=(0,r.Z)(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchOrCreateSession(t).then(Hl()((function(e){return n.saveAndDispatchSession(e)}))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getSessionId=function(){return this.getSessionIdFromCookie()},t.authenticate=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isAuthenticated()){e.next=3;break}return this.resolveSessionRequestPromise(),e.abrupt("return",Promise.resolve());case 3:return e.abrupt("return",this.runAuthenticateFlow());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.logout=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.resetSessionOnServer().then(this.resetSessionOnClient.bind(this)).then(this.noSessionAuthFlow.bind(this)));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fetchSessionId=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSessionRequestPromise());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.replaceWithNewSession=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.resetSessionOnServer().then(this.noSessionAuthFlow.bind(this)));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.prolongateSession=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.pingSession(t).then(this.updateSessionStatus.bind(this)).catch(Ft()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.runAuthenticateFlow=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getSessionIdFromCookie(),e.abrupt("return",t?this.hasSessionAuthFlow(t):this.noSessionAuthFlow());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.noSessionAuthFlow=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createSession().then(this.saveAndDispatchSession.bind(this)));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.hasSessionAuthFlow=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateSessionStatus(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fetchOrCreateSession=function(){var e=(0,r.Z)(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.createSession());case 2:return this.setSessionRequestPromise(),e.abrupt("return",this.fetchSessionStatus(t).catch((function(e){var t=So()(["response","errorMessage"],e);if(t&&Wl()("Session is absent",t))return n.createSession();throw e})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.createSession=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setSessionRequestPromise(),e.abrupt("return",this.apiClient.request({path:"session",cache:!1,withoutSession:!0}).then((function(e){return e.payload})).then(this.fetchSessionStatus.bind(this)).catch((function(e){return Zl})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.saveSession=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=void 0===t?Zl:t).sessionId,i=n.millisLeft,o=n.accessLevel,s=void 0===o?"ANONYMOUS":o,u=n.userId,c=(0,d.Z)(n,Gl),l=(new Date).getTime()+i,this.setSessionIdToCookie(r,i),f=Object.assign({},c,{accessLevel:s,sessionId:r,sessionWillExpireIn:l,userId:u,requested:!0}),this.setState({session:f}),e.abrupt("return",f);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.resetSessionOnClient=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveAndDispatchSession(Zl));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.resetSessionOnServer=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setSessionRequestPromise(),e.abrupt("return",this.apiClient.request({path:"sign_out",cache:!1,query:{sessionid:this.getSessionId()}}).then((function(e){return e.payload})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.dispatchStatusChanged=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dispatcher({action:"STATUS_CHANGED",payload:this.getState()}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.saveAndDispatchSession=function(){var e=(0,r.Z)(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){return n.saveSession(t)})).then(this.dispatchStatusChanged.bind(this)).finally((function(){return n.resolveSessionRequestPromise()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.pingSession=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setSessionRequestPromise(),e.abrupt("return",this.apiClient.request({path:"ping",cache:!1,silent:!0,query:{sessionid:t}}).then((function(){return t})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.isAuthenticated=function(){var e=this.getState().session.sessionWillExpireIn;return Fl()(e)&&e>Date.now()},t.getSessionCookieName=function(){return this.sessionCookieName||"psid"},t.getSessionIdFromCookie=function(){return this.cookie.get(this.getSessionCookieName())},t.getSessionCookiePath=function(e){},t.setSessionIdToCookie=function(e,t){var n={expires:t/1e3,name:this.getSessionCookieName(),value:e},r=this.getSessionCookiePath(e);r&&(n.path=r),this.cookie.set(n)},t.fetchSessionStatus=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiClient.request({path:"session_status",cache:!1,silent:!0,query:{sessionid:t}}).then((function(e){var n=e.payload;return Object.assign({sessionId:t},n)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.setSessionRequestPromise=function(){var e=this;this.sessionRequestPromise||(this.sessionRequestPromise=new Promise((function(t){e.sessionRequestPromiseResolve=t})))},t.resolveSessionRequestPromise=function(){var e;null===(e=this.sessionRequestPromiseResolve)||void 0===e||e.call(this,this.getSessionId()),this.sessionRequestPromise=null,this.sessionRequestPromiseResolve=null},t.getSessionRequestPromise=function(){return this.sessionRequestPromise||Promise.resolve(this.getSessionId())},t.getState=function(){return this.state},t.setState=function(e){this.state=Object.assign({},this.getState(),e)},e}(),zl=function(e){function t(){return e.apply(this,arguments)||this}(0,_t.Z)(t,e);var n=t.prototype;return n.fetchSessionStatus=function(){var t=(0,r.Z)(a().mark((function t(n){var r,i=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function t(r){return void 0===r&&(r=3),e.prototype.fetchSessionStatus.call(i,n).catch((function(e){if((pt()(e)||!e.errorId)&&r>0)return new Promise((function(e){return setTimeout(e,500)})).then((function(){return t(r-1)}));throw e}))},t.abrupt("return",r());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.getSessionCookiePath=function(e){if(e){var t=this.cookie.get("context_psid");if(t)try{if(t.slice(0,8)!==e.slice(0,8))return;return window.atob(t.slice(8))}catch(e){return}}},t}(Jl),Yl=(0,R.y)("AUTH_STATE_CHANGED"),Ql=["sessionId"];function Xl(e){var t=e.apiClient,n=e.pubsub,r=e.cookie,i=e.env,o=e.context,a=e.initialState,s=e.sessionCookieName;return new zl({initialState:a,apiClient:t,cookie:r,dispatcher:function(e){var t=e.payload,a=o.getStore("session").getState(),s=function(e){if(!i.get(jl.BZ))return e;if(!e.hasSsoSession)return e;var t=r.get(jl.cr);return void 0===t?e:Object.assign({},e,{isJunior:"false"!==t})}(function(e){var t=e.session,n=(t.sessionId,(0,d.Z)(t,Ql)),r=o.getStore("session").getState(),i=r.accessLevel,a=r.guid;return Object.assign(n,{guid:i===n.accessLevel?a:(new Date).getTime()})}(t)),u=o.getStore("roles").getState(),c=function(e,t){var n,r=null===(n=t.campaign)||void 0===n?void 0:n.id;return r?function(e,t){var n,r,i=(0,Al.ac)(e,el.$d,(0,Al.n5)(el.t1)),o=((n={})[el.t1.CLIENT+"_"+t]=!0,n),a=Ol(e);return Po()((function(e,t){return e===a[t]}),o)?i:Object.assign({},i,((r={})[kl]=o,r))}(e,r):(0,el.kV)((0,Al.Mr)(e,kl),t.accessLevel)}(u,s);return Promise.all([o.dispatch((0,il.C)(s)),o.dispatch(tl(c))]).then((function(){return wl(u,c)&&a.hasSsoSession===t.session.hasSsoSession||o.dispatch(Yl({session:a,newSession:s,roles:u,newRoles:c})),n.publish(jl.qD,Object.assign({currentSession:a},t,{roles:u,newRoles:c}))}))},sessionCookieName:s})}var $l=function(e){var t,n,r,i=e.customRedirectUrl,o=e.pageService,a=e.sessionExpired,s=e.context,u=o.getConfig()||{},c=u.pageComponent,l=o.getComponent(c),d=a?"sessionExpired":"himselfLogout";return(null==i?void 0:i())||(null===(t=null==u?void 0:u.redirects)||void 0===t?void 0:t[d])||(null===(r=null===(n=null==l?void 0:l.redirects)||void 0===n?void 0:n[d])||void 0===r?void 0:r.call(n,s,{sessionExpired:a}))},ed=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u,c,l,d,f,p,v,h,g,m,y,b,_,E,w,S;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.customRedirectUrl,r=t.pageService,i=t.logger,o=t.payload,s=t.context,u=t.onLogoutRedirect,l=i("auth:pubsub"),d=o.roles,f=o.newRoles,p=o.session,!(v=(0,el.QO)(d)&&!(0,el.QO)(f)||Cl(d)&&!Cl(f))){e.next=16;break}if(h=!p.sessionId,g=!!p.sessionId,m=$l({customRedirectUrl:n,pageService:r,sessionExpired:g,context:s}),y=m,m||(_=r.getConfig()||{},w=!Rl(E={config:_},d)&&Rl(E,f),h&&w?y="/":w?(S=g?"sessionExpired":"",y=Il({route:r.getCurrentRoute(),url:r.getCurrentUrl(),roles:f,redirectType:S})):(y="./",b=null===(c=r.getCurrentUrl())||void 0===c?void 0:c.query)),l.debug("force redirect to "+y+" after "+(h?"user logout":"session expired")),!u){e.next=14;break}return e.next=14,u(y);case 14:return e.next=16,r.navigate({url:y,query:b});case 16:return e.abrupt("return",v);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),td=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u,c,l,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pageService,r=t.logger,i=t.payload,o=t.onAccessDeniedRedirect,s=t.accessDeniedRedirectUrl,u=r("auth:access"),c=n.getCurrentRoute(),l=n.getCurrentUrl(),d=i.newRoles,!Rl(c,d)){e.next=14;break}if(u.debug({event:"page-access-denied"}),f=Il({route:c,url:l,roles:d,accessDeniedRedirectUrl:s}),!o){e.next=12;break}return e.next=12,o(f);case 12:return n.navigate({url:f,replace:!0}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nd=function(){var e=(0,r.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.refetchQueries({predicate:function(e){var t,r=null===(t=e.options.tramvaiOptions)||void 0===t?void 0:t.conditions;return!(!(null==r?void 0:r.requiredRoles)&&!(null==r?void 0:r.requiredCoreRoles)||wl(n.roles,n.newRoles))}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rd=function(e){var t=e.authenticator,n=e.sessionLifetimeController,i=e.pubsub,o=e.context,s=e.pageService,u=e.logger,c=e.customRedirectUrl,l=e.queryClient,d=e.authenticateDeferred,f=e.onResolveAuthenticate,p=e.onAccessDeniedRedirect,v=e.onLogoutRedirect,h=e.onHasAccess,g=e.accessDeniedRedirectUrl,m=e.isClientAuth,y=function(e){e&&n.startProlongateSessionOnUserActivity(),(0,Xc.FO)(e)&&n.startPollingAuthorizedSessionStatus()};return i.subscribe(jl.qD,function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(t.session),l&&nd(l,t),e.next=4,ed({customRedirectUrl:c,pageService:s,payload:t,logger:u,context:o,onLogoutRedirect:v});case 4:if(n=e.sent,e.t0=n,e.t0){e.next=9;break}return e.next=9,td({logger:u,pageService:s,payload:t,onAccessDeniedRedirect:p,accessDeniedRedirectUrl:g});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){return t.authenticate().then((function(){var e=o.getStore(il.p).getState(),t=o.getStore(rl).getState();!function(e){var t=e.route,n=e.roles,r=e.onHasAccess,i=(0,e.logger)("auth:check-has-access");!Rl(t,n)&&(i.debug({event:"has-access"}),null==r||r())}({route:s.getCurrentRoute(),logger:u,onHasAccess:h,roles:t}),y(e)})).finally((function(){m()&&d.resolve(),f.resolve()}))}},id=function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},od={authenticator:Rc.i6,sessionLifetimeController:Rc.Zh,pubsub:se.k3,context:A.l,pageService:Zt.Y9,logger:Q.Fp,customRedirectUrl:{token:Rc.hM,optional:!0},queryClient:(0,Y.jt)($c),authenticateDeferred:"authenticateDeferred",onResolveAuthenticate:Rc.TN,onAccessDeniedRedirect:(0,Y.jt)(Rc.JG),onHasAccess:(0,Y.jt)(Rc.WO),onLogoutRedirect:(0,Y.jt)(Rc.QZ),accessDeniedRedirectUrl:(0,Y.jt)(Rc.Ri),isClientAuth:Rc.C7},ad=function(){};ad=(0,f.__decorate)([(0,h.Y)({imports:[gc],providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Bl),[{provide:Rc.db,useFactory:function(e){var t=e.apiClient,n=e.pubsub,r=e.cookie,i=e.env,o=e.context;return Xl({apiClient:t,pubsub:n,env:i,cookie:r,context:o,sessionCookieName:e.sessionCookieName,initialState:{session:o.getStore("session").getState()}})},deps:{cookie:k.T,env:y.vC,apiClient:mo,pubsub:se.k3,context:A.l,sessionCookieName:{token:Rc.sV,optional:!0}}},{provide:Rc.Zh,useClass:Xc.ZP,deps:{sessionManager:Rc.db}},(0,u.J)({provide:Rc.C7,useFactory:function(e){var t=e.envManager,n=e.renderModeFactory;return function(){var e="function"==typeof n?n():n;return"true"===t.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")||"client"===e}},deps:{envManager:y.vC,renderModeFactory:Wn.TRAMVAI_RENDER_MODE}}),(0,u.J)({provide:c.Bi.customerStart,useFactory:function(e){return e.isClientAuth()?rd(e):Ft()},deps:od,multi:!0}),(0,u.J)({provide:c.Bi.generatePage,useFactory:function(e){return e.isClientAuth()?Ft():rd(e)},deps:od,multi:!0}),{provide:"authenticateDeferred",useFactory:function(e){var t=e.isClientAuth,n=id();return t()||n.resolve(),n},deps:{isClientAuth:Rc.C7}},{provide:Rc.TN,useValue:id()}])})],ad);var sd=(0,Y.V3)("autoscroll behavior"),ud=function(e){var t;return!(null===(t=e.navigateState)||void 0===t?void 0:t.disableAutoscroll)},cd=function(){};cd=(0,f.__decorate)([(0,h.Y)({providers:[{provide:Wn.LAYOUT_OPTIONS,useValue:{components:{autoscroll:function(){var e=(0,tr.x)((0,Y.jt)(sd))||"smooth",t=(0,_r.y)(),n=(0,wr.w)(),r=(0,$n.useRef)(n),i=(0,$n.useRef)(!!r.current.hash&&ud(t));return(0,$n.useEffect)((function(){var o;if(n.pathname===r.current.pathname&&n.hash===r.current.hash||(r.current=n,i.current=ud(t)),i.current){var a=(null===(o=null==t?void 0:t.navigateState)||void 0===o?void 0:o.autoscrollBehavior)||e;n.hash?i.current=!function(e,t){var n;try{return null===(n=document.querySelector(e))||void 0===n||n.scrollIntoView({behavior:t}),!0}catch(e){return!1}}(n.hash,a):(function(e){try{window.scrollTo({top:0,left:0,behavior:e})}catch(e){window.scrollTo(0,0)}}(a),i.current=!1)}})),null}}},multi:!0}]})],cd);var ld=function(){};ld=(0,f.__decorate)([(0,h.Y)({providers:[]})],ld);var dd=function(e){if(!e)return"value should not be empty";var t;try{t=e.startsWith("/")?new URL(e,"http://localhost:3000"):new URL(e)}catch(e){return"URL is not valid"}return"http:"!==t.protocol&&"https:"!==t.protocol&&"Invalid protocol "+t.protocol},fd=function(e){if(!e)return"value should not be empty";var t=+e;return!(!Fl()(t)||Number.isNaN(t))||"value is not a number"},pd=n(83092),vd=function(){};vd=(0,f.__decorate)([(0,h.Y)({imports:[Qc],providers:[(0,u.J)({provide:pd.h,useFactory:function(e){var t=e.httpClientFactory,n=e.envManager,r=e.cookieManager,i=e.apiOriginService,o=wt()(qc({cookieManager:r,sessionCookieName:"psid"}),Wc(i));return t({name:"bundles-api",baseUrl:n.get("BUNDLES_API"),method:"GET",requestType:"json",query:{appName:"web",appVersion:n.get("APP_VERSION"),platform:"web"},modifyRequest:o},{isResponseValid:function(e){return Nc()(["status"],"Ok",e)}})},deps:{httpClientFactory:yo,envManager:y.vC,cookieManager:k.T,apiOriginService:_o}}),(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"BUNDLES_API",validator:dd}]})]})],vd);var hd=function(){};hd=(0,f.__decorate)([(0,h.Y)({imports:[],providers:[]})],hd);var gd=(0,Y.V3)("service worker params",{multi:!0}),md=(0,Y.V3)("service worker init command line"),yd=(0,Y.V3)("pwa disable meta theme_color"),bd=n(53402),_d=[{provide:"boundaryCollect",useFactory:function(e){var t=!1;return function(n){var r;if(!t)if(t=!0,void 0!==n)e.eventea.send({project:"application-health",event:"app-start-fail",payload:{errorMessage:n.message,errorStack:n.stack}});else{var i;try{window.performance.mark("application-health-app-start-success"),i=null===(r=window.performance.measure("application-health-app-start-success-duration","navigationStart","application-health-app-start-success"))||void 0===r?void 0:r.duration}catch(e){}e.eventea.send({project:"application-health",event:"app-start-success",payload:{userRole:e.getUserRole(),installType:e.installType,durationFromNavigationStart:i}})}}},deps:{eventea:Sa.Bv,getUserRole:"getUserRole",installType:bd.h}},{provide:Wn.RENDERER_CALLBACK,useFactory:function(e){return e.boundaryCollect},deps:{boundaryCollect:"boundaryCollect"},multi:!0},{provide:Un.O7,useFactory:function(e){return e.boundaryCollect},deps:{boundaryCollect:"boundaryCollect"},multi:!0},{provide:bd.h,useValue:"unknown"},{provide:"getUserRole",scope:l.s.SINGLETON,useFactory:function(e){var t=e.context;return function(){var e=t.getState().roles;return e?el.TF(e)?"anonymous":el.C5(e)?"client":el.QO(e)?"lightClient":"unknown":"inaccessible"}},deps:{context:A.l}},(0,u.J)({provide:Sa.eW,multi:!0,useValue:{project:"application-health"}})],Ed=(0,T.J)({name:"MonitoringApplicationHealthModule",providers:_d});function wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sd=function(){};Sd=(0,f.__decorate)([(0,h.Y)({providers:[(0,u.J)({provide:"serviceWorker",useFactory:function(e){var t=e.serviceWorkerUrl,n=e.serviceWorkerParams;return function(){if("serviceWorker"in navigator){var e="";if(null==n?void 0:n.length){for(var r,i=[],o=function(){var e=r.value,t="function"==typeof e?e():e;t&&Object.keys(t).forEach((function(e){i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]))}))},a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n,!0);!(r=a()).done;)o();e=i.join("&")}return navigator.serviceWorker.register(t+(e?"?"+e:""))}return Promise.reject(new Error("ServiceWorker not supported"))}},deps:{serviceWorkerUrl:"pwaServiceWorkerUrl",serviceWorkerParams:{token:gd,optional:!0}}}),(0,u.J)({provide:"pwaServiceWorkerUrl",useValue:"/sw.js"}),(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.serviceWorkerCommandLine,n=e.di;return function(){n.register({provide:t?c.Bi[t]:c.Bi.customerStart,useFactory:function(e){var t=e.serviceWorker,n=e.logger;return function(){t().catch((function(e){n.warn({event:"serviceworker-initialise-error",error:e})}))}},deps:{serviceWorker:"serviceWorker",logger:Q.Fp}})}},deps:{di:m.Z,serviceWorkerCommandLine:{token:md,optional:!0}}})]})],Sd);var Td=(0,Y.V3)("pwa workbox"),Ad=(0,Y.V3)("pwa sw url"),kd=(0,Y.V3)("pwa sw scope"),Od=(0,Y.V3)("pwa sw params",{multi:!0}),Cd=n(39535),Rd=n(83351),Id=(0,R.y)("PUSH_WEB_SHOW_GENTLE_BANNER"),Nd=(0,R.y)("PUSH_WEB_HIDE_GENTLE_BANNER"),Md=(0,R.y)("PUSH_WEB_UNMOUNT_AND_HIDE_GENTLE_BANNER"),xd=(0,E.L)("gentleBanner",{isPushWebGentleBannerRendered:!1,isPushWebGentleBannerVisible:!1}).on(Id,(function(e){return Object.assign({},e,{isPushWebGentleBannerRendered:!0,isPushWebGentleBannerVisible:!0})})).on(Nd,(function(e){return Object.assign({},e,{isPushWebGentleBannerRendered:!0,isPushWebGentleBannerVisible:!1})})).on(Md,(function(e){return Object.assign({},e,{isPushWebGentleBannerRendered:!1,isPushWebGentleBannerVisible:!1})})),Pd=[(0,u.J)({provide:b.Ym,useValue:[Rd.vZ,xd],multi:!0}),(0,u.J)({provide:y.sQ,useValue:[{key:"TINKOFF_API",optional:!0,dehydrate:!0,validator:Ec},{key:"APP_VERSION",optional:!0,dehydrate:!0},{key:"SAFARI_PUSH_API",optional:!0,dehydrate:!0,validator:Ec},{key:"PUSH_WEB_SW_LOG_API",optional:!0,dehydrate:!0}],multi:!0})],Ld=n(10055),Dd="webpush",jd=n(16615),Bd=n(13311);function Ud(e){var t=(0,jd.x)(),n=(0,Bd.s)(e);return(0,$n.useMemo)((function(){return Ii()(n)?n.map((function(e){return t.executeAction.bind(t,e)})):t.executeAction.bind(t,n)}),[n,t])}var Fd,Vd,Wd=n(97548),qd=null===(Fd=window.Notification)||void 0===Fd?void 0:Fd.permission,Hd=[{rule:function(e){var t=e.permissionState,n=e.status;return"default"===t&&n===Cd.$q.STARTING_SUBSCRIBE.id},event:function(){return{eventName:"pushShow"}}},{rule:function(e){var t=e.permissionState;return"default"===qd&&"granted"===t},event:function(){return{eventName:"pushSubscription"}}},{rule:function(e){var t=e.permissionState;return"default"===qd&&"denied"===t},event:function(){return{eventName:"pushBlocked"}}}],Gd=n(61e3),Zd=n(82318),Kd=(0,Zd.P)({name:"pushSubscribeAction",fn:(Vd=(0,r.Z)(a().mark((function e(t,n,r){var i,o,s,u,c,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),i=r.pushWeb,o=r.wuid,s=r.logger,u=r.sessionManager,c=r.remoteLogger,l=s(Dd),(d=u.getSessionId())||c.warn({message:"sessionid value is not passed, so an anonymous registration will be created",event:"anonymous-push-web-registration"}),i){e.next=8;break}return l.debug("PushWeb instance token is not provided"),e.abrupt("return");case 8:return e.prev=8,e.abrupt("return",i.subscribe(Object.assign({wuid:o,sessionid:d},n.data),n.force));case 12:e.prev=12,e.t0=e.catch(8),l.error({message:"PushWeb subscribe failed",event:"webpush-subscribe-failed",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[8,12]])}))),function(e,t,n){return Vd.apply(this,arguments)}),deps:{logger:Q.Fp,wuid:fc,pushWeb:Ld.ai,sessionManager:Rc.db,remoteLogger:Ld.c7}}),Jd=(0,Zd.P)({name:"pushToggleAction",fn:function(){var e=(0,r.Z)(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.pushWeb){e.next=3;break}return e.abrupt("return");case 3:if("subscribe"!==n.action){e.next=6;break}return e.abrupt("return",t.executeAction(Kd,{data:null==n?void 0:n.data,force:null==n?void 0:n.force}));case 6:return e.abrupt("return",i.unsubscribe());case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),deps:{pushWeb:Ld.ai}}),zd=(0,Xt.H)({name:"sendEventAction",fn:function(e){var t=this;return(0,r.Z)(a().mark((function n(){var r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.eventName,i=t.deps.analytics){n.next=4;break}return n.abrupt("return");case 4:return n.abrupt("return",i.event(r));case 5:case"end":return n.stop()}}),n)})))()},deps:{analytics:{token:Uo.t3,optional:!0}}}),Yd=(0,Xt.H)({name:"showGentleBanner",fn:function(){this.dispatch(Id())}}),Qd=(0,Xt.H)({name:"hideGentleBanner",fn:function(){this.dispatch(Nd())}}),Xd=((0,Xt.H)({name:"unmountAndHideGentleBanner",fn:function(){this.dispatch(Md())}}),(0,fe.Vo)({chunkName:function(){return"components-GentleBanner-GentleBanner-browser"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,48943))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 48943}})),$d=function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),ef="tcs_n_req_time";function tf(){$d&&(localStorage[ef]=Date.now())}var nf=["mobile safari","tablet safari"],rf=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}(0,_t.Z)(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e,t){this.props.log.error(e)},n.render=function(){return this.state.hasError?null:this.props.children},t}($n.Component);function of(e,t){if(!(null==e?void 0:e.enableGentleBanner)||"standalone"!=(window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: browser)").matches?"browser":"unknown"))return!1;var n=-1!==nf.indexOf(t.browser.name);return(null==e?void 0:e.enableBannerForAndroid)&&(n=n||"Android"===t.os.name),n}var af=(0,$n.memo)((function(){var e=(0,jd.x)(),t=(0,tr.x)(Q.Fp),n=(0,tr.x)({token:Ld.MA,optional:!0})||{},r=n.gentleBannerComponent,i=n.gentleBannerContent,o=(0,tr.x)({token:Sa.Bv,optional:!0}),a=function(e){var t,n,r=e.gentleBannerComponent,i=e.gentleBannerContent,o="Notification"in window?window.Notification.permission:null;return o?{component:null!==(t=null==r?void 0:r[o])&&void 0!==t?t:Xd,content:null!==(n=null==i?void 0:i[o])&&void 0!==n?n:{}}:{component:null,content:{}}}({gentleBannerComponent:r,gentleBannerContent:i}),s=a.component,u=a.content,c=Ud(Yd),l=Ud(Qd),d=(0,Sr.o)(xd),f=(0,Wd.v)([Rd.vZ,bi.sH,rl,D.c],(function(e){var t,n,r,i,o,a,s=e.pushWeb,u=e.router,c=e.roles,l=e.userAgent;return{status:s.status,unsubscribed:s.status===Cd.$q.UNSUBSCRIBED.id,enableAutoSubscription:!(!(null===(t=s.settings)||void 0===t?void 0:t.enablePush)||!(null===(r=null===(n=null==u?void 0:u.currentRoute)||void 0===n?void 0:n.config)||void 0===r?void 0:r.enablePush)),enableGentleBanner:of(s.settings,l),gentleBannerPeriodicity:null!==(o=null===(i=s.settings)||void 0===i?void 0:i.gentleBannerPeriodicity)&&void 0!==o?o:3,subscribed:s.status===Cd.$q.SUBSCRIBED.id,autoSubscriptionDelay:(null===(a=s.settings)||void 0===a?void 0:a.autoSubscriptionDelay)||Gd.ki,permissionState:s.permissionState,authorized:(0,el.QO)(c)}})),p=f.status,v=f.permissionState,h=f.subscribed,g=f.unsubscribed,m=f.enableAutoSubscription,y=f.autoSubscriptionDelay,b=f.authorized,_=f.enableGentleBanner,E=f.gentleBannerPeriodicity,w=d.isPushWebGentleBannerRendered&&Boolean(s),S=(0,tr.x)({token:L.N,optional:!0}),T=(0,tr.x)({token:Ld.Ji,optional:!0}),A=(0,$n.useCallback)((function(t){return e.executeAction(Jd,{action:"subscribe",force:t})}),[e]),k=(0,$n.useCallback)((function(t){return e.executeAction(zd,{eventName:t})}),[e]),O=(0,$n.useRef)({trackedEvents:{},currentEvent:Promise.resolve(),firstSubscription:!1,sessionUpdated:!1,log:t(Dd)}),C=(0,$n.useCallback)((function(e){gr()((function(t){t.rule(e)&&(O.current.currentEvent=O.current.currentEvent.then((function(){return t.event()})).then((function(e){var t=e.eventName;if(!O.current.trackedEvents[t])return O.current.log.debug("sent event "+t),O.current.trackedEvents[t]=!0,k(t);O.current.log.debug("event "+t+" already sent")})))}),Hd)}),[k]);(0,$n.useEffect)((function(){var e;C({status:p,permissionState:v}),m?(h&&(O.current.firstSubscription=!0),g&&"granted"===(null===Notification||void 0===Notification?void 0:Notification.permission)&&!O.current.firstSubscription?(O.current.firstSubscription=!0,A(!1)):"default"!==(null===(e=window.Notification)||void 0===e?void 0:e.permission)||O.current.firstSubscription?!O.current.sessionUpdated&&b&&h&&(O.current.sessionUpdated=!0,O.current.log.debug("force update authorized subscription info"),A(!0)):(O.current.firstSubscription=!0,_?function(e){if($d){var t=localStorage[ef];if(t)try{return Number(t)+60*e*60*24*1e3<Date.now()}catch(e){return!0}return!0}return!1}(E)&&(null==o||o.send({project:"push-web",event:"banner_webpushShow"}),c()):"mobile"!==S.device.type&&(O.current.log.debug("show subscription window"),setTimeout((function(){return A(!1)}),y)))):O.current.log.debug("auto subscription is not enabled by route settings")}),[p,v,h,g,m,A,y,b,C,_,E,o,S,c]);var R=(0,$n.useCallback)((function(){T&&T()}),[T]),I=(0,$n.useCallback)((function(){return null==o||o.send({project:"push-web",event:"banner_webpushTurnOn"}),R(),tf(),l(),null===Notification||void 0===Notification?void 0:Notification.requestPermission((function(){A(!1)}))}),[o,R,A,l]),N=(0,$n.useCallback)((function(){null==o||o.send({project:"push-web",event:"banner_webpushRemindLater"}),R(),tf(),l()}),[o,R,l]),M=(0,$n.useCallback)((function(){null==o||o.send({project:"push-web",event:"banner_webpushClose"}),R(),l()}),[o,R,l]);return w?(0,Xn.jsx)(rf,{log:O.current.log,children:(0,Xn.jsx)(s,{opened:d.isPushWebGentleBannerVisible,onAccept:I,onDecline:N,onClose:M,bannerTitle:u.bannerTitle,bannerDescription:u.bannerDescription,iconUrl:u.iconUrl,primaryButton:u.primaryButton,secondaryButton:u.secondaryButton})}):null})),sf=n(48943),uf=(0,Y.V3)("push app key"),cf=(0,T.J)({name:"BasePushWebModule",imports:[],providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Pd),[(0,u.J)({provide:Ld.MA,useFactory:function(e){var t,n,r,i=e.webPushBannerContent;return{gentleBannerComponent:{default:sf.default},gentleBannerContent:{default:{bannerDescription:null!==(t=null==i?void 0:i.bannerDescription)&&void 0!==t?t:Gd.qs,bannerTitle:null!==(n=null==i?void 0:i.bannerTitle)&&void 0!==n?n:Gd.Pq,iconUrl:null!==(r=null==i?void 0:i.iconUrl)&&void 0!==r?r:Gd.J8,primaryButton:null==i?void 0:i.primaryButton,secondaryButton:null==i?void 0:i.secondaryButton}}}},deps:{webPushBannerContent:{token:Ld.QF,optional:!0}}}),(0,u.J)({provide:c.Bi.resolveUserDeps,useFactory:function(e){return function(){return Promise.resolve(e.webPush)}},deps:{webPush:Ld.ai},multi:!0}),(0,u.J)({provide:Ld.c7,useFactory:function(e){return(0,e.logger)({name:"webpush-remote",defaults:{remote:!0}})},deps:{logger:Q.Fp}}),(0,u.J)({provide:Ld.ai,useFactory:function(e){var t,n,r=e.userAgent,i=e.wuid,o=e.envManager,a=e.context,s=e.sessionManager,u=e.pushAppKey,c=e.webPushLogger,l=e.logger,d=e.userSettings,f=l(Dd);if(!Cd.ZP.checkSupport())return f.debug("Notifications are not supported by @push-web/tinkoff-push-web"),null;var p=a.getState(Rd.vZ);if(pt()(p.settings))return f.debug("Failed to load settings, skipping @push-web/tinkoff-push-web instantiating"),null;var v=a.getState(il.p),h=Object.assign({wuid:i,sessionid:s.getSessionId(),osName:r.os.name+" "+r.os.version,browser:r.browser.name||"",appVersion:o.get("APP_VERSION"),applicationServerKey:new Uint8Array(null!==(t=p.settings.applicationServerKey)&&void 0!==t?t:[]),safari:{webServiceURL:o.get("SAFARI_PUSH_API")||"https://safaripush.tcsbank.ru",webSitePushId:"web.www.push.tinkoff.ru",firmware:"safari",clientId:null!==(n=null==v?void 0:v.userId)&&void 0!==n?n:"",deviceStringId:i}},null!=d?d:{});return p.settings.applicationFullName&&(h.applicationFullName=p.settings.applicationFullName),new Cd.ZP({api:{host:o.get("TINKOFF_API")||Cd.Yk.host,swLog:o.get("PUSH_WEB_SW_LOG_API")},appKey:u,settings:h,stateChangeCb:function(e){var t=e.id,n=e.interactive,r=e.subscribed,i=e.permissionState;return a.dispatch((0,Rd.Rr)({status:t,interactive:n,subscribed:r,permissionState:i}))},subscriptionUpdateCb:function(e){return a.dispatch((0,Rd.Pt)({subscription:e}))},logCb:function(e){e.level&&c[e.level](e)}})},deps:{userSettings:{token:Ld.ev,optional:!0},userAgent:L.N,wuid:fc,envManager:y.vC,context:A.l,logger:Q.Fp,sessionManager:Rc.db,pushAppKey:uf,webPushLogger:Ld.c7}}),(0,u.J)({provide:gd,useFactory:function(e){var t=e.webPushAppKey;return t?{webPushAppKey:t}:null},deps:{context:A.l,webPushAppKey:uf}}),(0,u.J)({provide:Od,useFactory:function(e){var t=e.webPushAppKey;return t?{webPushAppKey:t}:null},deps:{context:A.l,webPushAppKey:uf}}),(0,u.J)({provide:uf,useFactory:function(e){var t;return null===(t=e.context.getState(Rd.vZ).settings)||void 0===t?void 0:t.applicationFullName},deps:{context:A.l,appInfo:g.Qo}}),(0,u.J)({provide:Wn.LAYOUT_OPTIONS,useValue:[{components:{pushWeb:af}}],multi:!0})])}),lf=[(0,u.J)({provide:kd,scope:l.s.SINGLETON,useFactory:function(){return"/"}})],df=[(0,u.J)({provide:kd,useValue:"/"}),(0,u.J)({provide:Ad,useValue:"/sw.js",deps:{swScope:kd}})],ff=(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.workbox,n=(0,e.logger)("pwa:workbox");return function(){(0,r.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:if(r=e.sent){e.next=7;break}return n.info("Service Worker registration stopped"),e.abrupt("return");case 7:return e.next=9,r.register();case 9:e.next=12;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),n.error({event:"register-failed",message:"Service Worker registration failed",error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}},deps:{workbox:Td,logger:Q.Fp}}),pf=(0,u.J)({provide:Td,scope:l.s.SINGLETON,useFactory:function(e){var t=e.swUrl,i=e.swScope,o=(0,e.logger)("pwa:workbox"),s=null;return(0,r.Z)(a().mark((function e(){var r,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator){e.next=3;break}return o.info("Service Worker is not supported"),e.abrupt("return",s);case 3:if(!s){e.next=5;break}return e.abrupt("return",s);case 5:return e.next=7,n.e("tramvai-workbox-window").then(n.bind(n,20323));case 7:return r=e.sent,u=r.Workbox,(s=new u(t,{scope:i})).addEventListener("installed",(function(e){e.isUpdate})),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))},deps:{swUrl:Ad,swScope:kd,logger:Q.Fp}});function vf(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var hf=(0,T.J)({name:"TramvaiPwaWorkboxModule",providers:[].concat(vf(i.Z,lf),[(0,u.J)({provide:Ad,useFactory:function(e){var t,n,r,i=e.swScope,o=(e.modern,e.envManager),a=e.swParams,s=(n=i,r=(t="sw.js").startsWith("/")?t:"/"+t,""+n.replace(/\/$/,"")+r),u=(o.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING"),s);if(a&&a.length){var c=a.filter(Boolean).reduce((function(e,t){return e.concat(Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})))}),[]).join("&");c&&(u+="?"+c)}return u},deps:{swScope:kd,modern:Wn.MODERN_SATISFIES_TOKEN,envManager:y.vC,swParams:(0,Y.jt)(Od)}}),pf],vf(i.Z,[ff]))}),gf=((0,T.J)({name:"TramvaiPwaLightWorkboxModule",providers:[].concat(vf(i.Z,df),[pf,ff])}),(0,T.J)({name:"TramvaiPwaManifestModule",providers:[]})),mf=((0,T.J)({name:"TramvaiPwaLightManifestModule",providers:[]}),(0,T.J)({name:"TramvaiPwaMetaModule",providers:[]})),yf=(0,T.J)({name:"TramvaiPwaModule",imports:[hf,gf,mf],providers:[]}),bf="5.71.6",_f=n(72478),Ef=n(10950),wf=(0,R.y)("Set analytics config"),Sf=(0,E.L)("analytics",{}).on(wf,(function(e,t){return Object.assign({},e,{config:t})})),Tf=[{provide:b.Ym,multi:!0,useValue:[Sf]}],Af=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Tf),[(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.tracking,n=e.pageService;return function(){t.extend(ru()("analytics",{},n.getMeta()))}},deps:{tracking:Uo.t3,pageService:Zt.Y9}}),(0,u.J)({provide:Uo.ZY,useFactory:function(e){var t=e.store.getState(Sf).config;return void 0===t?{}:t},deps:{store:b.kR}})]),kf=(0,Y.V3)("DPP_SERVICE"),Of="userType",Cf={Visitor:0,"Client-Light":10,Applicant:20,"Client-Heavy":30},Rf=function(e){return Cf[e]||0},If=!1,Nf=function(e,t){var n=t.tracking,r=t.logger,i=t.cookies,o=r("analytics:tracking:user-type"),a=i.get(Of)||"Visitor",s=Rf(a),u=function(e){var t;switch(!0){case(0,el.o2)(e):t="Client-Light";break;case(0,el.C5)(e):t="Client-Heavy";break;default:t="Visitor"}return t}(e),c=Rf(u),l=a;c>=s&&(l=u,function(e,t,n){t.debug({message:"New user level",userType:n}),e.set({name:Of,value:n,expires:63072e3,noSubdomains:!0})}(i,o,u)),n.extend({userType:l,userStatus:(0,el.QO)(e)?"Logged In":"Not Logged In"}),!If&&c>s&&(0,el.QO)(e)&&(If=!0,n.event("ibSuccess"))},Mf=function(e,t){e.requested&&t.extend({userId:e.userId||"1111",ssoId:e.ssoId||null})};var xf,Pf={essentials:"Essential",functional:"Functionality",analytics:"Statistics",marketing:"Marketing"},Lf=function(e,t){return Object.entries(e).reduce((function(e,n){var r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,n,2),i=r[0],o=r[1];return e[t[Pf[i]]]=o,e}),{})},Df=[(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.store,n=e.tracking,r=e.cookies,i=e.logger;return function(){var e=t.getState(rl);e&&(Nf(e,{tracking:n,cookies:r,logger:i}),t.subscribe(rl,(function(e){return Nf(e,{tracking:n,cookies:r,logger:i})})))}},deps:{store:b.kR,tracking:Uo.t3,logger:Q.Fp,cookies:k.T}}),(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.tracking,n=e.store;return function(){var e=n.getState(il.p);e&&(Mf(e,t),n.subscribe(il.p,(function(e){return Mf(e,t)})))}},deps:{store:b.kR,tracking:Uo.t3}}),(0,u.J)({provide:c.Bi.customerStart,deps:{dppService:{token:kf,optional:!0},tracking:Uo.t3},useFactory:function(e){var t=e.dppService,n=e.tracking;return(0,r.Z)(a().mark((function e(){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.callUtil("getConsentVault");case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return");case 7:o=function(){},o=t.subscribeToAccept(function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.update(Lf(t,i.categories),"keep"),o();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))}})],jf={prefix:"platform/stable",integrity:{client:"",express:"",tramvai:""}};function Bf(e,t,n,r){var i,o,a=t||"platform",s=(null===(o=null===(i=null==n?void 0:n.twt)||void 0===i?void 0:i.bundles)||void 0===o?void 0:o[a])||jf,u=r.get("TWA_CDN_URL")||(null==s?void 0:s.baseUrl)||"https://acdn.tinkoff.ru/twa/";if(u){var c={id:"twtScriptClient",onload:"this.setAttribute('loaded', 'true');",onerror:"this.setAttribute('loaded', 'error');",crossorigin:"anonymous"};s.integrity&&s.integrity.client&&(c.integrity=s.integrity.client);var l=document.createElement("script");l.src=""+u+s.prefix+"/client.js";for(var d=0,f=Object.keys(c);d<f.length;d++){var p=f[d];l.setAttribute(p,c[p])}document.head.appendChild(l)}else e.error("twt cdn url is not provided")}function Uf(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Ff=xf=function(){function e(){}return e.forRoot=function(e){var t=e.atmContainer,n=e.ttm,r=e.twtBundle,i=e.mode,o=[];return t&&o.push({provide:Uo.cY,useValue:t}),n&&o.push({provide:Uo.Te,useValue:n}),r&&o.push({provide:Uo.SG,useValue:r}),i&&o.push({provide:Uo.ty,useValue:i}),{mainModule:xf,providers:o}},e}();Ff=xf=(0,f.__decorate)([(0,h.Y)({providers:[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"CONFIG_API",dehydrate:!1,validator:Sc([Ec,wc("/")])},{key:"APP_VERSION",optional:!0,dehydrate:!0}]}),(0,u.J)({provide:Uo.t3,useFactory:function(e){var t=e.logger,n=e.store,r=e.eventeaReady,i=e.appInfo,o=e.envManager,a=n.getState(Sf).config,s=void 0===a?{}:a,u=window.twtConfig=window.twtConfig||{};u.logger=t("analytics:tracking"),u.disableUserInfo=!0;var c=(null==s?void 0:s.atm)||{},l=c.atmContainer,d=c.containers;l&&(u.atmContainerName=l),d&&(u.atmContainers=d);var f=null==s?void 0:s.ttm;f&&(u.ttm=f);var p=new _f.Z;p.resolve((0,Ef.A)());var v={appName:i.appName,appVersion:o.get("APP_VERSION"),proxyVersion:bf,tramvaiVersion:"4.41.32",eventeaReady:r};p.event=function(e,t){return p.callUtil("tramSendEvent",e,t,v),p};var h=p.extend;return p.extend=function(e){var t=h.call(p,e);return p.callUtil("tramPostData",e,v),t},p},deps:{logger:Q.Fp,store:b.kR,eventeaReady:(0,Y.jt)(Uo.dZ),envManager:y.vC,appInfo:g.Qo}}),(0,u.J)({provide:"router afterNavigateHooks",multi:!0,useFactory:function(e){var t=e.tracking;return function(){t.updateLocation()}},deps:{tracking:Uo.t3}}),{provide:c.Bi.init,useFactory:function(e){var t=e.resourceLoader,n=e.logger,i=e.envManager,o=e.twtBundle,s=e.atmContainer,u=e.ttm,c=e.requestManager,l=n("analytics:twt-loader");if("server"===function(e){var t=e.envManager,n=e.mode;switch(!0){case"client"===n:case"server"!==n&&"true"===t.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING"):return"client";default:return"server"}}(e)||"true"===c.getParsedUrl().query.disableAnalytics)return function(){return Promise.resolve()};function d(){return d=(0,r.Z)(a().mark((function e(){var r,c,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getResources("analytics_config");case 3:c=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),c={},l.error(e.t0,"Failed to load analytics_config");case 10:d=window.twtConfig=window.twtConfig||{},s&&(d.atmContainerName=s),(f=null===(r=null==c?void 0:c.atm)||void 0===r?void 0:r.containers)&&(d.atmContainers=f),u&&(d.ttm=u),Bf(n,o,c,i);case 16:case"end":return e.stop()}}),e,null,[[0,6]])}))),d.apply(this,arguments)}return function(){(function(){return d.apply(this,arguments)})().catch((function(e){l.error(e,"Something wrong happened in analytics:registerScripts method")}))}},multi:!0,deps:{resourceLoader:fo,logger:Q.Fp,envManager:y.vC,requestManager:at.G,atmContainer:(0,Y.jt)(Uo.cY),ttm:(0,Y.jt)(Uo.Te),twtBundle:(0,Y.jt)(Uo.SG),mode:(0,Y.jt)(Uo.ty)}}].concat(Uf(i.Z,Af),Uf(i.Z,Df))})],Ff);var Vf=function(){};Vf=(0,f.__decorate)([(0,h.Y)({providers:[]})],Vf);var Wf=(0,Y.V3)("_tramvai_error_interceptor_filter"),qf=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:Wf,useValue:function(e){return"Uncaught ReferenceError: processRandomSelector is not defined"===e.message||"ResizeObserver loop limit exceeded"===e.message||"ResizeObserver loop completed with undelivered notifications."===e.message}})]})((function(){})),Hf=(0,T.J)({name:"TinkoffRetryModule",providers:[]}),Gf=function(){};Gf=(0,f.__decorate)([(0,h.Y)({providers:[]})],Gf);var Zf=(0,T.J)({name:"PreconnectResourcesModule",providers:[],extend:{forRoot:function(){return[]}}}),Kf=n(93679),Jf=(0,R.y)("NOTIFICATIONS_CHANGED"),zf=(0,E.L)("notifications",[]).on(Jf,(function(e,t){return t})),Yf=["newOnTop"];function Qf(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Xf,$f=function(){function e(e){var t=e.store;this.store=t}var t=e.prototype;return t.setState=function(e){var t=Jf(e);this.store.dispatch(t)},t.getNotifications=function(){return this.store.getState(zf)},t.add=function(e){var t=e.newOnTop,n=void 0!==t&&t,r=(0,d.Z)(e,Yf),o=Object.assign({},r,{id:r.id||""+(new Date).getTime()}),a=this.getNotifications();return r.id&&(a=a.filter((function(e){return e.id!==r.id}))),a=n?[o].concat(Qf(i.Z,a)):[].concat(Qf(i.Z,a),[o]),this.setState(a),o.id},t.remove=function(e){var t=e.id,n=e.type,r=this.getNotifications(),i=r.length;if(t)r=r.filter((function(e){return e.id!==t}));else if(n){var o=Array.isArray(n)?n:[n];r=r.filter((function(e){return-1===o.indexOf(e.type)}))}r.length!==i&&this.setState(r)},t.clear=function(){this.getNotifications().length&&this.setState([])},e}(),ep=(0,fe.Vo)({chunkName:function(){return"Notifications-es"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("Notifications-es").then(n.bind(n,97106))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 97106}}),tp=Xf=function(){function e(){}return e.forRoot=function(e){return{mainModule:Xf,providers:[{provide:Kf.Q,multi:!0,useValue:e}]}},e}();tp=Xf=(0,f.__decorate)([(0,h.Y)({providers:[(0,u.J)({provide:Kf.Q,multi:!0,useValue:{selector:function(e){return e}}}),(0,u.J)({provide:b.Ym,multi:!0,useValue:zf}),(0,u.J)({provide:Kf.e,useClass:$f,deps:{store:b.kR}}),(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useValue:{components:{notifications:function(){return(0,Xn.jsx)(vr.E,{error:null,fallback:function(){return null},children:(0,Xn.jsx)(ep,{})})}}}})]})],tp);var np=function(){};np=(0,f.__decorate)([(0,h.Y)({providers:[]})],np);var rp=n(2198),ip=n.n(rp),op=n(58111),ap=n.n(op),sp=n(11712),up=n.n(sp),cp=function(e){return ip().hash(e.toString())},lp=Wa()(up(),le(),(function(e){return[e]})),dp=ap()((function(e,t){return Nu()((function(n,r){return n[e+r]=t[r],n}),{},gl()(t))}))("fingerprint_");var fp=function(){var e,t=function(){var e=function(){if(!window.WebGLRenderingContext)return!1;for(var e=document.createElement("canvas"),t=["webgl","experimental-webgl","moz-webgl"],n=null,r=0,i=t.length;r<i;++r)try{if((n=e.getContext(t[r]))&&"function"==typeof n.getParameter)return n}catch(e){}return!1}();if(!e)return{};var t=e.getSupportedExtensions()||[],n=e.getParameter(e.SHADING_LANGUAGE_VERSION),r=e.getParameter(e.VENDOR),i=cp(t.join("::")),o=t.length,a=e.getExtension("WEBGL_lose_context");return a&&a.loseContext&&a.loseContext(),{gpu_shading_language_version:n,gpu_vendor:r,gpu_extensions_hash:i,gpu_extensions_count:o}}();try{e=function(){var e=document.createElement("canvas");e.width=2e3,e.height=200,e.style.display="inline";var t=e.getContext("2d");return t.rect(0,0,10,10),t.rect(2,2,6,6),t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.font="11pt no-real-font-123",t.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),t.globalCompositeOperation="multiply",t.fillStyle="rgb(255,0,255)",t.beginPath(),t.arc(50,50,50,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle="rgb(0,255,255)",t.beginPath(),t.arc(100,50,50,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle="rgb(255,255,0)",t.beginPath(),t.arc(75,100,50,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle="rgb(255,0,255)",t.arc(75,75,75,0,2*Math.PI,!0),t.arc(75,75,25,0,2*Math.PI,!0),t.fill("evenodd"),cp(e.toDataURL())}()}catch(t){e=null}var n=window.navigator.platform,r=(new Date).getTimezoneOffset(),i=window.navigator.language,o=(window.navigator.languages||[]).join(",");return dp(Object.assign({},t,{device_platform:n,client_timezone:r,client_language:i,canvas:e,accept_language:o}))},pp=function(){var e=[];try{for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t];e.push([n.name.replace(/;|::/g,""),n.description.replace(/;|::/g,""),he()((function(e){return[e.type,e.suffixes].join("~").replace(/;|::/g,"")}),lp(n)).join(",")].join("::"))}}catch(e){}return e},vp=function(){try{return!!window.sessionStorage}catch(e){}return!1},hp=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return t=fp(),n=pp().join(";"),r=navigator.userAgent.replace(/;|::/g,""),i=[window.screen.width,window.screen.height,window.screen.colorDepth].join("x"),o=(new Date).getTimezoneOffset(),s=vp(),u=!!document.cookie,c=[r,i,o,u,s,n].join("###"),e.abrupt("return",Promise.resolve({params:t,result:c}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gp="module:link-auth:auth-fail",mp=["lt"],yp=So()(["query","ticket"]),bp=function(){function e(e){var t=e.sessionManager,n=e.hooks,r=e.apiClient,i=e.wuid,o=e.context,a=e.requestManager,s=e.pubsub;this.sessionManager=t,this.hooks=n,this.apiClient=r,this.wuid=i,this.context=o,this.requestManager=a,this.pubsub=s}var t=e.prototype;return t.authenticate=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.lt,r=(0,d.Z)(t,mp),e.next=4,this.getClientInfo();case 4:return i=e.sent,e.next=7,this.transformAuthPayload(Object.assign({},i,t.payload),t);case 7:if(o=e.sent,this.sessionManager.getSessionId()){e.next=11;break}return e.next=11,this.sessionManager.authenticate();case 11:return e.next=13,this.signUp(Object.assign({},r,{query:Object.assign({},t.query,{lt:n}),body:o}));case 13:return s=e.sent,e.next=16,this.saveSession(s);case 16:return e.next=18,this.afterAuth(s);case 18:return e.abrupt("return",s);case 21:return e.prev=21,e.t0=e.catch(0),e.next=25,this.afterAuthFail(e.t0);case 25:throw e.t0;case 26:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),t.getLinkParameters=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiClient.request(Object.assign({},t,{path:"link_parameters"})).then((function(e){return e.payload})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getLinkTokenFromUrl=function(){var e=this.getCurrentUrl();return this.hooks.runHooks("module:link-auth:token:get",this.context,yp(e),e)},t.getCurrentUrl=function(){var e;return e=window.location.href,(0,st.Qc)(e)},t.getClientInfo=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hp();case 2:return t=e.sent,e.abrupt("return",Object.assign({wuid:this.wuid,fingerprint:t.result},t.params));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.saveSession=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionManager.updateSessionStatus(t.sessionId));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.signUp=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiClient.request(Object.assign({timeout:6e4,confirmViewType:"linkAuth",confirmHide:!1},t,{method:"post",path:"sign_up",cache:!1,silent:!0})).then((function(e){return e.payload})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.transformAuthPayload=function(){var e=(0,r.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.hooks.runPromiseHooks("module:link-auth:payload:transform",this.context,n)(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.afterAuth=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.pubsub.publish("module:link-auth:auth",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.afterAuthFail=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"unknown error",o=null!==(r=null==t?void 0:t.stack)&&void 0!==r?r:"no error stack available",e.abrupt("return",this.pubsub.publish(gp,{message:i,stack:o}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),_p=So()(["config","keepLinkAuth"]),Ep=(0,Y.V3)("linkAuthService"),wp=(0,Y.V3)("linkAuthFailedService"),Sp=[{provide:Ep,useClass:bp,deps:{sessionManager:Rc.db,hooks:ie.v,apiClient:mo,wuid:fc,context:A.l,requestManager:at.G,pubsub:se.k3}},{provide:c.Bi.resolvePageDeps,useFactory:function(e){var t=e.pageService,n=e.store,i=e.linkAuthService,o=e.sessionManager;return function(){var e=(0,r.Z)(a().mark((function e(){var r,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.getLinkTokenFromUrl(),s=t.getCurrentRoute(),u=_p(s),c=n.getState(rl),r||u||!Cl(c)){e.next=6;break}return e.abrupt("return",o.replaceWithNewSession());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},deps:{pageService:Zt.Y9,store:b.kR,linkAuthService:Ep,sessionManager:Rc.db},multi:!0}],Tp=n(52141),Ap=n.n(Tp),kp=function(){function e(e){var t=e.linkAuthService,n=e.sessionManager,r=e.linkAuthFailedService,i=e.pageService;this.linkAuthFailedService=r,this.linkAuthService=t,this.sessionManager=n,this.pageService=i}var t=e.prototype;return t.authenticate=function(e){var t=this,n=e.success,r=e.pass,i=this.linkAuthService.getLinkTokenFromUrl();if(!i)return r();this.linkAuthService.authenticate({lt:i,confirmHide:!0}).then(n).catch((function(){return t.sessionManager.logout().then(t.removeTicketFromUrl.bind(t)).then((function(){if(!Gs()(t.linkAuthFailedService))return t.linkAuthFailedService.execute()})).then(r)}))},t.removeTicketFromUrl=function(){var e=this.linkAuthService.getCurrentUrl(),t=Ap()(["ticket"],e.query),n=(0,st.WU)(Object.assign({},Ap()(["search"],e),{query:t}));return this.pageService.navigate({url:n})},(0,Pl.Z)(e,[{key:"name",get:function(){return"LinkStrategy"}}]),e}(),Op=function(){};Op=(0,f.__decorate)([(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Sp),[{provide:Rc.sI,useClass:kp,deps:{pageService:Zt.Y9,linkAuthService:Ep,sessionManager:Rc.db,linkAuthFailedService:{token:wp,optional:!0}},multi:!0}])})],Op);var Cp,Rp={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Ip=new Uint8Array(16);function Np(){if(!Cp&&!(Cp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cp(Ip)}for(var Mp=[],xp=0;xp<256;++xp)Mp.push((xp+256).toString(16).slice(1));var Pp=function(e,t,n){if(Rp.randomUUID&&!t&&!e)return Rp.randomUUID();var r=(e=e||{}).random||(e.rng||Np)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e,t){return void 0===t&&(t=0),Mp[e[t+0]]+Mp[e[t+1]]+Mp[e[t+2]]+Mp[e[t+3]]+"-"+Mp[e[t+4]]+Mp[e[t+5]]+"-"+Mp[e[t+6]]+Mp[e[t+7]]+"-"+Mp[e[t+8]]+Mp[e[t+9]]+"-"+Mp[e[t+10]]+Mp[e[t+11]]+Mp[e[t+12]]+Mp[e[t+13]]+Mp[e[t+14]]+Mp[e[t+15]]}(r)},Lp=function(e,t){return(Lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Dp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Lp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var jp=function(){return(jp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Bp(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Up(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Fp(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}var Vp=function(){var e=0;return function(){return{clientEventTimestamp:Date.now(),clientUploadTimestamp:Date.now(),sequence:++e,uuid:Pp()}}},Wp=function(){function e(){this.listeners=Object.create(null)}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t})))},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.listeners[e];if(r)for(var i=0,o=r;i<o.length;i++)o[i].apply(void 0,t)},e}(),qp="undefined"!=typeof globalThis?globalThis:window,Hp=qp.document,Gp=qp.window,Zp=qp.navigator,Kp=qp.XMLHttpRequest,Jp=new(function(){function e(){this.isCookieAvailable=null,this.hasSamesiteNoneSupport=null,this.localState=Object.create(null)}return e.prototype.checkCookieAvailability=function(){if(null!=this.isCookieAvailable)return this.isCookieAvailable;if(null==Hp.cookie)return this.isCookieAvailable=!1,this.isCookieAvailable;var e="test_cookie_sqJPwCiceI";Hp.cookie="".concat(e,"=true");var t=this.getCookie(e);return this.isCookieAvailable="true"===t,Hp.cookie="".concat(e,"=; expires=").concat(new Date(0).toUTCString()),this.isCookieAvailable},e.prototype.checkSamesiteNoneSupport=function(){if(null!=this.hasSamesiteNoneSupport)return this.hasSamesiteNoneSupport;if(!this.checkCookieAvailability())return this.hasSamesiteNoneSupport=!1,this.hasSamesiteNoneSupport;var e="test_cookie_yIKsyPp4Fh";Hp.cookie="".concat(e,"=true; samesite=none; secure");var t=this.getCookie(e);return this.hasSamesiteNoneSupport="true"===t,Hp.cookie="".concat(e,"=; expires=").concat(new Date(0).toUTCString()),this.hasSamesiteNoneSupport},e.prototype.trimSubdomains=function(e){return e.split(".").slice(-2).join(".")},e.prototype.getCookie=function(e){return Hp.cookie.split("; ").reduce((function(t,n){var r=n.split("=");return r[0]===e?decodeURIComponent(r[1]):t}),"")||null},e.prototype.setCookie=function(e,t,n){var r=[],i=null!=n?n:new Date(Date.now()+15768e7).toUTCString();return r.push("".concat(e,"=").concat(encodeURIComponent(t)),"path=/","domain=".concat(this.trimSubdomains(Gp.location.hostname)),"expires=".concat(i)),this.checkSamesiteNoneSupport()&&r.push("samesite=none","secure"),Hp.cookie=r.join("; "),t},e.prototype.removeCookie=function(e){null!==this.getCookie(e)&&this.setCookie(e,"",new Date(0).toUTCString())},e.prototype.getLocalState=function(e){return this.localState[e]||null},e.prototype.setLocalState=function(e,t){return this.localState[e]=t.toString(),t},e.prototype.removeLocalState=function(e){e in this.localState&&delete this.localState[e]},e.prototype.get=function(e){return this.checkCookieAvailability()?this.getCookie(e):this.getLocalState(e)},e.prototype.set=function(e,t,n){return this.checkCookieAvailability()?this.setCookie(e,t,n):this.setLocalState(e,t)},e.prototype.remove=function(e){this.checkCookieAvailability()?this.removeCookie(e):this.removeLocalState(e)},e}()),zp=/^[0-9a-f]{32}$/,Yp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/,Qp=function(e){var t;if((t="cookies"===e.from?Jp.get("__P__wuid"):new URLSearchParams(Gp.location.search).get("wuid"))&&function(e){return zp.test(e)||Yp.test(e)}(t))return t},Xp=function(e){return"function"==typeof e?e():e},$p={test:atob("aHR0cHM6Ly9hcGktc3RhdGlzdC5kZXYtdGNzZ3JvdXAuaW8="),prod:"https://api-statist.tinkoff.ru"},ev=function(e){try{return Gp.localStorage.getItem(e)}catch(e){return null}},tv=function(){var e=ev("__statist_saved_messages");if(null===e)return[];try{return JSON.parse(e)}catch(e){return[]}},nv=function(){return function(e){try{return Gp.localStorage.removeItem("__statist_saved_messages"),!0}catch(e){return!1}}()},rv=function(){function e(e,t){var n,r=this;this.timer=null,this.eventEmitter=new Wp,this.destroy=function(){Hp.removeEventListener("visibilitychange",r.handleVisibilityChange),Gp.removeEventListener("pagehide",r.handlePageHide)},this.handleVisibilityChange=function(){"hidden"===Hp.visibilityState?r.sendByBeacon():r.processSavedMessages()},this.handlePageHide=function(){r.sendByBeacon()},this.pushEventsUrl="".concat(e,"/gateway/v1/events"),this.batchSize=t.batchSize,this.pushInterval=t.pushInterval,this.pushTimeout=null!==(n=t.pushTimeout)&&void 0!==n?n:t.pushInterval,this.savedMessagesSize=t.savedMessagesSize,this.eventsJsonSizeLimit=t.eventsJsonSizeLimit,this.gzipDisabled=!("true"===ev("_statist_enable_gzip")),"visibilityState"in Hp&&Hp.addEventListener("visibilitychange",this.handleVisibilityChange,!1),Gp.addEventListener("pagehide",this.handlePageHide,!1),this.events=this.excludeOutdatedMessages(tv()),this.sequence=this.getMaxSequence(this.events),this.events.length>0&&(nv(),this.startPush())}return e.prototype.handleApiError=function(e){var t,n,r=this;if(e.status<200||e.status>=500)return this.saveMessages(e.events),void this.startPush();if(e.response)try{var i=JSON.parse(e.response);if(i.message&&(null===(t=i.details)||void 0===t?void 0:t.errors))return void i.details.errors.forEach((function(t){t&&r.eventEmitter.emit("error",Object.assign(new Error(i.message),{status:e.status,response:t}))}))}catch(e){}this.eventEmitter.emit("error",Object.assign(new Error(null!==(n=e.response)&&void 0!==n?n:e.message),{status:e.status}))},e.prototype.saveMessages=function(e){if(0===e.length)return!0;var t=Fp(Fp([],tv(),!0),e,!0);if(t.length>this.savedMessagesSize){var n=t.length-this.savedMessagesSize;t.splice(0,n)}return function(e){try{return function(e,t){try{return Gp.localStorage.setItem("__statist_saved_messages",t),!0}catch(e){return!1}}(0,JSON.stringify(e))}catch(e){return!1}}(t)},e.prototype.excludeOutdatedMessages=function(e){var t=Date.now();return e.filter((function(e){var n=e.eventParameters.clientEventTimestamp;return t-n<5184e6}))},e.prototype.processSavedMessages=function(){this.events=Fp(Fp([],tv(),!0),this.events,!0),this.events.length>0&&(nv(),this.sequence=this.getMaxSequence(this.events),this.startPush())},e.prototype.getEventsJsonSize=function(){var e=JSON.stringify(this.events);return new Blob([e]).size},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.startPush=function(){var e=this;if(0!==this.events.length){var t=function(t){return(e.isReady()?e.pushEvents(t):Promise.resolve()).then((function(){e.timer=null,e.startPush()}),(function(t){e.timer=null,e.handleApiError(t)}))};this.getEventsJsonSize()>=this.eventsJsonSizeLimit?t(this.events.length):this.timer||(this.timer=setTimeout((function(){return t(e.batchSize)}),this.pushInterval))}},e.prototype.pushEvents=function(e){return Bp(this,void 0,void 0,(function(){var t;return Up(this,(function(n){return t=this.events.splice(0,e),[2,this.sendByXhr(t)]}))}))},e.prototype.updateTimestamp=function(e){for(var t=Date.now(),n=0,r=e;n<r.length;n++)r[n].eventParameters.clientUploadTimestamp=t},e.prototype.updateSequence=function(e){e.eventParameters.sequence=++this.sequence},e.prototype.getMaxSequence=function(e){var t=0;return e.forEach((function(e){var n=e.eventParameters.sequence;n>t&&(t=n)})),t},e.prototype.sendByXhr=function(e){var t=this;return Kp?e.length?(this.updateTimestamp(e),new Promise((function(n,r){var i=new Kp,o=function(){if(i.status>=200&&i.status<=204)n();else{var t=Object.assign(new Error(i.responseText),{status:i.status,response:i.responseText,events:e});r(t)}};i.onerror=o,i.onload=o,i.ontimeout=o,i.timeout=t.pushTimeout;var a=JSON.stringify(e);t.gzipDisabled?t.sendEventsJSON(a,i):t.sendEventsGZip(a,i)}))):Promise.resolve():Promise.reject()},e.prototype.sendEventsJSON=function(e,t){t.open("POST",this.pushEventsUrl,!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(e)},e.prototype.sendEventsGZip=function(e,t){var n=this;(function(e){return Bp(void 0,void 0,void 0,(function(){return Up(this,(function(t){return[2,Promise.resolve().then((function(){return new Blob([e],{type:"application/json"}).stream().pipeThrough(new Gp.CompressionStream("gzip"))})).then((function(e){return new Response(e)})).then((function(e){return e.blob()}))]}))}))})(e).then((function(e){try{t.open("POST",n.pushEventsUrl,!0),t.setRequestHeader("Content-Type","application/gzip"),t.setRequestHeader("Content-Encoding","gzip"),t.send(e)}catch(e){}})).catch((function(){n.sendEventsJSON(e,t)}))},e.prototype.sendByBeacon=function(){var e=this.events;this.events=[],e.length&&(Zp.onLine?(this.updateTimestamp(e),Zp.sendBeacon(this.pushEventsUrl,JSON.stringify(e))||this.saveMessages(e)):this.saveMessages(e))},e.prototype.forceSend=function(){this.sendByBeacon()},e.prototype.send=function(e){this.updateSequence(e),this.events.push(e),this.startPush()},e.prototype.isReady=function(){return!0},e}(),iv=function(){function e(e,t,n,r){void 0===r&&(r=18e5),this.clientParameters=e,this.transport=t,this.eventParameters=n,this.sessionTimeout=r,this.deviceId=function(){var e,t=Qp({from:"query"}),n=Qp({from:"cookies"});if(t){e=t;var r="true"===new URLSearchParams(Gp.location.search).get("iswebview");n&&!r||Jp.set("__P__wuid",e)}else e=n;return e||(e=function(e){var t="";if("undefined"!=typeof crypto){var n=Math.ceil(16),r=new Uint8Array(n);crypto.getRandomValues(r),r.forEach((function(e){t+=e.toString(16).padStart(2,"0")}))}else for(var i=0;i<32;i++)t+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return t.substring(0,32)}(),Jp.set("__P__wuid",e)),function(e){Jp.get("stDeIdU")!==e&&Jp.set("stDeIdU",e)}(e),e}(),this.screenWidth=Gp.screen.width,this.screenHeight=Gp.screen.height,this.codegenVersion="",this.eventEmitter=new Wp}return e.createTransport=function(e){var t=e.transportOptions,n=e.environment,r=t||{},i=r.batchSize,o=void 0===i?100:i,a=r.pushInterval,s=void 0===a?5e3:a,u=r.pushTimeout,c=void 0===u?3e4:u,l=r.savedMessagesSize,d=void 0===l?1e3:l,f=r.eventsJsonSizeLimit,p=void 0===f?32e3:f,v=r.endpointUrl,h=void 0===v?$p[n||"prod"]:v,g=r.gzip,m=void 0===g||g,y=qp._statistTransports||(qp._statistTransports={});qp._statistTransport&&!y[$p.prod]&&(y[$p.prod]=qp._statistTransport),qp._statistDevTransport&&!y[$p.test]&&(y[$p.test]=qp._statistDevTransport);var b=y[h];if(b)return b;var _=new rv(h,{batchSize:o,pushInterval:s,pushTimeout:c,preconnect:!1,savedMessagesSize:d,eventsJsonSizeLimit:p,gzip:m});return y[h]=_,h===$p.prod?qp._statistTransport=_:h===$p.test&&(qp._statistDevTransport=_),_},e.prototype.getSessionId=function(){var e=Jp.get("vIdUid"),t=Number(Jp.get("stLaEvTi"))||null;if(null!==e&&null!==t&&Date.now()-t<this.sessionTimeout)return e;var n=Jp.set("vIdUid",Pp());return Jp.remove("stLaEvTi"),Jp.remove("stSeStTi"),n},e.prototype.getSessionStartTime=function(){return null===Jp.get("stSeStTi")?Date.now():Number(Jp.get("stSeStTi"))},e.prototype.resolveClientParameters=function(e){return jp(jp({},null!=e?e:this.clientParameters),{sessionId:this.getSessionId(),deviceId:this.deviceId,sessionStartTime:this.getSessionStartTime(),screenWidth:this.screenWidth,screenHeight:this.screenHeight,sdkVersion:"0.4.69",codegenVersion:this.codegenVersion})},e.prototype.transportSend=function(e){this.transport.send(e),Jp.set("stLaEvTi",Date.now()),null===Jp.get("stSeStTi")&&Jp.set("stSeStTi",e.clientParameters.sessionStartTime)},e.prototype.sendUserProperties=function(e,t,n,r){var i,o,a=((i={kind:"userProperties",project:e,eventParameters:Xp(this.eventParameters),clientParameters:this.resolveClientParameters()})[n]=((o={})["$".concat(t)]=r,o),i);this.transportSend(a),this.eventEmitter.emit("message",{type:"userProperties",message:a})},e.prototype.send=function(e,t,n,r){var i={project:e,name:t,parameters:n,eventParameters:Xp(this.eventParameters),clientParameters:this.resolveClientParameters(r)};this.transportSend(i),this.eventEmitter.emit("message",{type:"event",message:i})},e.prototype.updateClientParameters=function(e){for(var t in e)this.clientParameters[t]=e[t]},e.prototype.updateUserProperties=function(e,t,n){this.sendUserProperties(e,t,"userProperties",null!=n?n:{})},e.prototype.updateFeatureFlags=function(e,t){this.sendUserProperties(e,"set","featureFlags",null!=t?t:{})},e.prototype.updateABGroups=function(e,t){this.sendUserProperties(e,"set","ABGroups",null!=t?t:{})},e.prototype.on=function(e,t){"message"===e?this.eventEmitter.on(e,t):this.transport.on(e,t)},e.prototype.off=function(e,t){"message"===e?this.eventEmitter.off(e,t):this.transport.off(e,t)},e.prototype.forceSend=function(){var e,t;null===(t=(e=this.transport).forceSend)||void 0===t||t.call(e)},e.prototype._setCodegenVersion=function(e){this.codegenVersion=e},e}(),ov=function(e){return qp._statistClientInitOptions?Aa()(e,qp._statistClientInitOptions):e},av=function(e){function t(t){var n=ov(t);return e.call(this,n.clientParameters,iv.createTransport(n),n.eventParameters||Vp(),n.sessionTimeout)||this}return Dp(t,e),t.prototype.send=function(t,n,r,i){return e.prototype.send.call(this,t,n,r||{},i)},t}(iv),sv=(function(e){function t(t){var n=ov(t);return e.call(this,n.clientParameters,iv.createTransport(t),n.eventParameters||Vp(),n.sessionTimeout)||this}Dp(t,e),t.prototype.send=function(t,n,r,i){return e.prototype.send.call(this,t,n,r,i)}}(iv),n(21789)),uv=(0,h.Y)({providers:[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"APP_VERSION",optional:!0,dehydrate:!0},{key:"STATIST_CLIENT_URL",optional:!0,dehydrate:!0}]}),(0,u.J)({provide:sv.E,useFactory:function(e){var t=e.appInfo,n=e.logger,r=function(e,t){var n;return{clientParameters:{client:e.appName,clientVersion:null!==(n=t.get("APP_VERSION"))&&void 0!==n?n:"1.0.0",ssoId:null},transportOptions:{endpointUrl:t.get("STATIST_CLIENT_URL")}}}(t,e.envManager),i=n({name:"statist:event",defaults:{remote:!0}}),o=new av(r);return o.on("error",(function(e){0!==e.status&&i.error({event:"send-failed",error:e,status:e.status,response:e.response})})),o},deps:{appInfo:g.Qo,store:b.kR,logger:Q.Fp,envManager:y.vC}}),(0,u.J)({provide:sv.se,useFactory:function(e){return e.statistClient},deps:{statistClient:sv.E}}),(0,u.J)({provide:sv.Kf,useFactory:function(e){return e.statistClient},deps:{statistClient:sv.E}}),(0,u.J)({provide:sv.nN,useValue:!0}),(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.store,n=e.statistClient,r=e.trackAndUpdateSsoIdFlag;return function(){if(r){var e=function(e){n.updateClientParameters({ssoId:e.ssoId||null})};t.subscribe(il.p,e),e(t.getState(il.p))}}},deps:{store:b.kR,statistClient:sv.E,trackAndUpdateSsoIdFlag:sv.nN}})]})(function(){function e(){}return e.forRoot=function(t){var n=t.trackAndUpdateSsoId,r=void 0===n||n,i=[];return i.push((0,u.J)({provide:sv.nN,useValue:r})),{mainModule:e,providers:i}},e}()),cv=(0,Y.V3)("INTERNAL_SSO_LINK_AUTH_PROCESSOR_TOKEN"),lv=(0,Y.V3)("SSO_LOGGER_TOKEN"),dv=(0,Y.V3)("SSO_LINK_AUTH_IFRAME_MANAGER_TOKEN"),fv=(0,Y.V3)("SSO_LINK_AUTH_SERVICE_TOKEN"),pv=(0,Y.V3)("SSO_LINK_AUTH_MODE_TOKEN"),vv=(0,Y.V3)("SSO_LINK_AUTH_THEME_TOKEN"),hv=(0,Y.V3)("SSO_LINK_AUTH_GET_TOKEN"),gv=(0,Y.V3)("SSO_LINK_AUTH_FAILED_SERVICE_TOKEN"),mv=(0,Y.V3)("SSO_LINK_AUTH_COMPONENT"),yv="module:sso-link-auth:success",bv="module:sso-link-auth:failure",_v="fullscreen",Ev={COMPLETE:"authComplete",ERROR:"authError",PREPARE_ERROR:"authPrepareError"},wv="loading",Sv="asked-challenges",Tv="challenges-passed",Av="loaded",kv="error",Ov=[Av,kv,"timeout-error"],Cv=ht()(Ev),Rv=[Ev.ERROR,Ev.PREPARE_ERROR],Iv="module:sso:success",Nv="module:sso:failure",Mv="module:sso:iframe:status-changed",xv="module:sso:challenges:started",Pv="module:sso:challenges:finished",Lv="module:sso:forms:height-change",Dv=["fingerprint","complete"],jv=function(){function e(e){var t=this,n=e.mode,r=e.logger,i=e.pubsub;this.currentStatus="standby",this.sourceWindow=null,this.offsetHeight=0,this.cachedSrc="",this.updateStatus=function(e){t.pubsub.publish(Mv,e),t.currentStatus=e},this.heightChangeHandler=function(e){t.offsetHeight=e,"context"===t.mode&&(t.iframe.height=t.offsetHeight.toString())},this.mode=n||_v,this.logger=r,this.pubsub=i,this.iframe=document.createElement("iframe"),this.iframe.style.display="block",this.iframe.style.overflow="hidden",this.iframe.style.border="none",this.iframe.style.top="0",this.iframe.scrolling="no",this.iframe.id="sso-link-auth-iframe",this.mode===_v&&(this.mountToBody(),this.hideIframe()),this.hideIframe();var o=function(e){var t=e.pubsub,n=e.iframeManager,r=e.logger,i=e.updateIframeStatus;return function(e){if((s=e.data)&&!s.data&&"string"==typeof s.messageCode&&ju()(s.messageCode,Cv))!function(e){var t=e.data;return t.messageCode===Ev.COMPLETE&&void 0===t.error&&t.accessLevel!==el.t1.ANONYMOUS}(e)?function(e){var t=e.data;return t.messageCode===Ev.COMPLETE&&(t.accessLevel===el.t1.ANONYMOUS||void 0!==t.error)||ju()(t.messageCode,Rv)}(e)&&(i(kv),t.publish(Nv,e.data)):(i(Av),t.publish(Iv,e.data));else if(function(e){var t=e.data;return"sso-context-auth-form"===(null==t?void 0:t.source)}(e)){if(function(e){var t=e.data;return"height-change"===t.type&&"number"==typeof t.offsetHeight}(e))t.publish(Lv,e.data.offsetHeight);else if(function(e){var t=e.data;return"sso-initialized-form-name"===t.type&&"string"==typeof t.payload}(e)){var o=e.data.payload;t.publish("module:sso:forms:initialized",o),n.status===Sv||Dv.includes(o)||(i(Sv),t.publish(xv))}else if(function(e){var t=e.data;return"sso-form-submit"===t.messageCode&&"string"==typeof t.payload}(e)){var a=e.data.payload;t.publish("module:sso:forms:submit",a),n.status!==Tv&&"complete"===a&&(i(Tv),t.publish(Pv))}}else r.debug("Unknown auth message: "+JSON.stringify(e.data,null,2));var s}}({iframeManager:this,logger:this.logger,pubsub:this.pubsub,updateIframeStatus:this.updateStatus});this.messageEventHandler=function(e){t.isRelevantMessage(e)&&(t.logger.debug("Handled iframe post message",e),o(e))},this.logger.debug("Empty iframe created"),window.addEventListener("message",this.messageEventHandler),this.pubsub.subscribe(Lv,this.heightChangeHandler)}var t=e.prototype;return t.isIframeMounted=function(){return null!==this.iframe.parentElement},t.updateSrc=function(e){this.iframe.src=e,this.sourceWindow=this.iframe.contentWindow},t.appendIframeTo=function(e){var t=this.iframe;t.parentElement!==e&&e.appendChild(t)},t.hideIframe=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.iframe).width="0",t.height="0",t.style.position="absolute",t.style.left="-4000px",this.logger.debug("Iframe hidden");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.unmount=function(){this.iframe.remove()},t.mountToBody=function(){this.appendIframeTo(document.body)},t.showIframeIn=function(){var e=(0,r.Z)(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n="100%"),void 0===r&&(r="0"),"context"===this.mode){e.next=5;break}return this.logger.error("Trying to show context iframe in "+this.mode+" mode"),e.abrupt("return");case 5:(i=this.iframe).width=n,i.height=(this.offsetHeight||r).toString(),i.style.position="static",i.style.left="0",this.appendIframeTo(t),this.cachedSrc&&this.updateSrc(this.cachedSrc),this.logger.debug("Iframe shown in context mode");case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.resize=function(e){var t=e.width,n=e.height,r=this.iframe;void 0!==t&&(r.width=t),void 0===n||this.offsetHeight||(r.height=n)},t.showFullscreenIframe=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("fullscreen"===this.mode){e.next=3;break}return this.logger.error("Trying to show fullscreen iframe in "+this.mode+" mode.\nIf you wan't to show context challenges - set"),e.abrupt("return");case 3:(t=this.iframe).width="100%",t.height="100%",t.style.position="fixed",t.style.left="0",this.logger.debug("Iframe shown in fullscreen mode");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.cleanup=function(){this.iframe.remove(),window.removeEventListener("message",this.messageEventHandler)},t.isRelevantMessage=function(e){return e.source===this.sourceWindow},(0,Pl.Z)(e,[{key:"status",get:function(){return this.currentStatus}},{key:"src",get:function(){return this.iframe.src||this.cachedSrc},set:function(e){this.updateStatus(wv),this.sourceWindow=null,this.isIframeMounted()?this.updateSrc(e):(this.logger.debug("Src cleared"),this.updateSrc(""),this.cachedSrc=e)}}]),e}(),Bv="sso:auth:link:status:suspense",Uv="sso:auth:link:status:success",Fv="sso:auth:link:status:failure",Vv=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise),this.finally=this.promise.finally.bind(this.promise)}return(0,Pl.Z)(e,[{key:"native",get:function(){return this.promise}}]),e}(),Wv=function(e,t){return Object.assign(new Error(e),{type:t})},qv=n(87300),Hv=n.n(qv);var Gv=function(e){var t=e.split("."),n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,t,2),r=n[0],i=n[1],o=void 0===i?"":i;return r.slice(0,12)+Hv()(r.slice(12).length,"*")+"."+o},Zv=function(e){if("object"!=typeof e||null===e)return e;var t=Object.assign({},e),n=t.sessionid,r=t.sessionId;return"string"==typeof n&&(t.sessionid=Gv(n)),"string"==typeof r&&(t.sessionId=Gv(r)),t},Kv=$o()((function(e){return void 0!==e})),Jv=[Uv,Fv],zv=function(){function e(e){var t=this,n=e.logger,i=e.pubsub,o=e.envManager,s=e.appInfo,u=e.iframeManager,c=e.sessionManager,l=e.mode,d=e.theme;this.authPromise=new Vv,this.timeoutId=-1,this.unsubscribers=[],this.currentStatus=Bv,this.cachedToken=void 0,this.logger=n,this.pubsub=i,this.envManager=o,this.appInfo=s,this.sessionManager=c,this.iframeManager=u,this.mode=l||_v,this.theme=d||(this.mode===_v?"default":"context"),this.authPromise.then((function(e){t.currentStatus=Uv,t.logger.debug("Auth success",e)})).catch((function(e){t.currentStatus=Fv,t.logger.debug("Auth failure",e)})),this.unsubscribers.push(i.subscribe(jl.qD,(function(e){if("ANONYMOUS"===e.session.accessLevel&&Jv.includes(t.currentStatus)){var n=t.generateAuthUrl();t.logger.debug("Restore session"),t.iframeManager.src=n}})),this.pubsub.subscribe(Iv,function(){var e=(0,r.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sessionId,e.next=3,t.sessionManager.updateSessionStatus(r).then((function(){t.logger.debug({event:"iframe-auth-success",data:Zv(n)}),t.pubsub.publish(yv,Object.assign({},n)),t.authPromise.resolve(Object.assign({},n))})).catch((function(e){t.logger.error({event:"iframe-auth-session-update-error",error:e}),t.currentStatus=Fv,t.pubsub.publish(bv,e),t.authPromise.reject(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.pubsub.subscribe(Nv,function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pubsub.publish(bv,Object.assign({},n)),e.abrupt("return",t.authPromise.reject(Object.assign({},n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.pubsub.subscribe(xv,(function(){t.pubsub.publish("module:sso-link-auth:challenges:started"),t.mode===_v&&(clearTimeout(t.timeoutId),t.iframeManager.showFullscreenIframe())})),this.pubsub.subscribe(Pv,(function(){t.pubsub.publish("module:sso-link-auth:challenges:finished"),t.mode===_v&&t.iframeManager.hideIframe()})))}var t=e.prototype;return t.authenticate=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.generateAuthUrl(t),this.iframeManager.src=n,this.cachedToken=t,this.logger.debug("Auth mode: "+this.mode),this.currentStatus="sso:auth:link:status:loading",this.mode===_v&&this.setTimeout(),e.abrupt("return",this.authPromise.native);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.reload=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==this.cachedToken?(this.logger.debug("Reloading"),this.authenticate(this.cachedToken)):this.logger.debug("No cached token for reloading");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.cleanup=function(){this.iframeManager.cleanup(),clearTimeout(this.timeoutId),this.unsubscribers.forEach((function(e){return e()})),this.unsubscribers=[],this.currentStatus=Bv},t.setTimeout=function(){var e=this;clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((function(){return e.authPromise.reject(Wv("SSO timeout","SsoTimeout"))}),1e4)},t.generateAuthUrl=function(e){var t=this.envManager,n=t.get("SSO_LINK_AUTH_TINKOFF_API")||t.get("TINKOFF_API"),r={origin:"web,ib5,platform",appName:this.appInfo.appName,appVersion:this.envManager.get("APP_VERSION"),theme:this.theme};return void 0!==e?r.link_token=e:r.prompt="none",(0,st.DI)(n+"session/link/authorize",Kv(r)).toString()},e}(),Yv=function(){function e(e){this.store=e.store,this.pubsub=e.pubsub,this.logger=e.logger,this.mode=e.mode||_v,this.authProcessor=e.authProcessor,this.authService=e.authService,this.sessionManager=e.sessionManager,this.failedService=e.failedService}var t=e.prototype;return t.authenticate=function(e){var t=this,n=e.pass,r=e.success,i=this.store.getState(rl);if((0,el.QO)(i))this.logger.debug("Auth skipped - already authorized"),n();else{var o=this.authService.getLinkTokenFromUrl();if(!function(e){return"string"==typeof e&&30===e.length}(o))return this.logger.debug("Invalid token"),this.pubsub.publish(bv,Wv("Invalid link token","SsoInvalidLinkToken")),void n();var a=this.authProcessor.authenticate(o);a.catch((function(){t.sessionManager.logout().then((function(){t.failedService&&t.failedService.execute()}))})),this.mode===_v?a.then(r).catch(n):n()}},t.cleanup=function(){this.authProcessor.cleanup()},(0,Pl.Z)(e,[{key:"name",get:function(){return"SsoLinkAuthStrategy"}}]),e}(),Qv=n(15118),Xv="timeout",$v=function(e){var t=e.status,n=e.renderErrorMessage,r=void 0===n?function(){return null}:n,i=e.renderLoadingStatus,o=e.renderTimeoutMessage,a=void 0===o?function(){return null}:o,s=(0,tr.x)({linkAuthProcessor:cv}).linkAuthProcessor,u=function(){return s.reload()};switch(t){case kv:return r({onReloadButtonClick:u});case wv:return i({});case Xv:return a({onReloadButtonClick:u});default:return null}},eh={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",minHeight:"64px",textAlign:"center"},th={fontSize:"30px",margin:"26px 0 12px"},nh={fontSize:"20px",marginBottom:"5px",color:"#0000ee",backgroundColor:"initial",border:"none",outline:"none",cursor:"pointer"},rh=function(e){var t=e.onReloadButtonClick,n=e.title,r=e.reloadText;return(0,Xn.jsxs)("div",{style:eh,"data-testid":"sso:link:message",children:[(0,Xn.jsx)("div",{style:th,"data-testid":"sso:link:message:title",children:n}),(0,Xn.jsx)("button",{style:nh,"data-testid":"sso:link:message:reload-button",type:"button",onClick:t,children:r})]})},ih=function(e){var t=e.onReloadButtonClick;return(0,Xn.jsx)(rh,{title:"Время ожидания истекло...",reloadText:"Перезагрузить форму",onReloadButtonClick:t})},oh=function(e){var t=e.onReloadButtonClick;return(0,Xn.jsx)(rh,{title:"Произошла ошибка",reloadText:"Попробовать ещё раз",onReloadButtonClick:t})};function ah(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var sh=[].concat(ah(i.Z,Ov),[Xv]),uh={position:"relative"},ch={backgroundColor:"white",position:"absolute",top:"0",width:"100%",height:"100%"},lh=Ap()(["ticket"]),dh=function(){function e(e){var t=this;this.hooks=e.hooks,this.context=e.context,this.requestManager=e.requestManager,this.apiClient=e.apiClient,this.pageService=e.pageService,this.pubsub=e.pubsub,this.pubsub.subscribe(bv,(function(){t.removeTicketFromUrl()}))}var t=e.prototype;return t.getCurrentUrl=function(){var e;return e=window.location.href,(0,st.Qc)(e)},t.getLinkTokenFromUrl=function(){var e=this.getCurrentUrl();return this.hooks.runHooks(hv,this.context,e.query.ticket,e)},t.getLinkParameters=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiClient.request({path:"link_parameters"}).then((function(e){return e.payload})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.removeTicketFromUrl=function(){var e=this.getCurrentUrl(),t=this.getLinkTokenFromUrl();if(e.query.ticket&&!function(e){return"string"==typeof e&&64===e.length}(t)){var n=lh(e.query),r=(0,st.WU)(Object.assign({},Ap()(["search"],e),{query:n}));return this.pageService.navigate({url:r})}},e}(),fh=(0,T.J)({name:"SsoLinkAuthModule",imports:[],providers:[(0,u.J)({provide:fv,useClass:dh,deps:{hooks:ie.v,context:A.l,requestManager:at.G,apiClient:mo,pageService:Zt.Y9,pubsub:se.k3}}),(0,u.J)({provide:mv,useValue:function(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,i=void 0===r?"96px":r,o=e.loadingTimeout,a=void 0===o?1e4:o,s=e.onSuccess,u=void 0===s?Ft():s,c=e.renderErrorMessage,l=void 0===c?function(e){var t=e.onReloadButtonClick;return(0,Xn.jsx)(oh,{onReloadButtonClick:t})}:c,d=e.renderTimeoutMessage,f=void 0===d?function(e){var t=e.onReloadButtonClick;return(0,Xn.jsx)(ih,{onReloadButtonClick:t})}:d,p=(0,tr.x)({iframeManager:dv,parentLogger:lv,pubsub:se.k3}),v=p.iframeManager,h=p.parentLogger,g=p.pubsub,m=h.child("component"),y=g,b=(0,$n.useState)(v.status),_=ah(pe.Z,b,2),E=_[0],w=_[1],S=(0,$n.useRef)(null);return(0,$n.useEffect)((function(){if(E===wv){var e=setTimeout((function(){return w(Xv)}),a);return m.debug("Timeout started"),function(){clearTimeout(e),m.debug("Timeout cleared")}}}),[E,m,a]),(0,$n.useEffect)((function(){null!==S.current&&v.showIframeIn(S.current,n,i);var e=[y.subscribe(Mv,w),y.subscribe(yv,u)];return function(){e.forEach((function(e){return e()})),sh.includes(E)||m.warn("You are unmounting the component before authorization is complete. This may lead to unpredictable behavior.")}}),[]),(0,$n.useEffect)((function(){return v.resize({width:n})}),[v,n]),(0,$n.useEffect)((function(){return v.resize({height:i})}),[v,i]),(0,$n.useEffect)((function(){m.debug("Iframe status: "+E)}),[E]),(0,Xn.jsx)("div",{style:uh,ref:S,"data-testid":"sso:link:component",children:(0,Xn.jsx)($v,{status:E,renderErrorMessage:l,renderTimeoutMessage:f,renderLoadingStatus:function(){return(0,Xn.jsx)("div",{style:ch,children:(0,Xn.jsx)(Qv.Z,{centered:!0,size:"xl"})})}})})}}),(0,u.J)({provide:lv,useFactory:function(e){return(0,e.logger)("auth:sso:link")},deps:{logger:Q.Fp}}),(0,u.J)({provide:dv,useClass:jv,deps:{logger:lv,pubsub:se.k3,mode:(0,Y.jt)(pv)}}),(0,u.J)({provide:cv,useClass:zv,deps:{logger:lv,pubsub:se.k3,envManager:y.vC,appInfo:g.Qo,sessionManager:Rc.db,iframeManager:dv,mode:(0,Y.jt)(pv),theme:(0,Y.jt)(vv)}}),(0,u.J)({provide:Rc.sI,multi:!0,useClass:Yv,deps:{logger:lv,hooks:ie.v,context:A.l,requestManager:at.G,store:b.kR,pubsub:se.k3,mode:(0,Y.jt)(pv),authProcessor:cv,authService:fv,pageService:Zt.Y9,sessionManager:Rc.db,failedService:(0,Y.jt)(gv)}}),(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.hooks;return function(){t.registerHooks("module:link-auth:token:get",(function(e,t){return"string"==typeof t&&t.length>30?"signup_"+t:t}))}},deps:{hooks:ie.v}})],extend:{forRoot:function(e){var t=e.mode,n=void 0===t?_v:t,r=e.theme,i=void 0===r?n===_v?"default":"context":r;return[(0,u.J)({provide:pv,useValue:n}),(0,u.J)({provide:vv,useValue:i})]}}}),ph=n(54540),vh=n(39255),hh=n(64054),gh=(0,fe.Vo)({chunkName:function(){return"component-BaseBanner-BaseBanner"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("component-BaseBanner-BaseBanner").then(n.bind(n,63283))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 63283}}),mh="base-banner-id",yh=(0,fe.Vo)({chunkName:function(){return"component-MobileSafariBanner-MobileSafariBanner"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("component-MobileSafariBanner-MobileSafariBanner").then(n.bind(n,20011))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 20011}}),bh="mobile-safari-banner-id",_h={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5},Eh=function(e){if(void 0===e&&(e=0),!e)return 0;if("number"==typeof e)return e;var t=e[e.length-1];return(parseInt(e,10)||0)*_h[t]},wh=n(32263);function Sh(e){return"mobile"===So()(["device","type"],e)}var Th,Ah,kh=n(99186),Oh=n(33411),Ch=n(62426);var Rh,Ih,Nh=(Th=(0,h.Y)({providers:[(0,u.J)({provide:wh.Zq,useValue:new Map}),(0,u.J)({provide:c.Bi.resolveUserDeps,useFactory:function(e){var t=e.pageService,n=e.cookieManager,r=e.userAgent,i=e.eventea,o=e.isPwa,a=e.webview,s=e.appTitle;return function(){var e,u,c,l,d,f,p,v;if(null==a||!a.isWebView)try{var h,g=null!=(h=t.getConfig())?h:{},m=g.bannerButtonText,y=void 0===m?"Скачать":m,b=g.bannerHost,_=g.bannerShowPwaOnly,E=g.showMobileSafariBanner,w=g.bannerPlatform,S=g.bannerTitleAndroid,T=g.bannerTitleIos,A=g.bannerTextAndroid,k=g.bannerTextIos,O=g.bannerIconAndroid,C=g.bannerIconIos,R=g.bannerHrefAndroid,I=g.bannerHrefIos,N=g.showIntervalAndroid,M=g.showIntervalIos,x=!b||window.location.host.includes(b),P=w&&(A||k||S||T)&&(!_||o())&&x,L=Sh(r),D=function(e){return"ios"===e.mobileOS}(r),j=D?[T,k,C,I,M]:[S,A,O,R,N],B=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,j,5),U=B[0],F=B[1],V=B[2],W=B[3],q=B[4];if(null==(e=document.getElementById(mh))||e.remove(),function(){var e;null==(e=document.getElementById(bh))||e.remove()}(),P){var H=function(e,t){return Sh(e)&&("both"===t||t===e.mobileOS)}(r,w);if(!H)return;var G=Number((new Date).getTime()),Z=Number(n.get(wh.Q1))||0,K=Eh(q);if(K&&G-Z<K)return;return u=U,c=F,l=V,d=W,f=y,p=K?function(){null==i||i.send({project:"supreme",event:"bannerAppClose"}),n.set({name:wh.Q1,value:(new Date).getTime().toString()})}:void 0,(v=document.createElement("div")).id=mh,(0,hh.s)(v).render((0,Xn.jsx)(gh,{title:u,text:c,icon:l,href:d,buttonText:f,onClick:function(){null==i||i.send({project:"supreme",event:"bannerAppClick"})},onClose:p})),document.body.prepend(v),void(null==i||i.send({project:"supreme",event:"bannerAppShow"}))}if(L&&!o()&&r.browser.name&&/safari/i.test(r.browser.name)){var J=Number((new Date).getTime()),z=Number(n.get(wh.G2))||0,Y=Eh(M);if(E&&(!Y||J-z>=Y))return void function(e){if(!document.getElementById(bh)){var t=document.createElement("div");t.id=bh,(0,hh.s)(t).render((0,Xn.jsx)(yh,Object.assign({},e))),document.body.prepend(t)}}({eventea:i,cookieManager:n,appTitle:s})}}catch(e){null==i||i.send({project:"supreme",event:"bannerAppError"})}}},deps:{userAgent:L.N,pageService:Zt.Y9,cookieManager:k.T,eventea:{token:Sa.Bv,optional:!0},isPwa:Oh.Im,webview:{optional:!0,token:kh.o3},appTitle:Ch.APP_TITLE_TOKEN},multi:!0})]}),Th(Ah=function(){})||Ah),Mh=n(53188),xh=(Rh=(0,h.Y)({imports:[],providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,"true"===Mh.env.INCLUDE_HTTP_REQUEST_INTERCEPTOR_MODULE?[(0,u.J)({provide:c.Bi.init,useFactory:function(){return function(){}}})]:[])}),Rh(Ih=function(){})||Ih),Ph=n(37152),Lh=n(99454),Dh=n.n(Lh),jh=n(48510),Bh=[(0,u.J)({provide:jh.v5,useFactory:function(e){var t={"www.cdn-tinkoff.ru":"fallback.cdn-tinkoff.ru/www","acdn.tinkoff.ru":"fallback.cdn-tinkoff.ru/acdn","cdn.tbank.ru":"fallback.cdn-tinkoff.ru/acdn","unic-cdn-prod.cdn-tinkoff.ru":"fallback.cdn-tinkoff.ru/unic-cdn-prod"},n=e.envManager.get("RETRY_HOSTNAME_MAP"),r=function(e){return e.endsWith("/")?e.slice(0,-1):e};return void 0!==n?Dh()(t,Co()(n.split(",").map((function(e){return e.split("=")})).map((function(e){return e.map(r)})))):t},deps:{envManager:y.vC}}),(0,u.J)({provide:jh.Jc,useFactory:function(e){var t=e.retryMap;return function(e){return function(e,t){for(var n in t)if(0===e.split("//")[1].indexOf(n))return e.replace(n,t[n]);return e}(e,t)}},deps:{retryMap:jh.v5}}),(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"RETRY_HOSTNAME_MAP",optional:!0}]})],Uh=(0,T.J)({name:"TinkoffRetryModuleDefaults",providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Bh)}),Fh=n(71833),Vh=n(43732);(0,R.y)("boxy ssr data set");var Wh=(0,R.y)("boxy external mappings"),qh=(0,E.L)("microfrontsMappings",{mappings:[],overwritingMapping:null}).on(Wh,(function(e,t){return Object.assign({},e,t)})),Hh=(0,Y.V3)("microfronts mappings logger"),Gh=(0,Y.V3)("after mappings loaded",{multi:!0}),Zh=(0,Y.V3)("external mappings processor"),Kh=(0,Y.V3)("browserPersistingCacheToken"),Jh=(0,Y.V3)("browserPermanentCacheName"),zh="cookieMapping",Yh="cookieMappingUrl";var Qh,Xh,$h=[(0,u.J)({provide:Hh,useFactory:function(e){return(0,e.logger)("boxy")},deps:{logger:Q.Fp}}),(0,u.J)({provide:Vh.kE,useFactory:function(e){var t=e.store;return function(){return t.getState(qh).mappings.map((function(e){return e.mapping}))}},deps:{store:b.kR}}),(0,u.J)({provide:Vh.N3,useFactory:function(e){var t,n=e.cookie,r=e.store,i=e.logger;if(!e.cookieMappingEnabled)return{};var o=n.get(zh),a=null===(t=r.getState(qh).overwritingMapping)||void 0===t?void 0:t.mapping;if(o&&a&&i.warn("Both cookies "+zh+" and "+Yh+" are set. First will be used,\n        but situation is almost certainly undesired. Please use only one at a time."),!o)return a;var s,u=JSON.parse(o);if(s=u,Po()(Po()((function(e){return"npmVersion"in e||"clientJs"in e&&"serverJs"in e})))(s))return u;i.error('Cookie "'+zh+'" is defined, but mapping in value is invalid')},deps:{cookie:k.T,store:b.kR,logger:Hh,env:y.vC,cookieMappingEnabled:Vh.Gj}}),(0,u.J)({provide:Vh.Gj,useFactory:function(e){var t=e.env.get("ENABLE_COOKIE_MAPPING");return!!t&&"false"!==t},deps:{env:y.vC}}),(0,u.J)({provide:Vh.xb,useFactory:function(e){var t=e.env,n=e.urlRewrite,r=t.get("BOXY_BASE_URL");return n?n(r):r},deps:{env:y.vC,urlRewrite:Vh.JM}}),(0,u.J)({provide:Vh.JM,useFactory:function(e){var t=e.env,n=e.requestManager,r=t.get("BOXY_REQUEST_HOSTNAME_MAP");return r?function(e,t){var n;e&&(n=e.split(",").reduce((function(e,t){var n=t.split("="),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,n,2),i=r[0],o=r[1];return e.set(i,o),e}),new Map));var r=new URL(t);return function(e){if(n&&e){var t=new URL(e);return t.hostname=n.get(r.hostname)||t.hostname,t.href}return e}}(r,n.getUrl()):null},deps:{env:y.vC,requestManager:at.G}}),{provide:y.sQ,useValue:[{key:"BOXY_BASE_URL",optional:!0},{key:"ENABLE_COOKIE_MAPPING",optional:!0},{key:"BOXY_REQUEST_HOSTNAME_MAP",optional:!0}],multi:!0},(0,u.J)({provide:Vh.Rq,useFactory:function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return function(e){return new Fh.z(Object.assign({},t,e))}},deps:{fallbackMapping:{token:Vh.Af,multi:!0,optional:!0},customMapping:{token:Vh.go,multi:!0,optional:!0},baseMappingExtensions:{token:Vh.kE,multi:!0,optional:!0},boxyLazy:{token:Vh.iO,optional:!0},overwritingMappingExtension:{token:Vh.N3,optional:!0},refreshMappings:{token:Vh.pX,optional:!0},boxyBaseUrl:Vh.xb,urlRewrite:{token:Vh.JM,optional:!0}}})],eg=function(e,t){return t.some((function(t){return e instanceof t}))},tg=new WeakMap,ng=new WeakMap,rg=new WeakMap,ig=new WeakMap,og=new WeakMap,ag={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ng.get(e);if("objectStoreNames"===t)return e.objectStoreNames||rg.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ug(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function sg(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Xh||(Xh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(cg(this),n),ug(tg.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ug(t.apply(cg(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t.call.apply(t,[cg(this),e].concat(r));return rg.set(o,e.sort?e.sort():[e]),ug(o)}:(e instanceof IDBTransaction&&function(e){if(!ng.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ng.set(e,t)}}(e),eg(e,Qh||(Qh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ag):e);var t}function ug(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(ug(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&tg.set(t,e)})).catch((function(){})),og.set(t,e),t}(e);if(ig.has(e))return ig.get(e);var t=sg(e);return t!==e&&(ig.set(e,t),og.set(t,e)),t}var cg=function(e){return og.get(e)};function lg(e,t,n){var r=void 0===n?{}:n,i=r.blocked,o=r.upgrade,a=r.blocking,s=r.terminated,u=indexedDB.open(e,t),c=ug(u);return o&&u.addEventListener("upgradeneeded",(function(e){o(ug(u.result),e.oldVersion,e.newVersion,ug(u.transaction),e)})),i&&u.addEventListener("blocked",(function(e){return i(e.oldVersion,e.newVersion,e)})),c.then((function(e){s&&e.addEventListener("close",(function(){return s()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),c}var dg,fg=["get","getKey","getAll","getAllKeys","count"],pg=["put","add","delete","clear"],vg=new Map;function hg(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(vg.get(t))return vg.get(t);var n=t.replace(/FromIndex$/,""),i=t!==n,a=pg.includes(n);if(n in(i?IDBIndex:IDBObjectStore).prototype&&(a||fg.includes(n))){var s=function(){var e=(0,r.Z)(o.mark((function e(t){var r,s,u,c,l,d,f=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),u=s.store,c=f.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=f[d];return i&&(u=u.index(l.shift())),e.next=6,Promise.all([(r=u)[n].apply(r,l),a&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return vg.set(t,s),s}}}dg=function(e){return Object.assign({},e,{get:function(t,n,r){return hg(t,n)||e.get(t,n,r)},has:function(t,n){return!!hg(t,n)||e.has(t,n)}})},ag=dg(ag);var gg=function(e,t){if(void 0===t&&(t=null),void 0===e)return t;try{return JSON.parse(e)}catch(e){return t}},mg=n(91232);function yg(e){return Boolean(e.code)}function bg(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function _g(e){return e.split("/").slice(0,-1).join("/")}function Eg(){return Date.now()}var wg=function(){var e=(0,r.Z)(a().mark((function e(t){var n,o,s,u,c,l,d,f,p,v,h,g,m,y,b,_,E,w,S,T,A,k,O,C,R,I,N,M;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I=function(){return(I=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=O(t))||!C(r)){e.next=3;break}return e.abrupt("return",r.mapping);case 3:return e.next=5,T(t,n);case 5:if(!(i=e.sent)){e.next=10;break}return S(t,i,n),E.push(i),e.abrupt("return",i);case 10:if(f.warn("Failed to load mapping from "+t+"."),!(o=k(t))){e.next=15;break}return f.warn("Return cached stale version. "+t),e.abrupt("return",o.mapping);case 15:if((s=p(t))!==t){e.next=18;break}return e.abrupt("return",null);case 18:return e.next=20,T(s,n);case 20:if(!(u=e.sent)){e.next=25;break}return S(t,u,n),E.push(u),e.abrupt("return",u);case 25:return f.warn("Fallback cdn mapping load failed: "+s+"."),e.abrupt("return",null);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=function(e,t){return I.apply(this,arguments)},C=function(e){if(!l)return!0;if(!(null==e?void 0:e.meta))return!1;var t=e.meta.lastForceRefreshTime,n=t?Eg()-t:void 0;return!!(void 0!==n&&n<h)},O=function(e){return o.has(e)?o.get(e):void 0},k=function(e){var t=o.get(e);if(t)return o.set(e,t,{ttl:6e4}),t},A=function(){return(A=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:t,slug:"external_mapping"},null==u||u.requestStart(r),i="success",o="200",c=Eg(),e.prev=5,e.next=8,d.get(t,{},{responseType:"json",timeout:m});case 8:s=e.sent,e.next=16;break;case 11:e.prev=11,e.t0=e.catch(5),f.warn("Failed to load mapping from "+t+". \n"+e.t0),i="error",a=null==s?void 0:s.status,l=e.t0,o=yg(l)&&"ABORT_ERR"===l.code?"aborted":yg(l)&&"ERR_HTTP_REQUEST_TIMEOUT"===l.code?"apiTimeout":a?200===a?"200":a>=200&&a<300?"2xx":[400,401,403,404].includes(a)?""+a:a>=400&&a<500?"4xx":[500,502,503,504].includes(a)?""+a:a>=500&&a<600?"5xx":"unknown":"empty";case 16:return e.prev=16,null==u||u.requestEnd(Object.assign({},r,{result:i,statusCode:o,duration:Eg()-c})),e.finish(16);case 19:if(s){e.next=21;break}return e.abrupt("return");case 21:return e.abrupt("return",w(t,s.payload,n));case 22:case"end":return e.stop()}var a,l}),e,null,[[5,11,16,19]])})))).apply(this,arguments)},T=function(e,t){return A.apply(this,arguments)},S=function(e,t,n){n.cookieMapping||o.set(e,{mapping:t,meta:l?{lastForceRefreshTime:Eg()}:{}})},w=function(e,t,n){var r,i,o=t.baseUrl,a=t.mapping;return o?r=o:(r=_g(e),n.cookieMapping&&(i=t.commitSha)),(0,mg._q)(a,r,{cacheHash:i})},n=t.afterMappingsLoaded,o=t.cache,s=t.cookie,u=t.eventea,c=t.externalMappingUrls,l=t.forceRefresh,d=t.httpRequest,f=t.logger,p=t.getRetryUrl,v=t.store,h=t.forceRefreshThrottleTime,g=t.cookieMappingEnabled,m=t.mappingRequestTimeout,y=g?s.get(Yh):void 0,(null==c?void 0:c.length)||y){e.next=13;break}return e.abrupt("return",[]);case 13:return b=[],_=null,E=[],N=(c||[]).map(function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,{cookieMapping:!1});case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",{url:t,mapping:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=y?[function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,{cookieMapping:!0});case 2:(n=e.sent)&&(_={url:t,mapping:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(y)]:[],e.next=20,Promise.all([Promise.all(bg(i.Z,N)).then((function(e){e.forEach((function(e){e&&b.push(e)}))}))].concat(M));case 20:if(v.dispatch(Wh({mappings:b,overwritingMapping:_})),!E.length||!n){e.next=24;break}return e.next=24,Promise.all(n.map((function(e){return e({mappingsUpdated:!0})})));case 24:return e.abrupt("return",E);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sg=[(0,u.J)({provide:ar.Yv,multi:!0,useFactory:function(e){var t=e.di;return e.env,(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.get(Zh)({forceRefresh:!1});case 3:case"end":return e.stop()}}),e)})))},deps:{di:m.Z,env:y.vC}}),(0,u.J)({provide:Vh.pX,useFactory:function(e){var t=e.externalMappingsProcessorFactory,n=e.freezeClientMapping;return function(){return n?Promise.resolve([]):t({forceRefresh:!0})}},deps:{externalMappingsProcessorFactory:Zh,freezeClientMapping:Vh.HI}}),(0,u.J)({provide:Zh,useFactory:function(e){return function(t){var n=t.forceRefresh;return wg(Object.assign({},e,{forceRefresh:n}))}},deps:{eventea:{token:Vh.gp,optional:!0},cookie:k.T,di:m.Z,cache:Vh.o1,httpRequest:Vh.BW,logger:Hh,externalMappingUrls:Vh._x,store:b.kR,env:y.vC,afterMappingsLoaded:{token:Gh,optional:!0},getRetryUrl:jh.Jc,forceRefreshThrottleTime:Vh.UE,cookieMappingEnabled:Vh.Gj,mappingRequestTimeout:Vh.w0,urlRewrite:Vh.JM}}),(0,u.J)({provide:Vh._x,useFactory:function(e){var t=e.env.get("BOXY_EXTERNAL_MAPPING_URL"),n=e.externalMappingUrls||[];return t&&(n=n.concat(t.split(",").map((function(e){return e.trim()})))),e.urlRewrite?n.map(e.urlRewrite):n},deps:{externalMappingUrls:{token:Vh.er,optional:!0},urlRewrite:Vh.JM,env:y.vC}}),(0,u.J)({provide:y.sQ,useValue:[{key:"BOXY_EXTERNAL_MAPPING_URL",optional:!0},{key:"FREEZE_CLIENT_MAPPING",value:"true",dehydrate:!0},{key:"TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",optional:!0}]}),(0,u.J)({provide:Vh.HI,useFactory:function(e){return"true"===e.env.get("FREEZE_CLIENT_MAPPING")},deps:{env:y.vC}}),(0,u.J)({provide:Vh.UE,useValue:6e4}),(0,u.J)({provide:Vh.BW,useFactory:function(e){return(0,e.factory)({name:"microfronts-locker",enableCircuitBreaker:!1,cacheTime:3e4,allowStale:!1})},deps:{factory:As}}),(0,u.J)({provide:Vh.w0,useValue:2e4})];function Tg(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}var Ag,kg=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,Sg),[(0,u.J)({provide:Vh.o1,scope:l.s.SINGLETON,useFactory:function(e){return(0,e.cacheFactory)("memory",{ttl:e.freezeClientMapping?void 0:12e5,max:40,allowStale:!0})},deps:{cacheFactory:Tn.xC,freezeClientMapping:Vh.HI}}),(0,u.J)({provide:c.Bi.init,scope:l.s.SINGLETON,useFactory:function(e){var t=e.cache,n=e.logger,i=e.store,o=e.permanentCache,s=e.permanentCacheName;return(0,r.Z)(a().mark((function e(){var r,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=i.getState(qh)).mappings.length&&!r.overwritingMapping){e.next=5;break}return r.mappings.forEach((function(e){var n=e.url,r=e.mapping;t.set(n,{mapping:r})})),r.overwritingMapping&&t.set(r.overwritingMapping.url,{mapping:r.overwritingMapping.mapping}),e.abrupt("return");case 5:return e.next=7,o;case 7:return e.next=9,e.sent.get(s);case 9:if(!(u=e.sent)||1!==u.version){e.next=18;break}return e.prev=11,e.abrupt("return",t.load(u.data.cacheDump));case 15:e.prev=15,e.t0=e.catch(11),n.warn("Failed to load stored cache from permanentCache.\n"+e.t0.message+"\n"+e.t0.stack);case 18:case"end":return e.stop()}}),e,null,[[11,15]])})))},deps:{cache:Vh.o1,logger:Hh,store:b.kR,permanentCache:Kh,appInfo:g.Qo,permanentCacheName:Jh}}),(0,u.J)({provide:Gh,useFactory:function(e){var t=e.cache,n=e.logger,i=e.permanentCache,o=e.permanentCacheName;return function(){var e=(0,r.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.mappingsUpdated){e.next=13;break}return e.prev=2,e.next=5,i;case 5:return e.next=7,e.sent.set(o,{version:1,data:{cacheDump:t.dump()}});case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(2),n.error("Failed to save cache to idb.\n"+e.t0.message+"\n"+e.t0.stack);case 13:return e.abrupt("return",Promise.resolve());case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},deps:{cache:Vh.o1,logger:Hh,permanentCache:Kh,permanentCacheName:Jh}}),(0,u.J)({provide:Kh,scope:l.s.SINGLETON,useFactory:(Ag=(0,r.Z)(a().mark((function e(t){var n,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.freezeClientMapping,i=Tg(),!n){e.next=4;break}return e.abrupt("return",{get:function(e){return Promise.resolve(null)},set:function(e,t){return Promise.resolve()}});case 4:if(!window.indexedDB||i&&localStorage.__DEV__FORCE_LOCAL_STORAGE){e.next=19;break}return o="keyval",s=function(){return lg("tinkoff:microfronts-locker",1,{upgrade:function(e){e.createObjectStore(o)}})},e.prev=8,u=s(),e.next=12,u;case 12:return window.addEventListener("pagehide",(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=7;break}return e.next=3,u;case 3:return t=e.sent,e.next=6,t.close();case 6:u=null;case 7:case"end":return e.stop()}}),e)})))),window.addEventListener("pageshow",(function(){u=s()})),e.abrupt("return",{get:function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:return n=e.sent,e.abrupt("return",n.get(o,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(){var e=(0,r.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:return r=e.sent,e.next=5,r.put(o,n,t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});case 17:e.prev=17,e.t0=e.catch(8);case 19:if(!i){e.next=21;break}return e.abrupt("return",{get:function(e){var t=localStorage.getItem(e);return Promise.resolve(t?gg(t):null)},set:function(e,t){return localStorage.setItem(e,JSON.stringify(t)),Promise.resolve()}});case 21:return e.abrupt("return",{get:function(e){return Promise.resolve(null)},set:function(e,t){return Promise.resolve()}});case 22:case"end":return e.stop()}}),e,null,[[8,17]])}))),function(e){return Ag.apply(this,arguments)}),deps:{freezeClientMapping:Vh.HI}}),(0,u.J)({provide:Jh,scope:l.s.SINGLETON,useFactory:function(e){return e.appInfo.appName+"--mappings-locker"},deps:{appInfo:g.Qo}})]);function Og(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Cg=(0,T.J)({name:"MicrofrontsLocker",imports:[Uh],providers:[].concat(Og(i.Z,kg),Og(i.Z,$h),[(0,u.J)({provide:b.Ym,useValue:[qh],multi:!0})])}),Rg=n(21159),Ig=n.n(Rg),Ng=n(15688),Mg=n(26288),xg=n.n(Mg),Pg="Deno"in window;function Lg(){}function Dg(e,t,n){return Jg(e)?"function"==typeof t?Object.assign({},n,{queryKey:e,queryFn:t}):Object.assign({},t,{queryKey:e}):e}function jg(e,t,n){return Jg(e)?[Object.assign({},t,{queryKey:e}),n]:[e||{},t]}function Bg(e,t){var n=e.type,r=void 0===n?"all":n,i=e.exact,o=e.fetchStatus,a=e.predicate,s=e.queryKey,u=e.stale;if(Jg(s))if(i){if(t.queryHash!==Fg(s,t.options))return!1}else if(!Wg(t.queryKey,s))return!1;if("all"!==r){var c=t.isActive();if("active"===r&&!c)return!1;if("inactive"===r&&c)return!1}return!("boolean"==typeof u&&t.isStale()!==u||void 0!==o&&o!==t.state.fetchStatus||a&&!a(t))}function Ug(e,t){var n=e.exact,r=e.fetching,i=e.predicate,o=e.mutationKey;if(Jg(o)){if(!t.options.mutationKey)return!1;if(n){if(Vg(t.options.mutationKey)!==Vg(o))return!1}else if(!Wg(t.options.mutationKey,o))return!1}return!("boolean"==typeof r&&"loading"===t.state.status!==r||i&&!i(t))}function Fg(e,t){return((null==t?void 0:t.queryKeyHashFn)||Vg)(e)}function Vg(e){return JSON.stringify(e,(function(e,t){return Zg(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function Wg(e,t){return qg(e,t)}function qg(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((function(n){return!qg(e[n],t[n])}))}function Hg(e,t){if(e===t)return e;var n=Gg(e)&&Gg(t);if(n||Zg(e)&&Zg(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},s=0,u=0;u<o;u++){var c=n?u:i[u];a[c]=Hg(e[c],t[c]),a[c]===e[c]&&s++}return r===o&&s===r?e:a}return t}function Gg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zg(e){if(!Kg(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!Kg(n)&&!!n.hasOwnProperty("isPrototypeOf")}function Kg(e){return"[object Object]"===Object.prototype.toString.call(e)}function Jg(e){return Array.isArray(e)}function zg(e){return new Promise((function(t){setTimeout(t,e)}))}function Yg(e){zg(0).then(e)}function Qg(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Hg(e,t):t}var Xg,$g,em,tm,nm,rm,im=console,om=(Xg=[],$g=0,em=function(e){e()},tm=function(e){e()},nm=function(e){$g?Xg.push(e):Yg((function(){em(e)}))},rm=function(){var e=Xg;Xg=[],e.length&&Yg((function(){tm((function(){e.forEach((function(e){em(e)}))}))}))},{batch:function(e){var t;$g++;try{t=e()}finally{--$g||rm()}return t},batchCalls:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];nm((function(){e.apply(void 0,n)}))}},schedule:nm,setNotifyFunction:function(e){em=e},setBatchNotifyFunction:function(e){tm=e}}),am=function(){function e(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}var t=e.prototype;return t.subscribe=function(e){var t=this,n={listener:e};return this.listeners.add(n),this.onSubscribe(),function(){t.listeners.delete(n),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.size>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),sm=function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){if(!Pg&&window.addEventListener){var t=function(){return e()};return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),function(){window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}},t}(0,_t.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){(0,e.listener)()}))},n.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(am),um=new sm,cm=["online","offline"],lm=function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){if(!Pg&&window.addEventListener){var t=function(){return e()};return cm.forEach((function(e){window.addEventListener(e,t,!1)})),function(){cm.forEach((function(e){window.removeEventListener(e,t)}))}}},t}(0,_t.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){(0,e.listener)()}))},n.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},t}(am),dm=new lm;function fm(e){return Math.min(1e3*Math.pow(2,e),3e4)}function pm(e){return"online"!==(null!=e?e:"online")||dm.isOnline()}var vm=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function hm(e){return e instanceof vm}function gm(e){var t,n,r,i=!1,o=0,a=!1,s=new Promise((function(e,t){n=e,r=t})),u=function(){return!um.isFocused()||"always"!==e.networkMode&&!dm.isOnline()},c=function(r){a||(a=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},l=function(n){a||(a=!0,null==e.onError||e.onError(n),null==t||t(),r(n))},d=function(){return new Promise((function(n){t=function(e){var t=a||!u();return t&&n(e),t},null==e.onPause||e.onPause()})).then((function(){t=void 0,a||null==e.onContinue||e.onContinue()}))},f=function t(){if(!a){var n;try{n=e.fn()}catch(e){n=Promise.reject(e)}Promise.resolve(n).then(c).catch((function(n){var r,s;if(!a){var c=null!=(r=e.retry)?r:3,f=null!=(s=e.retryDelay)?s:fm,p="function"==typeof f?f(o,n):f,v=!0===c||"number"==typeof c&&o<c||"function"==typeof c&&c(o,n);!i&&v?(o++,null==e.onFail||e.onFail(o,n),zg(p).then((function(){if(u())return d()})).then((function(){i?l(n):t()}))):l(n)}}))}};return pm(e.networkMode)?f():d().then(f),{promise:s,cancel:function(t){a||(l(new vm(t)),null==e.abort||e.abort())},continue:function(){return(null==t?void 0:t())?s:Promise.resolve()},cancelRetry:function(){i=!0},continueRetry:function(){i=!1}}}var mm=function(){function e(){}var t=e.prototype;return t.destroy=function(){this.clearGcTimeout()},t.scheduleGc=function(){var e,t=this;this.clearGcTimeout(),"number"==typeof(e=this.cacheTime)&&e>=0&&e!==1/0&&(this.gcTimeout=setTimeout((function(){t.optionalRemove()}),this.cacheTime))},t.updateCacheTime=function(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:Pg?1/0:3e5)},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e}(),ym=function(e){function t(t){var n,r,i,o,a;return(n=e.call(this)||this).abortSignalConsumed=!1,n.defaultOptions=t.defaultOptions,n.setOptions(t.options),n.observers=[],n.cache=t.cache,n.logger=t.logger||im,n.queryKey=t.queryKey,n.queryHash=t.queryHash,n.initialState=t.state||(a=(o=void 0!==(i="function"==typeof(r=n.options).initialData?r.initialData():r.initialData))?"function"==typeof r.initialDataUpdatedAt?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,{data:i,dataUpdateCount:0,dataUpdatedAt:o?null!=a?a:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"loading",fetchStatus:"idle"}),n.state=n.initialState,n.scheduleGc(),n}(0,_t.Z)(t,e);var n=t.prototype;return n.setOptions=function(e){this.options=Object.assign({},this.defaultOptions,e),this.updateCacheTime(this.options.cacheTime)},n.optionalRemove=function(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)},n.setData=function(e,t){var n=Qg(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n},n.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},n.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(Lg).catch(Lg):Promise.resolve()},n.destroy=function(){e.prototype.destroy.call(this),this.cancel({silent:!0})},n.reset=function(){this.destroy(),this.setState(this.initialState)},n.isActive=function(){return this.observers.some((function(e){return!1!==e.options.enabled}))},n.isDisabled=function(){return this.getObserversCount()>0&&!this.isActive()},n.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))},n.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)},n.onFocus=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()},n.onOnline=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()},n.addObserver=function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},n.removeObserver=function(e){this.observers.includes(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},n.getObserversCount=function(){return this.observers.length},n.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},n.fetch=function(e,t){var n,r,i=this;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return null==(o=this.retryer)||o.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var a=this.observers.find((function(e){return e.options.queryFn}));a&&this.setOptions(a.options)}Array.isArray(this.options.queryKey);var s=function(){if("function"==typeof AbortController)return new AbortController}(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){if(s)return i.abortSignalConsumed=!0,s.signal}})};c(u);var l,d={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(u)):Promise.reject("Missing queryFn")}};c(d),null==(n=this.options.behavior)||n.onFetch(d),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=d.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(l=d.fetchOptions)?void 0:l.meta});var f=function(e){var t,n,r,o;hm(e)&&e.silent||i.dispatch({type:"error",error:e}),hm(e)||(null==(t=(n=i.cache.config).onError)||t.call(n,e,i),null==(r=(o=i.cache.config).onSettled)||r.call(o,i.state.data,e,i)),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1};return this.retryer=gm({fn:d.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:function(e){var t,n,r,o;void 0!==e?(i.setData(e),null==(t=(n=i.cache.config).onSuccess)||t.call(n,e,i),null==(r=(o=i.cache.config).onSettled)||r.call(o,e,i.state.error,i),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1):f(new Error(i.queryHash+" data is undefined"))},onError:f,onFail:function(e,t){i.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise},n.dispatch=function(e){var t=this;this.state=function(n){var r,i;switch(e.type){case"failed":return Object.assign({},n,{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return Object.assign({},n,{fetchStatus:"paused"});case"continue":return Object.assign({},n,{fetchStatus:"fetching"});case"fetch":return Object.assign({},n,{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:pm(t.options.networkMode)?"fetching":"paused"},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Object.assign({},n,{data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var o=e.error;return hm(o)&&o.revert&&t.revertState?Object.assign({},t.revertState):Object.assign({},n,{error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return Object.assign({},n,{isInvalidated:!0});case"setState":return Object.assign({},n,e.state)}}(this.state),om.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"updated",action:e})}))},(0,Pl.Z)(t,[{key:"meta",get:function(){return this.options.meta}}]),t}(mm);function bm(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var _m=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,_t.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,i=t.queryKey,o=null!=(r=t.queryHash)?r:Fg(i,t),a=this.get(o);return a||(a=new ym({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))},n.clear=function(){var e=this;om.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=jg(e,t),r=bm(pe.Z,n,1)[0];return void 0===r.exact&&(r.exact=!0),this.queries.find((function(e){return Bg(r,e)}))},n.findAll=function(e,t){var n=jg(e,t),r=bm(pe.Z,n,1)[0];return Object.keys(r).length>0?this.queries.filter((function(e){return Bg(r,e)})):this.queries},n.notify=function(e){var t=this;om.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))},n.onFocus=function(){var e=this;om.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))},n.onOnline=function(){var e=this;om.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))},t}(am),Em=function(e){function t(t){var n;return(n=e.call(this)||this).defaultOptions=t.defaultOptions,n.mutationId=t.mutationId,n.mutationCache=t.mutationCache,n.logger=t.logger||im,n.observers=[],n.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},n.setOptions(t.options),n.scheduleGc(),n}(0,_t.Z)(t,e);var n=t.prototype;return n.setOptions=function(e){this.options=Object.assign({},this.defaultOptions,e),this.updateCacheTime(this.options.cacheTime)},n.setState=function(e){this.dispatch({type:"setState",state:e})},n.addObserver=function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))},n.removeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})},n.optionalRemove=function(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))},n.continue=function(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()},n.execute=function(){var e=(0,r.Z)(o.mark((function e(){var t,n,r,i,a,s,u,c,l,d,f,p,v,h,g,m,y,b,_,E,w,S,T,A,k=this;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e;return k.retryer=gm({fn:function(){return k.options.mutationFn?k.options.mutationFn(k.state.variables):Promise.reject("No mutationFn found")},onFail:function(e,t){k.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){k.dispatch({type:"pause"})},onContinue:function(){k.dispatch({type:"continue"})},retry:null!=(e=k.options.retry)?e:0,retryDelay:k.options.retryDelay,networkMode:k.options.networkMode}),k.retryer.promise},n="loading"===this.state.status,e.prev=2,n){e.next=11;break}return this.dispatch({type:"loading",variables:this.options.variables}),e.next=7,null==(f=(p=this.mutationCache.config).onMutate)?void 0:f.call(p,this.state.variables,this);case 7:return e.next=9,null==(v=(h=this.options).onMutate)?void 0:v.call(h,this.state.variables);case 9:(g=e.sent)!==this.state.context&&this.dispatch({type:"loading",context:g,variables:this.state.variables});case 11:return e.next=13,t();case 13:return m=e.sent,e.next=16,null==(r=(i=this.mutationCache.config).onSuccess)?void 0:r.call(i,m,this.state.variables,this.state.context,this);case 16:return e.next=18,null==(a=(s=this.options).onSuccess)?void 0:a.call(s,m,this.state.variables,this.state.context);case 18:return e.next=20,null==(u=(c=this.mutationCache.config).onSettled)?void 0:u.call(c,m,null,this.state.variables,this.state.context,this);case 20:return e.next=22,null==(l=(d=this.options).onSettled)?void 0:l.call(d,m,null,this.state.variables,this.state.context);case 22:return this.dispatch({type:"success",data:m}),e.abrupt("return",m);case 26:return e.prev=26,e.t0=e.catch(2),e.prev=28,e.next=31,null==(y=(b=this.mutationCache.config).onError)?void 0:y.call(b,e.t0,this.state.variables,this.state.context,this);case 31:return e.next=34,null==(_=(E=this.options).onError)?void 0:_.call(E,e.t0,this.state.variables,this.state.context);case 34:return e.next=36,null==(w=(S=this.mutationCache.config).onSettled)?void 0:w.call(S,void 0,e.t0,this.state.variables,this.state.context,this);case 36:return e.next=38,null==(T=(A=this.options).onSettled)?void 0:T.call(A,void 0,e.t0,this.state.variables,this.state.context);case 38:throw e.t0;case 39:return e.prev=39,this.dispatch({type:"error",error:e.t0}),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[2,26],[28,,39,42]])})));return function(){return e.apply(this,arguments)}}(),n.dispatch=function(e){var t=this;this.state=function(n){switch(e.type){case"failed":return Object.assign({},n,{failureCount:e.failureCount,failureReason:e.error});case"pause":return Object.assign({},n,{isPaused:!0});case"continue":return Object.assign({},n,{isPaused:!1});case"loading":return Object.assign({},n,{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!pm(t.options.networkMode),status:"loading",variables:e.variables});case"success":return Object.assign({},n,{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return Object.assign({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"});case"setState":return Object.assign({},n,e.state)}}(this.state),om.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify({mutation:t,type:"updated",action:e})}))},(0,Pl.Z)(t,[{key:"meta",get:function(){return this.options.meta}}]),t}(mm),wm=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,_t.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new Em({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify({type:"added",mutation:e})},n.remove=function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),this.notify({type:"removed",mutation:e})},n.clear=function(){var e=this;om.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))},n.getAll=function(){return this.mutations},n.find=function(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((function(t){return Ug(e,t)}))},n.findAll=function(e){return this.mutations.filter((function(t){return Ug(e,t)}))},n.notify=function(e){var t=this;om.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))},n.resumePausedMutations=function(){var e,t=this;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((function(){var e=t.mutations.filter((function(e){return e.state.isPaused}));return om.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(Lg)}))}),Promise.resolve())}))})).then((function(){t.resuming=void 0})),this.resuming},t}(am);function Sm(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function Tm(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function Am(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var km=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new _m,this.mutationCache=e.mutationCache||new wm,this.logger=e.logger||im,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}var t=e.prototype;return t.mount=function(){var e=this;this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=um.subscribe((function(){um.isFocused()&&(e.resumePausedMutations(),e.queryCache.onFocus())})),this.unsubscribeOnline=dm.subscribe((function(){dm.isOnline()&&(e.resumePausedMutations(),e.queryCache.onOnline())})))},t.unmount=function(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)},t.isFetching=function(e,t){var n=jg(e,t),r=Am(pe.Z,n,1)[0];return r.fetchStatus="fetching",this.queryCache.findAll(r).length},t.isMutating=function(e){return this.mutationCache.findAll(Object.assign({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.ensureQueryData=function(e,t,n){var r=Dg(e,t,n),i=this.getQueryData(r.queryKey);return i?Promise.resolve(i):this.fetchQuery(r)},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))},t.setQueryData=function(e,t,n){var r=this.queryCache.find(e),i=function(e,t){return"function"==typeof e?e(t):e}(t,null==r?void 0:r.state.data);if(void 0!==i){var o=Dg(e),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,Object.assign({},n,{manual:!0}))}},t.setQueriesData=function(e,t,n){var r=this;return om.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=jg(e,t),r=Am(pe.Z,n,1)[0],i=this.queryCache;om.batch((function(){i.findAll(r).forEach((function(e){i.remove(e)}))}))},t.resetQueries=function(e,t,n){var r=this,i=jg(e,t,n),o=Am(pe.Z,i,2),a=o[0],s=o[1],u=this.queryCache,c=Object.assign({type:"active"},a);return om.batch((function(){return u.findAll(a).forEach((function(e){e.reset()})),r.refetchQueries(c,s)}))},t.cancelQueries=function(e,t,n){var r=this,i=jg(e,t,n),o=Am(pe.Z,i,2),a=o[0],s=o[1],u=void 0===s?{}:s;void 0===u.revert&&(u.revert=!0);var c=om.batch((function(){return r.queryCache.findAll(a).map((function(e){return e.cancel(u)}))}));return Promise.all(c).then(Lg).catch(Lg)},t.invalidateQueries=function(e,t,n){var r=this,i=jg(e,t,n),o=Am(pe.Z,i,2),a=o[0],s=o[1];return om.batch((function(){var e,t;if(r.queryCache.findAll(a).forEach((function(e){e.invalidate()})),"none"===a.refetchType)return Promise.resolve();var n=Object.assign({},a,{type:null!=(e=null!=(t=a.refetchType)?t:a.type)?e:"active"});return r.refetchQueries(n,s)}))},t.refetchQueries=function(e,t,n){var r=this,i=jg(e,t,n),o=Am(pe.Z,i,2),a=o[0],s=o[1],u=om.batch((function(){return r.queryCache.findAll(a).filter((function(e){return!e.isDisabled()})).map((function(e){var t;return e.fetch(void 0,Object.assign({},s,{cancelRefetch:null==(t=null==s?void 0:s.cancelRefetch)||t,meta:{refetchPage:a.refetchPage}}))}))})),c=Promise.all(u).then(Lg);return null!=s&&s.throwOnError||(c=c.catch(Lg)),c},t.fetchQuery=function(e,t,n){var r=Dg(e,t,n),i=this.defaultQueryOptions(r);void 0===i.retry&&(i.retry=!1);var o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(Lg).catch(Lg)},t.fetchInfiniteQuery=function(e,t,n){var r=Dg(e,t,n);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,r,o,a,s,u,c=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(o=r.meta)?void 0:o.fetchMore,d=null==l?void 0:l.pageParam,f="forward"===(null==l?void 0:l.direction),p="backward"===(null==l?void 0:l.direction),v=(null==(a=e.state.data)?void 0:a.pages)||[],h=(null==(s=e.state.data)?void 0:s.pageParams)||[],g=h,m=!1,y=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},b=function(e,t,n,r){return g=r?[t].concat(Sm(i.Z,g)):[].concat(Sm(i.Z,g),[t]),r?[n].concat(Sm(i.Z,e)):[].concat(Sm(i.Z,e),[n])},_=function(t,n,r,i){if(m)return Promise.reject("Cancelled");if(void 0===r&&!n&&t.length)return Promise.resolve(t);var o={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};!function(t){Object.defineProperty(t,"signal",{enumerable:!0,get:function(){var t,n;return null!=(t=e.signal)&&t.aborted?m=!0:null==(n=e.signal)||n.addEventListener("abort",(function(){m=!0})),e.signal}})}(o);var a=y(o);return Promise.resolve(a).then((function(e){return b(t,r,e,i)}))};if(v.length)if(f){var E=void 0!==d,w=E?d:Tm(e.options,v);u=_(v,E,w)}else if(p){var S=void 0!==d,T=S?d:function(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}(e.options,v);u=_(v,S,T,!0)}else{g=[];var A=void 0===e.options.getNextPageParam,k=!c||!v[0]||c(v[0],0,v);u=k?_([],A,h[0]):Promise.resolve(b([],h[0],v[0]));for(var O=function(t){u=u.then((function(n){if(!c||!v[t]||c(v[t],t,v)){var r=A?h[t]:Tm(e.options,n);return _(n,A,r)}return Promise.resolve(b(n,h[t],v[t]))}))},C=1;C<v.length;C++)O(C)}else u=_([]);var R=u.then((function(e){return{pages:e,pageParams:g}}));return R}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(Lg).catch(Lg)},t.resumePausedMutations=function(){return this.mutationCache.resumePausedMutations()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getLogger=function(){return this.logger},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find((function(t){return Vg(e)===Vg(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){if(e){var t=this.queryDefaults.find((function(t){return Wg(e,t.queryKey)}));return null==t?void 0:t.defaultOptions}},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find((function(t){return Vg(e)===Vg(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){if(e){var t=this.mutationDefaults.find((function(t){return Wg(e,t.mutationKey)}));return null==t?void 0:t.defaultOptions}},t.defaultQueryOptions=function(e){if(null!=e&&e._defaulted)return e;var t=Object.assign({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=Fg(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t},t.defaultMutationOptions=function(e){return null!=e&&e._defaulted?e:Object.assign({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),Om=n(2576),Cm=n(24240);function Rm(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return Im(t,void 0!==n&&n<r?n:r)}return e(t,n)}function Im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nm(e){var t=null==e?void 0:e.match(/\/.*\/([\d|.]*)\/(.*)\.client\.js/i);if(t){var n=Rm(pe.Z,t,2);return n[0],n[1]}}var Mm=function e(t,n){var r;null==(r=t.content)||r.forEach((function(t){n(t),e(t,n)}))},xm=function e(t,n){var r=[];if(t.content)for(var i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Im(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.content,!0);!(i=o()).done;){var a,s=i.value,u=null==(a=s.properties)?void 0:a.roleSettings;(!0!==(null==u?void 0:u.active)||u[n])&&r.push(e(s,n))}return Object.assign({},t,{content:r})};function Pm(e){var t=e.messenger,n=e.router,r=e.isMobile,i=e.chatUrl;return function(e){var o=n.getCurrentUrl().query,a=new URLSearchParams(Object.assign({},o,e)).toString();return r?n.navigate(i+"?"+a):t.open(e)}}function Lm(e){var t=e.messenger,n=e.unreadService;return function(e){try{n.addUnreadMessagesUpdateCallback(e),t.addUnreadMessagesUpdateCallback(e)}catch(t){t instanceof Error&&e(0,t)}}}function Dm(){return function(e){var t=e&&xg()(e)?e:Cm.iv,n=setTimeout((function(){var e;null==(e=document)||null==(e=e.querySelector("meta[name=theme-color]"))||e.setAttribute("content",t),clearTimeout(n)}),0)}}var jm=n(86905),Bm=n(17638),Um=n(45302),Fm=["message"],Vm=function(e){function t(n){var r,i=n.message,o=void 0===i?"Mapping Error":i,a=(0,d.Z)(n,Fm);return(r=e.call(this,o)||this).name=t.errorName,Object.assign((0,bt.Z)(r),a),r}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error));Vm.errorName="MappingError";var Wm=n(30176),qm=n(68613),Hm=n(94360),Gm=n.n(Hm),Zm=n(84117),Km=["classModifier","image"],Jm=function(e){return/react error/i.test(e.message)},zm=function(e){var t=e.error,n=(0,tr.x)({eventea:{token:Sa.Bv,optional:!0},cdnResources:Ch.CDN_RESOURCES_TOKEN,userAgent:L.N,router:Zm.kg,webview:{optional:!0,token:kh.o3},mainPageUrl:Ch.MAIN_PAGE_URL_TOKEN,isModernBrowser:Ch.SATISFIES_BROWSER_TOKEN}),r=n.eventea,i=n.cdnResources,o=n.userAgent,a=n.router,s=n.webview,u=n.mainPageUrl,c=n.isModernBrowser,l="mobile"===o.device.type;(0,$n.useEffect)((function(){if(Jm(t)&&(null==r||r.send({project:"supreme",event:"render-page",payload:{errorMessage:t.message,errorStack:t.stack}})),Bi(t)&&c){var e;if(null!=(e=window)&&null!=(e=e.navigator)&&e.userAgent.match("YandexBot"))return;null==r||r.send({project:"supreme",event:"failed-admin-request",payload:{error:t.message}})}null!=s&&s.isWebView&&(null==s||s.sendPostMessageToMobile({type:Om.WebViewMessageType.error,value:{title:"Что-то пошло не так",subtitle:"Не смогли открыть страницу. Попробуйте повторить или возвращайтесь чуть позже"}}))}),[t,r,c,s]);var f=(0,$n.useMemo)((function(){var e=i.commonErrorImage,n={classModifier:"default-error-boundry_default",description:"Мы уже решаем проблему. Попробуйте перезагрузить страницу или зайдите позже",title:"Что-то пошло не так",image:e};if(t.name===Vm.errorName)return{classModifier:"default-error-boundry_mapping",description:"Не смогли открыть страницу. Попробуйте перезагрузить или возвращайтесь чуть позже",title:"Что-то пошло не так",image:e};if(Jm(t))return{classModifier:"default-error-boundry_react-render",description:"Не смогли открыть страницу. Попробуйте перезагрузить или возвращайтесь чуть позже",title:"Что-то пошло не так",image:e};if(Bi(t))return{classModifier:"default-error-boundry_server",description:"Не смогли открыть страницу. Попробуйте перезагрузить или возвращайтесь чуть позже",title:"Что-то пошло не так",image:e};var r=t;return function(e){return["initiator","reason"].every((function(t){return t in e}))}(r)?{classModifier:Gm().errorFailRoute,description:r.subTitle?r.subTitle:n.description,title:r.title?r.title:n.title,image:n.image,embedded:!0}:n}),[t,i]),p=f.classModifier,v=void 0===p?"":p,h=f.image,g=(0,d.Z)(f,Km);return(0,Xn.jsx)("div",{className:"default-error-boundry "+v,children:(0,Xn.jsx)(Wm.Z,{children:(0,Xn.jsx)(qm.m,Object.assign({enableActionButton:l,actionButtonProps:{onClick:function(){return a.navigate(u)},dataQaType:"uikit/button-main",theme:{background:"var(--tui-background-accent-1)"}},image:{alt:"Что-то пошло не так",src:h}},g,{isMobile:l}))})})},Ym=n(24015),Qm=n(6142);function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $m=0,ey=n(47997),ty=(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"SSO_HOST",optional:!0},{key:"APP_ID",optional:!0},{key:"APP_VERSION",optional:!0}]}),ny=(0,Y.V3)("logStateConfig"),ry=(0,u.J)({provide:ny,useValue:{localStorageKey:"ib_logState",loginValue:"login",logoutValue:"logout"}}),iy=(0,u.J)({provide:Rc.hM,useFactory:function(e){var t=e.isPwa,n=e.isIframeAuthOnPwa,r=e.contextAuthPageUrl,i=e.pwaLogoutRedirectUrl;return function(){return n()?r:t()?i:""}},deps:{isPwa:Oh.Im,isIframeAuthOnPwa:Oh.Rk,contextAuthPageUrl:Ch.CONTEXT_AUTH_PAGE_URL_TOKEN,pwaLogoutRedirectUrl:Ch.PWA_LOGOUT_REDIRECT_URL_TOKEN}}),oy=(0,u.J)({provide:ey.qp,useFactory:function(e){return(0,e.clientFactory)({name:"sso",baseUrl:e.envManager.get("SSO_HOST")})},deps:{clientFactory:As,envManager:y.vC}}),ay=(0,Y.V3)("SESSION_STORAGE_SERVICE"),sy="__ls_test__",uy=function(e){function t(t){var n;return(n=e.call(this,t)||this).stack="No stack available",n}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error)),cy=function(e,t){var n,r;r=t instanceof Error?t:new uy("window.sessionStorage недоступен"),null==e||e.sendOnce({project:"supreme",event:"sessionstorage.unavailable",payload:{errorMessage:r.message,errorStack:null!=(n=r.stack)?n:"No stack available"}})},ly=function(){function e(e){var t=this,n=e.eventea;this.eventea=void 0,this.catchAction=function(e){if(t._isAvailable)try{e()}catch(e){cy(t.eventea,e)}},this._isAvailable=void 0,this.eventea=n,this._isAvailable=function(e){try{return window.sessionStorage.setItem(sy,"whatever"),window.sessionStorage.removeItem(sy),!0}catch(t){return cy(e,t),!1}}(n),this.isAvailable=this.isAvailable.bind(this),this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this)}var t=e.prototype;return t.isAvailable=function(){return this._isAvailable},t.getItem=function(e,t){var n=null!=t?t:null;if(!this._isAvailable)return n;try{var r;return null!=(r=window.sessionStorage.getItem(e))?r:n}catch(e){return cy(this.eventea,e),n}},t.setItem=function(e,t){this.catchAction((function(){return window.sessionStorage.setItem(e,t)}))},t.removeItem=function(e){this.catchAction((function(){return window.sessionStorage.removeItem(e)}))},e}(),dy=(0,u.J)({provide:ay,useClass:ly,deps:{eventea:{token:Sa.Bv,optional:!0}}}),fy=function(e){window.location.href=e},py=function(e){var t=e.router,n=e.logStateConfig,i=e.eventea,o=e.isPwa,s=e.localStorageService,u=e.webview,c=e.isIframeAuthOnPwa,l=e.contextAuthPageUrl,d=e.pwaLogoutRedirectUrl,f=e.sessionStorageService,p=e.sendLogoutRequest;return function(){var e=(0,r.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=d),delete window.__ssoSession__,e.next=4,p();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:s.setItem(n.localStorageKey,n.logoutValue),i&&i.send({event:"logout",project:"supreme",payload:{location:t.getCurrentUrl().pathname}}),u.isWebView&&u.emit({type:Om.WebViewMessageType.authenticateEnd,value:null}),c()?(f.setItem("is_first_load","false"),fy(l)):o()?fy(d):fy(r||d);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},vy=(0,u.J)({provide:ey.B2,useFactory:py,deps:{router:Zt.l1,logStateConfig:ny,eventea:{token:Sa.Bv,optional:!0},isPwa:Oh.Im,localStorageService:Ch.LOCAL_STORAGE_SERVICE_TOKEN,webview:Ng.MICRO_DI_WEBVIEW_MANAGER,isIframeAuthOnPwa:Oh.Rk,contextAuthPageUrl:Ch.CONTEXT_AUTH_PAGE_URL_TOKEN,pwaLogoutRedirectUrl:Ch.PWA_LOGOUT_REDIRECT_URL_TOKEN,sessionStorageService:ay,sendLogoutRequest:ey.pr}}),hy=(0,u.J)({provide:ey.pr,useFactory:function(e){var t=e.envManager,n=e.cookieManager,i=e.tinkoffApiClient,o=e.ssoClient,s=e.notifier;return(0,r.Z)(a().mark((function e(){var r,u,c,l,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm.Fn.signout,u=Cm.Fn.logout,c=!1,e.prev=2,e.next=5,o.post(u,{},{withCredentials:!0});case 5:c=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),s.add({id:"logout-warning",children:"Мы уже знаем о проблеме и чиним сервис. Попробуйте выйти снова позже",title:"Не получается выйти из приложения",type:"warning",timer:5e3,showClose:!0});case 11:return c&&(f={appName:null!=(l=t.get("APP_ID"))?l:"supreme",appVersion:null!=(d=t.get("APP_VERSION"))?d:"0.0.0",origin:"web,ib5,platform",sessionid:n.get("psid"),wuid:n.get("__P__wuid")},i.get(r,{query:f},{withCredentials:!0}).catch(console.error)),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))},deps:{envManager:y.vC,cookieManager:k.T,tinkoffApiClient:mo,ssoClient:ey.qp,notifier:Kf.e,eventea:{token:Sa.Bv,optional:!0}}}),gy=["envManager"],my=(0,u.J)({provide:Rc.QZ,useFactory:function(e){var t=e.envManager,n=(0,d.Z)(e,gy);return n.webview.isWebView&&"true"===t.get("FF_WEBVIEW_NO_UNAUTH_LOGOUT")?function(){throw new Error("abort redirect")}:py(n)},deps:{router:Zt.l1,logStateConfig:ny,eventea:{token:Sa.Bv,optional:!0},isPwa:Oh.Im,localStorageService:Ch.LOCAL_STORAGE_SERVICE_TOKEN,webview:Ng.MICRO_DI_WEBVIEW_MANAGER,isIframeAuthOnPwa:Oh.Rk,contextAuthPageUrl:Ch.CONTEXT_AUTH_PAGE_URL_TOKEN,pwaLogoutRedirectUrl:Ch.PWA_LOGOUT_REDIRECT_URL_TOKEN,sendLogoutRequest:ey.pr,sessionStorageService:ay,envManager:y.vC}}),yy=[ty,oy,ry,iy,vy,my,hy],by=(0,Y.V3)("GET_PAYMENTS_3DS_PARAMS_TOKEN"),_y=(0,Y.V3)("asyncStorageToken"),Ey=(0,Y.V3)("pageTimeServiceToken"),wy=(0,Y.V3)("navigationsMapServiceToken"),Sy=n(6045),Ty=n.n(Sy),Ay=n(58232);function ky(e){return Jr()(e)}function Oy(e){return ky(e)&&"timestamp"in e&&Fl()(e.timestamp)&&"duration"in e&&Fl()(e.duration)}function Cy(e){return ky(e)&&"transitions"in e&&function(e){return Array.isArray(e)&&e.every(Oy)}(e.transitions)}function Ry(e){return ky(e)&&Object.values(e).every((function(e){return ky(e)&&Object.values(e).every(Cy)}))}function Iy(){var e=function(){},t=!1,n=new Promise((function(t){e=t}));return{get promise(){return n},resolve:function(){t||(e.apply(void 0,arguments),t=!0)},get isResolved(){return t}}}var Ny,My,xy=function(e){return void 0===e&&(e="ANONYMOUS"),"map-"+e},Py=function(){function e(e){var t=e.eventea,n=e.storage,r=e.envManager,i=e.store,o=e.authenticateDeferred;this.storage=void 0,this.eventea=void 0,this.envManager=void 0,this.store=void 0,this.authenticateDeferred=void 0,this.storageKey="",this.map={},this.initialization=Iy(),this.isInitializationTriggered=!1,this.eventea=t,this.envManager=r,this.storage=n,this.store=i,this.authenticateDeferred=o}var t=e.prototype;return t.changeMap=function(e){var t=this;this.map=e,this.storage.set(this.storageKey,e).catch((function(e){t.eventea.send({project:"supreme",event:"navigations-map-storage-error",payload:{method:"set",message:(0,Ay.n)(e)?e.message:""+e}})}))},t.init=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInitializationTriggered){e.next=2;break}return e.abrupt("return",this.initialization.promise);case 2:return this.isInitializationTriggered=!0,e.next=5,this.authenticateDeferred.promise;case 5:return t=this.store.getState(il.p),n=t.ssoId,this.storageKey=xy(n),e.next=9,this.storage.init({dbName:"navigations-map",storeName:"index",validators:(o=xy(n),a=void 0,(a={})[o]=Ry,a)}).catch((function(e){i.eventea.send({project:"supreme",event:"navigations-map-storage-error",payload:{method:"init",message:(0,Ay.n)(e)?e.message:""+e}})}));case 9:return e.next=11,this.storage.get(this.storageKey).then((function(e){return i.eventea.send({project:"supreme",event:"navigations-map-read-storage",payload:{result:e?"success":"empty"}}),e})).catch((function(e){i.eventea.send({project:"supreme",event:"navigations-map-read-storage",payload:{message:(0,Ay.n)(e)?e.message:""+e,result:"error"}})}));case 11:r=e.sent,this.map=r?this.removeOldTransitions(r):{},this.initialization.resolve();case 14:case"end":return e.stop()}var o,a}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.update=function(e){var t,n,r=e.previous,i=e.from,o=e.to,a=e.duration,s=void 0===a?0:a,u=Object.assign({},this.map);if(r){var c,l,d=(null==(c=u[r])?void 0:c[i])||{transitions:[]},f=Ty()(d.transitions);f&&0===f.duration&&(f.duration=s),u[r]=Object.assign({},u[r],((l={})[i]=d,l))}var p=(null==(t=u[i])?void 0:t[o])||{transitions:[]};p.transitions.push({duration:0,timestamp:Date.now()}),u[i]=Object.assign({},u[i],((n={})[o]=p,n)),this.changeMap(u)},t.getThresholds=function(){return[Number(this.envManager.get("NAVIGATIONS_MAP_AVERAGE_TIME_THRESHOLD")),Number(this.envManager.get("NAVIGATIONS_MAP_MIN_WEIGHT_THRESHOLD"))]},t.getMapData=function(e){var t,n=null!=(t=this.map[e])?t:{},r=[];return Object.keys(n).forEach((function(e){var t=n[e];if(t){var i=t.transitions,o=i.length,a=i.reduce((function(e,t){return t.duration+e}),0);r.push({pathname:e,averageTime:a/o,transitions:o})}})),r},t.getPrefetchPaths=function(e,t){var n=e.reduce((function(e,t){return e+t.transitions}),0),r=e.sort((function(e,t){return t.transitions-e.transitions})).filter((function(e){return e.transitions/n>=t}));return r.length?r:e.slice(0,1)},t.findUserPath=function(e){var t=this,n=this.getThresholds(),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,n,2),i=r[0],o=r[1];return function n(r,a){var s=t.getMapData(r);return t.getPrefetchPaths(s,o).forEach((function(t){var r=t.pathname,o=t.averageTime;if(!(a.includes(r)||r===e||(a.push(r),o>i)))return n(r,a)})),a}(e,[])},t.removeOldTransitions=function(e){for(var t=864e5*Number(this.envManager.get("NAVIGATIONS_MAP_DAYS_TO_LIVE")),n=Date.now(),r={},i=0,o=Object.keys(e);i<o.length;i++){for(var a=o[i],s=e[a]||{},u={},c=0,l=Object.keys(s);c<l.length;c++){var d=l[c],f=s[d],p=((null==f?void 0:f.transitions)||[]).filter((function(e){return n-e.timestamp<t}));p.length>0&&(u[d]={transitions:p})}Object.keys(u).length>0&&(r[a]=u)}return r},e}(),Ly=(0,Y.V3)("messengerServiceToken"),Dy=(0,Y.V3)("unreadConversationsToken"),jy=(0,Y.V3)("MESSENGER_API_URL"),By=(0,Y.V3)("FEATURE_TOGGLE_CACHE_TOKEN"),Uy=(0,Y.V3)("FEATURE_TOGGLE_SEGMENTATION_RESOLVER_TOKEN"),Fy=(0,Y.V3)("FEATURE_TOGGLE_SEGMENTATION_VALUE_GENERATOR_TOKEN"),Vy=(0,Y.V3)("FEATURE_TOGGLE_FACTORY_TOKEN"),Wy=n(83051),qy=(0,u.J)({provide:ey.Uh,useFactory:function(e){return"mobile"===e.userAgent.device.type?"mobile":"desktop"},deps:{userAgent:L.N}}),Hy=n(28531),Gy=(0,u.J)({provide:ey.n8,useFactory:function(e){var t=e.userAgent,n=e.webview.type,r=t.os.name;switch((null==n?void 0:n.toLowerCase())||(null==r?void 0:r.toLowerCase())){case"ios":return"ios";case"android":return"android";default:return"unknown"}},deps:{userAgent:L.N,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN}}),Zy=n(98877),Ky=(0,R.y)("set isSeoPage"),Jy=(0,R.y)("set renderMode"),zy=(0,R.y)("set accessLevel"),Yy=(0,E.L)("renderMode",{}).on(Ky,(function(e,t){return Object.assign({},e,{isSeoPage:t})})).on(Jy,(function(e,t){return Object.assign({},e,{mode:t})})).on(zy,(function(e,t){return Object.assign({},e,{accessLevel:t})})),Qy=n(8050),Xy=["Chrome >= 59","Safari >= 12.1","Firefox >= 120","Opera >= 62","Edge >= 79","ChromeAndroid >= 59","ios_saf >= 12.1","Android >= 8","OperaMobile >= 48","UCAndroid >= 13","FirefoxAndroid >= 120"],$y=["Chrome >= 90","Safari >= 14","Firefox >= 120","Opera >= 90","Edge >= 90","ChromeAndroid >= 90","ios_saf >= 14","Android >= 90","OperaMobile >= 73","UCAndroid >= 15","FirefoxAndroid >= 120"];function eb(e){return new Promise((function(t,n){return setTimeout((function(){n(("SSO timeout get by token","SsoTimeoutWebviewGetByToken",Object.assign(new Error("SSO timeout get by token"),{type:"SsoTimeoutWebviewGetByToken"})))}),e)}))}var tb=(0,Y.V3)("RENDER_MODE_TOKEN"),nb=(Ny=(0,h.Y)({providers:[(0,u.J)({provide:tb,useFactory:function(e){var t,n=e.tramvaiRenderMode,r=e.envManager,i=e.responseManager;return t="true"===r.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")?"csr":"string"==typeof n?n:n(),i.setHeader("ib_render_mode",t),t},deps:{tramvaiRenderMode:Wn.TRAMVAI_RENDER_MODE,envManager:y.vC,responseManager:dt.r}}),(0,u.J)({provide:b.Ym,multi:!0,useValue:Yy})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,[(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.eventea,n=e.renderMode,r=e.store,i=e.userAgent;return function(){if(t){var e=r.getState(Yy),o=e.isSeoPage,a=e.accessLevel,s=void 0===a?"unknown":a,u=e.mode,c=u&&"csr"!==n?u:n,l=function(e){return(0,Qy.L)(e,$y)?"modern":(0,Qy.L)(e,Xy,{forceMinimumUnknownVersions:!0})?"supported-legacy":"not-supported"}(i);t.data({project:"supreme",payload:{renderMode:c,isSeoPage:o,accessLevel:s,renderModeByClient:n,browserSupport:l}}),t.data({project:"application-health",payload:{renderMode:c,isSeoPage:o,accessLevel:s}})}}},deps:{eventea:{token:Sa.Bv,optional:!0},renderMode:tb,store:b.kR,userAgent:L.N}}),(0,u.J)({provide:Wn.TRAMVAI_RENDER_MODE,useFactory:function(e){var t=e.store;return function(){return t.getState(Yy).mode||"client"}},deps:{store:b.kR}})]))}),Ny(My=function(){})||My),rb=(0,Y.V3)("criticalMappingsEnabledToken"),ib=(0,Y.V3)("fetchMappingsPromiseToken"),ob=(0,Y.V3)("triggerMappingsLoadToken"),ab=(0,Y.V3)("isMappingsLoadDelayedToken"),sb=n(46858),ub=n(65341),cb=n(21549),lb=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,yy),[qy,Gy,(0,u.J)({provide:ey.Hs,useFactory:function(e){return(0,e.boxyServiceFactory)()},deps:{boxyServiceFactory:Vh.Rq}}),(0,u.J)({provide:wy,useClass:Py,deps:{envManager:y.vC,eventea:Sa.Bv,storage:_y,authenticateDeferred:"authenticateDeferred",store:b.kR}}),(0,u.J)({provide:ey.Kl,useFactory:function(e){var t=e.eventea,n=e.router,i=e.prefetch,o=e.prefetchFromConfig,s=e.navigationsMap,u=e.webview;return(0,r.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.isWebView){e.next=3;break}return e.next=3,null==s?void 0:s.init();case 3:(r=null==s?void 0:s.findUserPath(n.getCurrentRoute().path))&&(null==r?void 0:r.length)>0?(i(r,"navigations_map"),t.send({project:"supreme",event:"navigations-map-prefetch",payload:{pages:r}})):null==o||o();case 5:case"end":return e.stop()}}),e)})))},deps:{prefetch:cb.hx,prefetchFromConfig:{token:cb.QK,optional:!0},navigationsMap:{token:wy,optional:!0},router:Zt.l1,eventea:Sa.Bv,webview:kh.VO}}),(0,u.J)({provide:ey.Nn,useFactory:function(e){var t=e.boxyService,n=e.boxyMetrics,r=e.dival,o=e.eventea,a=e.store,s=e.installType,c=e.prefetch,l=e.router,d=e.envManager,f=e.renderMode,p=e.fetchMappingsPromise,v=e.triggerMappingsLoad,h=e.isMappingsDelayed;return function(e){!r&&o&&o.sendOnce({project:"supreme",event:"failed-dival-token"});var g=e.dival,m=e.routeName,y=e.createUseOptions,b=e.act,_=(0,Sr.o)(Zm.RF),E=(0,$n.useRef)([]),w=(0,$n.useRef)([]),S=(0,$n.useRef)([]),T=(0,$n.useRef)(0),A=(0,$n.useRef)(Object.assign({},r,g)),k=(0,$n.useMemo)((function(){var e=Object.assign({},r,g),t=function(e,t){return[].concat(Rm(i.Z,Object.keys(t)),Rm(i.Z,Object.keys(e))).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(n){return t[n]!==e[n]})).map((function(n){return n+" | current: "+JSON.stringify(e[n])+" | new: "+JSON.stringify(t[n])}))}(A.current,e);return T.current>0&&(null==o||o.send({project:"supreme",event:"dival-changes",payload:{number:T.current,divalDiff:t.join(", ")}})),A.current=e,T.current++,e}),[g]),O=(0,$n.useCallback)((function(e,t){var n,r={schemaVersion:t.subtree.version,type:t.subtree.type,version:Nm(null!=(n=t.componentStack)?n:void 0)};w.current.push(r);var i="Message: "+e.message+" ; Stack: "+e.stack;null==o||o.send({project:"supreme",event:"microfront-error",payload:{errorInfo:i,blockType:r.type,schemaVersion:r.schemaVersion,blockVersion:r.version}})}),[]),C=(0,$n.useCallback)((function(e){E.current.push(e)}),[]),R=(0,$n.useCallback)((function(e){var t=e.key,r=e.subtree;n.diMiss(r.type,t),S.current.push({key:t,subtree:r})}),[]),I=(0,$n.useMemo)((function(){var e=t.getTree();if(!e)return{tree:{id:"error",type:"error",version:"error"},use:function(){return function(){return null}}};if(!_)return{tree:e,use:t.createUse(y)};if(o){var n,r=null==l.getPreviousPageUrl?void 0:l.getPreviousPageUrl(),a=!!r,s=(null==r?void 0:r.href)||(null==(n=document)?void 0:n.referrer);o.send({project:"supreme",event:"route-error",payload:{blockType:_.initiator,errorType:_.type,error:_.reason,route:l.getCurrentRoute().path,isSPA:a,previousURL:s}})}var u=d.getAll(),c=u.DESKTOP_NAVIGATION,f=u.DESKTOP_FOOTER,p=u.MOBILE_NAVIGATION,v=u.MOBILE_FOOTER,h=function(e,t,n,r){var o;if(!e.content)return{tree:e,missingBlocks:[]};var a=Rm(i.Z,e.content)[0],s=a,u=Object.assign({},s,{content:new Array});!function e(r){r.forEach((function(r){var i;0!==(null==(i=r.content)?void 0:i.length)?e((null==r?void 0:r.content)||[]):n.filter((function(e){return e!==t.initiator})).includes(r.type)&&u.content.push(r)}))}(a.content||[]);var c=u.content.findIndex((function(e){return r.some((function(t){return t===e.type}))})),l={type:"block-error",properties:{error:t},id:"block-error",version:"1.0"};return null==(o=u.content)||o.splice(c+1,0,l),1===u.content.length?{tree:u,missingBlocks:n}:{tree:u,missingBlocks:[]}}(e,_,[c,f,p,v],[c,p]),g=h.tree,m=h.missingBlocks;return o&&m.length&&o.send({project:"supreme",event:"fallback-tree-error",payload:{missingBlocks:m}}),{tree:g,use:function(e){return"block-error"===e.type?"not-found"===_.type?Ym.default:zm:t.getComponent(e)}}}),[y,_]),N=(0,$n.useId)();(0,$n.useEffect)((function(){$m++;var e=t.getTree(),r=[];e&&Mm(e,(function(e){r.push({version:e.version,type:e.type})}));var i=w.current.length+E.current.length+S.current.length;if(r.length===i){var u=new ji({message:"Page cannot display any block"});a.dispatch(sr(u))}if(n.blocksRendered(r,{renders:$m,treeId:m},N),h&&setTimeout((function(){return null==v?void 0:v()}),0),Promise.resolve(p).then((function(){return null==c?void 0:c()})).catch(console.error),E.current.length){var d=(0,Um.getTemper)(),g=Object.keys(d.modules).map((function(e){return d.modules[e].error})).filter(Boolean);n.blockMiss(E.current,g.concat(function(e,t){var n=e.getBaseMappingExtension();if(!n)return[];for(var r,i=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t,!0);!(r=o()).done;){var a,s=r.value;null!=(a=n[s.type])&&a[s.version]||i.push(new Error("There is no entry for block "+s.type+" with schema "+s.version+" in mappings"))}return i}(t,E.current)))}if(o&&0===i){var y=a.getState(il.p).accessLevel,b=l.getCurrentRoute().pattern;o.sendOnce({project:"supreme",event:"app-start-ui-fully-functional",payload:{userRole:y||Bm.uv.anonymous,installType:s||"unknown",renderMode:f}}),o.send({project:"supreme",event:"pageOpened.uiFullyFunctional",payload:{userRole:y||Bm.uv.anonymous,installType:s||"unknown",renderMode:f,path:b,transitionType:null!=l.getPreviousPageUrl&&l.getPreviousPageUrl()?"spa":"hard"}})}}),[m,N]),(0,$n.useEffect)((function(){var e;null!=(e=t.getTree())&&null!=(e=e.content)&&e.length||null==n.emptyContent||n.emptyContent()}),[]);var M,x=[(M=k.eventea,(0,u.J)({provide:Ng.MICRO_DI_EVENTEA_TOKEN,useFactory:function(e){var t=e.blockType,n=e.blockSchema,r=e.blockProject;return null==M?void 0:M.createChild({copyParentHandlersData:!0,handlersData:{blockType:t,blockSchema:n,blockProject:r},includeParentDataState:!0})},deps:{blockType:Qm.BOXY_BLOCK_TYPE,blockSchema:Qm.BOXY_BLOCK_SCHEMA_VERSION,blockProject:Qm.BOXY_BLOCK_PROJECT_TITLE}}))];return(0,Xn.jsx)(jm.Z,Object.assign({act:b,isConcurrentFeaturesEnabled:!0,miss:C,missedDi:R,dival:k,onBlockRenderError:O,eventea:null!=o?o:void 0},I,{providers:x}))}},deps:{boxyService:ey.Hs,boxyMetrics:ey.j8,dival:ey.M2,eventea:{token:Sa.Bv,optional:!0},store:b.kR,installType:{token:bd.h,optional:!0},prefetch:{token:ey.Kl,optional:!0},router:Zm.kg,envManager:y.vC,renderMode:tb,fetchMappingsPromise:(0,Y.jt)(ib),triggerMappingsLoad:(0,Y.jt)(ob),isMappingsDelayed:(0,Y.jt)(ab)}}),(0,u.J)({provide:Ng.DISPLAY_MODE_TOKEN,useFactory:function(){return window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: browser)").matches?"browser":"unknown"}}),(0,u.J)({provide:Ng.MICRO_DI_GET_WUID_TOKEN,useFactory:function(e){var t=e.cookieManager;return function(){return t.get("__P__wuid")}},deps:{cookieManager:k.T}}),(0,u.J)({provide:Ng.MICRO_DI_COLOR_SCHEME,useFactory:function(e){var t=e.store;return{useColorScheme:function(){return(0,Sr.o)(ub.Z)},getValueSync:function(){return t.getState(ub.Z)}}},deps:{store:b.kR}}),(0,u.J)({provide:Ng.MICRO_DI_USER_API_TOKEN,useFactory:function(e){var t=e.store;return{getSsoId:function(){return t.getState(il.p).ssoId},getPortalId:function(){return t.getState(il.p).userId||void 0}}},deps:{store:b.kR}}),(0,u.J)({provide:Ng.MICRO_DI_WEBVIEW_MANAGER,useFactory:function(e){var t=e.webviewManager,n=e.webviewInitParams,r=e.pubsub,i=e.pageService,o=function(){var e;return null!=(e=i.getConfig().isCurtainOverlay)&&e};return t?{isWebView:t.isWebView,isCurtainOverlay:o,sendMessage:function(e){return t.sendPostMessageToMobile(e)},emit:function(e){return t.sendPostMessageToMobile(e)},on:function(e,n){var i=r.subscribe(e,n);return t.savedMobileMessages[e]&&(null==r||r.publish(e,t.savedMobileMessages[e])),i},getOption:t.getOption.bind(t),setWebviewMFready:function(){t.pageLoad(!0)}}:{isWebView:n.isWebView,sendMessage:function(e){},emit:function(e){},on:function(){return function(){return!0}},getOption:function(e){},isCurtainOverlay:o,setWebviewMFready:function(){}}},deps:{webviewManager:{optional:!0,token:kh.o3},webviewInitParams:kh.VO,pubsub:se.k3,pageService:Zt.Y9}}),(0,u.J)({provide:Ng.MICRO_DI_CONTEXT_AUTH_TOKEN,useFactory:function(e){return{ContextAuthComponent:e.SupremeAuthSso}},deps:{SupremeAuthSso:Zy.$}}),(0,u.J)({provide:ey.M2,useFactory:function(e){var t,n=e.roleModelV2,r=e.subscriptionV2,i=e.sessionManager,o=e.router,a=e.eventea,s=e.env,u=e.messenger,c=e.displayMode,l=e.mobilePlatform,d=e.supremeRouter,f=e.supremeRouterFactory,p=e.webviewManager,v=e.get3dsParams,h=e.getWuid,g=e.globalQueryClient,m=e.roleModel,y=e.featureToggles,b=e.userApi,_=e.logout,E=e.layout,w=e.contextAuth,S=e.unreadService,T=e.chatUrl,A=e.colorScheme,k=e.financialDataView,O=a?Object.assign(a,{useFactory:function(e){var t;return null!=(t=null==a?void 0:a.createChild({copyParentHandlersData:!0,handlersData:e,includeParentDataState:!0}))?t:null}}):null;return{layout:E,subscription:{useSubscription:function(){return(0,Sr.o)(Wy.kP)},getValueSync:function(){return r.getValueSync()},get:function(){return r.getValueSync()},watch:function(e){return r.watch(e)}},role:{useRole:function(){return(0,Sr.o)(Wy.Xi)},getValueSync:function(){return n.getValueSync()},get:function(){return n.getValueSync()},watch:function(e){return n.watch(e)}},router:d?Object.assign(d,f):d,changeThemeColor:null!=p&&p.isWebView?(t=p,function(e){var n,r=function(e){if(e.startsWith("#"))return e.slice(1);var t=new RegExp(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/),n=e.match(t);return n?[n[1],n[2],n[3]].map((function(e){return parseInt(e,10).toString(16).padStart(2,"0")})).join(""):"FFF"}(e&&xg()(e)?e:Cm.iv);t.emit({type:Om.WebViewMessageType.setBrowserBackgroundColor,value:r});var i=null==(n=document)?void 0:n.querySelector("html");i&&(i.style.backgroundColor="#"+r)}):Dm(),getMotherApiSessionId:function(){return i.getSessionId()},userInfo:null,hasPermission:function(){return m.hasPermission("")},openMessenger:Pm({messenger:u,router:o,isMobile:"mobile"===E,chatUrl:T}),onUnreadMessagesUpdate:Lm({messenger:u,unreadService:S}),roleApi:{useRole:function(){return(0,Sr.o)(ph.ST)},getValueSync:function(){return m.getValueSync()}},logout:_,env:s,eventea:O,displayMode:c,mobilePlatform:l,showErrorScreen:function(){},globalQueryClient:g,webview:p,get3dsParams:v,getWuid:h,featureToggles:y,userApi:b,contextAuth:w,colorScheme:A,financialDataView:k}},deps:{roleModel:ph.yP,sessionManager:Rc.db,roleModelV2:Wy.dP,subscriptionV2:Wy.f$,router:Zt.l1,supremeRouterFactory:sb.Nf,supremeRouter:Zm.kg,eventea:{token:Sa.Bv,optional:!0},env:Ng.MICRO_DI_ENV_TOKEN,messenger:Ly,displayMode:Ng.DISPLAY_MODE_TOKEN,mobilePlatform:ey.n8,webviewManager:Ng.MICRO_DI_WEBVIEW_MANAGER,get3dsParams:by,getWuid:Ng.MICRO_DI_GET_WUID_TOKEN,globalQueryClient:ey.PT,featureToggles:Vy,userApi:Ng.MICRO_DI_USER_API_TOKEN,logout:ey.B2,layout:ey.Uh,contextAuth:Ng.MICRO_DI_CONTEXT_AUTH_TOKEN,unreadService:Dy,chatUrl:Ch.CHAT_URL_TOKEN,colorScheme:Ng.MICRO_DI_COLOR_SCHEME,financialDataView:Ng.MICRO_DI_FINANCIAL_DATA_VIEW_TOKEN}}),(0,u.J)({provide:ey.PT,useFactory:function(){return new km}}),(0,u.J)({provide:Vh.gp,useFactory:function(e){var t=e.eventea;return t?{requestStart:function(e){t.send({project:"supreme",event:"request-start",payload:Object.assign({},e,{initiator:"supreme"})})},requestEnd:function(e){"error"===e.result&&t.send({project:"supreme",event:"request-end-error",payload:Object.assign({},e,{error:e.error||"",stack:e.stack||"",initiator:"supreme"})}),t.send({project:"supreme",event:"request-end",payload:Object.assign({},e,{stack:e.stack||"",initiator:"supreme"})})}}:{requestStart:Ft(),requestEnd:Ft()}},deps:{eventea:{token:Sa.Bv,optional:!0}}})]),db=n(91401);function fb(e,t){return e+"-v"+t}var pb,vb,hb,gb,mb,yb=[{provide:ey.j8,useFactory:function(e){var t=e.eventea;return{blocksRendered:function(e,n,r){var i=n.renders,o=n.treeId,a=e.map((function(e){return e.type})),s=e.map((function(e){return fb(e.type,e.version)}));null==t||t.sendOnce({project:"supreme",event:"microfronts-client-rendered",payload:{blockTypes:a,blockTypesVersioned:s,renders:i,treeId:o}},r)},blockMiss:function(e,n){var r;null!=(r=window)&&null!=(r=r.navigator)&&r.userAgent.match("YandexBot")||null==t||t.send({project:"supreme",event:"microfront-client-fallback",payload:{blocksCount:e.length,blockTypes:e.map((function(e){return e.type})),blockTypesVersioned:e.map((function(e){return fb(e.type,e.version)})),errors:null==n?void 0:n.map((function(e){return e.message+"\n"+e.stack}))}})},diMiss:function(e,n){null==t||t.send({project:"supreme",event:"di-required-key-missed",payload:{type:e,key:n}})},emptyContent:function(){null==t||t.send({project:"supreme",event:"render-empty-content"})},staticLoad:function(e){var n=(0,db.Z5)({urlMask:e});n&&(null==t||t.send({project:"boxyCore",event:"boxyCore.microfrontStaticLoad",payload:n}))}}},deps:{eventea:{token:Sa.Bv,optional:!0}}}],bb=n(99270),_b=(0,Y.V3)("userAgentRawToken"),Eb={name:"microfronts-locker",enableCircuitBreaker:!1,cacheTime:3e4,allowStale:!1},wb=[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"FF_ENABLE_CRITICAL_MAPPINGS",optional:!0},{key:"FF_WEBVIEW_DELAYED_MAPPING_LOADING",optional:!0},{key:"CSR_CRITICAL_MAPPING_REQUEST_TIMEOUT",validator:fd,optional:!0}]}),(0,u.J)({provide:rb,useFactory:function(e){var t=e.envManager,n=e.renderMode,r=function(e,t){var n=e.browser,r=e.mobileOS;return"safari"===n.name&&"ios"===r&&/sapphire\//i.test(t)}(e.userAgent,e.userAgentRaw),i="true"===t.get("FF_ENABLE_CRITICAL_MAPPINGS");return("ssr"===n||"client"===n)&&i&&!r},deps:{envManager:y.vC,renderMode:tb,userAgent:L.N,userAgentRaw:_b}})],Sb=(0,h.Y)({providers:[(0,u.J)({provide:_b,useValue:navigator.userAgent})]})(pb=function(){})||pb,Tb=Iy(),Ab=(vb=(0,h.Y)({imports:[Sb],providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,wb),[(0,u.J)({provide:ab,useFactory:function(e){var t=e.webview,n=e.envManager;return t.isWebView&&"true"===n.get("FF_WEBVIEW_DELAYED_MAPPING_LOADING")},deps:{webview:Hy.WEBVIEW_MANAGER_TOKEN,envManager:y.vC}}),(0,u.J)({provide:Vh.w0,useFactory:function(e){var t=e.envManager,n=e.isEnabled?"CSR_CRITICAL_MAPPING_REQUEST_TIMEOUT":"CSR_MAPPING_REQUEST_TIMEOUT";return Number(t.get(n))},deps:{envManager:y.vC,isEnabled:rb}}),(0,u.J)({provide:ib,useFactory:function(e){return e.isEnabled?Tb.promise:Promise.resolve()},deps:{isEnabled:rb}}),(0,u.J)({provide:ob,useFactory:function(e){var t=e.isEnabled,n=e.externalMappingsProcessor;return function(){t&&!Tb.isResolved&&n({forceRefresh:!1}).then((function(){return Tb.resolve()})).catch(console.error)}},deps:{isEnabled:rb,externalMappingsProcessor:bb.I5}}),(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.router,n=e.isEnabled,r=e.isDelayed,i=e.triggerMappingsLoad;return function(){n&&t.registerHook("beforeResolve",(function(){return r&&i(),Tb.promise}))}},deps:{router:Zt.l1,isEnabled:rb,isDelayed:ab,triggerMappingsLoad:ob}}),(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.isEnabled,n=e.externalMappingsProcessor,r=e.mappingCache,i=e.isDelayed;return function(){t&&!Tb.isResolved&&(r.clear(),i||n({forceRefresh:!1}).then((function(){return Tb.resolve()})).catch(console.error))}},deps:{isEnabled:rb,externalMappingsProcessor:bb.I5,mappingCache:Vh.o1,isDelayed:ab}}),(0,u.J)({provide:Vh.BW,useFactory:function(e){var t=e.factory,n=e.isEnabled;return t(Object.assign({},Eb,{retryOptions:n?{retry:2}:void 0}))},deps:{factory:As,isEnabled:rb}})])}),vb(hb=function(){})||hb);function kb(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Ob,Cb,Rb,Ib,Nb=(gb=(0,h.Y)({imports:[Cg,Ab],providers:[].concat(kb(i.Z,lb),kb(i.Z,yb),[(0,u.J)({provide:c.Bi.resolvePageDeps,useFactory:function(e){var t=e.boxyService,n=e.pageService,i=e.boxyMetrics,o=e.role,s=e.envManager,u=e.webview,c=e.getRetryUrl;return function(){var e=(0,r.Z)(a().mark((function e(){var r,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.getContent()){e.next=3;break}return e.abrupt("return");case 3:return null!=u&&u.isWebView||"true"!==s.get("FF_FILTER_BLOCKS_USE_ROLE2")||(l=xm(l,o.getValueSync().role.name)),t.registerTree(l),e.next=7,t.transformTree();case 7:return e.next=9,Ig()({tree:t.getTree(),baseUrl:"",getRetryUrl:c});case 9:return d=e.sent,null==i.staticLoad||i.staticLoad(null==(r=n.getCurrentRoute())?void 0:r.path),t.registerMap(d),e.abrupt("return",Promise.resolve());case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},multi:!0,deps:{boxyService:ey.Hs,pageService:Zt.Y9,boxyMetrics:ey.j8,role:Wy.dP,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN,envManager:y.vC,getRetryUrl:jh.Jc}})])}),gb(mb=function(){})||mb),Mb=n(47037),xb=n(18175),Pb=n(21476),Lb=n(69297),Db=(0,de.Z)({name:"mainDefault",components:{mfPage:Mb.default,pageDefault:Mb.default,notFound:Ym.default,webviewDebug:xb.WebviewDebug,webviewPreload:Pb.WebviewPreload,webviewRedirect:Lb.WebviewRedirect,failedPage:function(){return new Promise((function(e,t){setTimeout((function(){t(new Error("Can't render this page"))}),500)}))}}}),jb=(0,Y.V3)("noJsWarning"),Bb=(0,Y.V3)("failedScriptsWarning"),Ub={provide:c.Bi.resolvePageDeps,useFactory:function(e){return e.resourcesRegistry,e.failedScriptsWarning,function(){}},deps:{resourcesRegistry:Wn.RESOURCES_REGISTRY,failedScriptsWarning:{token:Bb,optional:!0}}},Fb=n(23436),Vb=function(e){function t(e){var t=new XMLHttpRequest,n=e||{},r=n.callback,i=n.timeout,o=n.withCredentials,a=void 0!==o&&o;return t.withCredentials=a,i&&(t.timeout=i),t.onerror=function(){r&&r()},t.onload=function(){r&&r()},t}if(-1===window.location.pathname.indexOf("system/browser-old")&&window.USER_BROWSER&&null!==window.USER_BROWSER&&"object"==typeof window.USER_BROWSER){e.push("IE >= 999");for(var n=window.USER_BROWSER,r=0;r<e.length;r++){var i=e[r].match(/([a-z]*\S+[a-z]+)\D+(\d+(\.*\d+)*)/i),o=(null==i?void 0:i[1])||"",a=null!=i&&i[2]?parseFloat(null==i?void 0:i[2]):0;if(n.name===o&&n.version<a){var s=t({timeout:2e3}),u=t({callback:function(){window.location.href="/system/browser-old.html?redirectTo="+window.location.pathname},timeout:2e3});return window.supremeLogger.sendFrontLogEvent(s)("old-browser",{browser:n.name,version:n.version}),void window.supremeLogger.sendEventeaEvent(u)("old-browser",{browser:n.name,version:n.version})}}}},Wb=JSON.stringify(Xy),qb={provide:Wn.RENDER_SLOTS,useFactory:function(e){var t=e.renderMode;return"ssr"===t||"client"===t?[]:{slot:Fb.HEAD_CORE_SCRIPTS,type:Hr.LO.inlineScript,payload:"("+Vb+")("+Wb+")"}},deps:{renderMode:tb}},Hb=n(85048),Gb={provide:Wn.EXTEND_RENDER,useFactory:function(e){var t=e.eventea,n=e.cdnResources,r=e.userAgent,i=e.webview;return function(e){var o="mobile"===r.device.type,a=n.commonErrorImage;return(0,Xn.jsx)(Hb.S,{fallback:(0,Xn.jsx)("div",{className:"default-error-boundry default-error-boundry_server",children:(0,Xn.jsx)(Wm.Z,{children:(0,Xn.jsx)(qm.m,{image:{alt:"Что-то пошло не так",src:a},description:"Не смогли открыть страницу. Попробуйте перезагрузить или возвращайтесь чуть позже",title:"Что-то пошло не так",isMobile:o})})}),onError:function(e){null==t||t.send({project:"supreme",event:"render-page",payload:{errorMessage:e.message,errorStack:e.stack||""}}),null!=i&&i.isWebView&&(null==i||i.sendPostMessageToMobile({type:Om.WebViewMessageType.error,value:{title:"Что-то пошло не так",subtitle:"Не смогли открыть страницу. Попробуйте повторить или возвращайтесь чуть позже"}}))},children:e})}},deps:{eventea:(0,Y.jt)(Sa.Bv),cdnResources:Ch.CDN_RESOURCES_TOKEN,userAgent:L.N,webview:(0,Y.jt)(kh.o3)}},Zb=(0,h.Y)({providers:[{provide:y.sQ,multi:!0,useValue:[{key:"EVENTEA_BEER_URL",optional:!0},{key:"FRONT_LOG_API",optional:!0}]},{provide:Wn.DEFAULT_ERROR_BOUNDARY_COMPONENT,useValue:zm},{provide:jb,useValue:'\n<noscript id=\'nojs\'>\n  <div style="position: relative;height: 45px;color: #fff;width: 100%;background-color: #dd5656;font-weight: 600;display: flex;align-items: center;justify-content: center;z-index: 999;">\n      Для корректной работы сервисов банка необходимо&nbsp;<a href="https://cdn.tbank.ru/frontend-libraries/nojswarning/index.html" style="color: #fff;" target="_blank">включить поддержку JavaScript</a>\n  </div>\n  <style>\n      .supreme-loader {display:none;}\n      .supreme-splash-screen {display: none;}\n  </style>\n</noscript>\n'},{provide:Bb,useValue:'\n<div class="supreme-unloaded-message" style="position: relative;height: 45px;color: #fff;width: 100%;background-color: #dd5656;font-weight: 600;display: flex;align-items: center;justify-content: center;z-index: 999;">\nНе удалось загрузить все необходимые файлы&nbsp;<a href="#" style="color: #fff;text-decoration: underline;" onclick="location.reload();">перезагрузить страницу</a>\n</div>\n<style>\n.supreme-loader {display:none;}\n.supreme-splash-screen {display: none;}\n</style>\n'},Gb,qb,Ub]})(Ob=function(){})||Ob,Kb=(n(83264),Cb=(0,h.Y)({providers:[(0,u.J)({provide:Ia,useFactory:function(e){var t=e.userAgent;return function(e){"mobile"!==(null==t?void 0:t.device.type)&&e.updateMeta(10,{viewport:null})}},deps:{userAgent:{token:L.N,optional:!0}}}),(0,u.J)({provide:Wn.HTML_ATTRS,useFactory:function(e){var t,n=e.userAgent;return"mobile"===(null==n?void 0:n.device.type)?{}:{target:"html",attrs:(t={},t["firefox"===(null==n?void 0:n.browser.name)?"data-zoom-disabled":"data-zoom-enabled"]="true",t)}},deps:{userAgent:{token:L.N,optional:!0}},multi:!0}),(0,u.J)({provide:c.Bi.generatePage,useFactory:function(e){var t=e.userAgent,n=e.renderMode;return function(){if("csr"===n&&"firefox"===(null==t?void 0:t.browser.name)){var e=document.querySelector("html");null!=e&&e.getAttribute("data-zoom-enabled")&&(null==e||e.removeAttribute("data-zoom-enabled"),null==e||e.setAttribute("data-zoom-disabled","true"))}}},deps:{userAgent:{token:L.N,optional:!0},renderMode:tb},multi:!0})]}),Cb(Rb=function(){})||Rb),Jb=(0,h.Y)({providers:[]})(Ib=function(){})||Ib,zb={provide:y.sQ,multi:!0,useValue:[{key:"PUSH_NOTIFICATIONS_KEY",validator:function(e){var t="value is not a number array";try{var n=JSON.parse(e);return!(!Array.isArray(n)||!n.every((function(e){return"number"==typeof e})))||t}catch(e){return t}},dehydrate:!1,optional:!1}]},Yb=["mobile safari","tablet safari"],Qb=(0,Xt.H)({name:"openWebPushAction",fn:function(){var e=this;return(0,r.Z)(a().mark((function t(){var n,r,i,o,s,u,c,l,d,f,p,v,h;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.deps,i=r.pageService,o=r.userAgent,s=r.isPwa,u=r.webview,c=r.eventea,l=i.getCurrentUrl(),d=l.query,f=o.browser.name,p="true"===d.showPush,v="default"===(null==(n=window)||null==(n=n.Notification)?void 0:n.permission),h=f&&-1!==Yb.indexOf(f),!(p&&v&&h&&s())||u.isWebView){t.next=11;break}return null==c||c.send({project:"push-web",event:"banner_webpushShow"}),t.next=11,e.executeAction(Yd);case 11:case"end":return t.stop()}}),t)})))()},conditions:{dynamic:!0},deps:{pageService:Zt.Y9,userAgent:L.N,isPwa:Oh.Im,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN,eventea:{token:Sa.Bv,optional:!0}}}),Xb=(0,u.J)({provide:g.I7,multi:!0,useFactory:function(){return[Qb]}}),$b={chrome:!0,firefox:!0,safari:!0,blink:!0,other:!1},e_={provide:Ld.nd,useFactory:function(e){var t=e.envManager,n=e.webview,r=t.get("PUSH_NOTIFICATIONS_KEY"),i=r?JSON.parse(r):[];return function(){return{enablePush:true,enableGentleBanner:!n.isWebView&&true,enableAutoSubscription:true,enabledBrowsers:$b,autoSubscriptionDelay:10,applicationServerKey:i}}},deps:{envManager:y.vC,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN}},t_={provide:Ld.QF,useFactory:function(e){var t=e.acdnResources,n=e.pageService.getConfig();return{bannerTitle:n.pushWebBannerTitle||"Включите пуш-уведомления",bannerDescription:n.pushWebBannerDescription||"Они помогут не пропустить важное. Сможете узнавать о поступлениях, списаниях, подтверждениях операций и не только",iconUrl:n.pushWebIconUrl||t.defaultPushWebIcon}},deps:{acdnResources:Ch.ACDN_RESOURCES_TOKEN,pageService:Zt.Y9}},n_=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=(0,r.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i=!1;setTimeout((function(){i=!0,e()}),n),(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||i){e.next=8;break}return e.next=3,t();case 3:return n=e.sent,e.next=6,n_(100);case 6:e.next=0;break;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))().then(e).catch(e)})));case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}var o_,a_=function(){function e(){this.db=null}var t=e.prototype;return t.get=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._withStore("readonly",(function(e){n=e.get(t)}));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",void 0);case 8:return e.abrupt("return",n.result);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),t._getDB=function(){var e=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.db){e.next=8;break}return e.next=3,indexedDB.databases();case 3:if(t=e.sent,n=t.find((function(e){return"tinkoff-push"===e.name}))){e.next=7;break}throw new Error("tinkoff-push db not found");case 7:this.db=new Promise((function(e,t){var r=indexedDB.open(n.name,n.version);r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e(r.result)}}));case 8:return e.abrupt("return",this.db);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t._withStore=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getDB();case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,i){var o=r.transaction("keyval",t);o.oncomplete=function(){return e()},o.onerror=function(){return i(o.error)},n(o.objectStore("keyval"))})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e}(),s_="tcs_p_sw_active",u_={provide:c.Bi.init,useFactory:function(e){var t=e.eventea,n=e.logger,i=e.isPwa,o=e.localStorageService,s=e.mainPageUrl;return function(){(0,r.Z)(a().mark((function e(){var n,u,c,l,d,f,p,v,h,g,m,y,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isAvailable()&&"undefined"!=typeof indexedDB&&navigator.serviceWorker&&window.Notification&&i()&&/iPad|iPhone/.test(navigator.userAgent)&&window.location.pathname===s){e.next=2;break}return e.abrupt("return");case 2:return d=new a_,e.next=5,d.get("settings");case 5:return f=e.sent,e.next=8,d.get("subscription");case 8:if(p=e.sent,v=!!o.getItem(s_),h=null,!navigator.serviceWorker.controller){e.next=20;break}return e.next=14,window.navigator.serviceWorker.ready;case 14:return m=e.sent,e.next=17,null==(g=m.pushManager)?void 0:g.getSubscription().catch((function(){return null}));case 17:h=e.sent,e.next=21;break;case 20:o.removeItem(s_);case 21:if(window.navigator.serviceWorker.ready.then((function(){o.setItem(s_,"true")})).catch((function(){})),h){e.next=32;break}return e.next=25,r_((0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.serviceWorker.ready;case 2:return n=e.sent,e.abrupt("return",null==(t=n.pushManager)?void 0:t.getSubscription().catch((function(){return null})));case 4:case"end":return e.stop()}}),e)}))),3e3);case 25:if(e.t0=b=e.sent,null!=e.t0){e.next=30;break}e.t1=void 0,e.next=31;break;case 30:e.t1=b.endpoint;case 31:y=e.t1;case 32:t.send({project:"general-web",event:"swStatus",payload:{status:null!=(n=null==(u=navigator.serviceWorker)||null==(u=u.controller)?void 0:u.state)?n:"none",isPushEnabled:"granted"===window.Notification.permission,wasActive:v,notificationId:h?h.endpoint:null!=(c=y)?c:"none",oldNotificationId:null!=(l=h?null==f?void 0:f.oldNotificationId:p)?l:"none"}});case 33:case"end":return e.stop()}}),e)})))().catch((function(e){n("swStatus").error(e,"Failed to send swStatus event")}))}},deps:{eventea:Sa.Bv,logger:Q.Fp,isPwa:Oh.Im,localStorageService:Ch.LOCAL_STORAGE_SERVICE_TOKEN,mainPageUrl:Ch.MAIN_PAGE_URL_TOKEN}},c_=[(0,u.J)({provide:Ld.WH,useFactory:function(){var e=Dm();return function(){return e("#3e3e3e")}}}),(0,u.J)({provide:Ld.Ji,useFactory:function(e){var t=e.envManager,n=Dm(),r=t.get("MAIN_THEME_COLOR")||Cm.iv;return function(){return n(r)}},deps:{envManager:y.vC}})];function l_(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var d_=[zb,e_,t_].concat(l_(i.Z,c_)),f_=[].concat(l_(i.Z,d_),[u_,Xb]),p_=(0,h.Y)({providers:f_})(o_=function(){})||o_,v_="supreme",h_=function(e){var t,n,r=e.query?new URLSearchParams(e.query).toString():"";return""+(null!=(t=e.baseUrl)?t:"unkwnown-base-url/")+(null!=(n=e.path)?n:"unknown-path")+(r.length?"?":"")+r};function g_(e){return"string"==typeof(null==e?void 0:e.code)}function m_(e){return null!=e}var y_,b_,__=function(e){if(!e)return"empty";if("number"!=typeof e||Number.isNaN(e))return"unknown";switch(!0){case 504===e:return"504";case 503===e:return"503";case 502===e:return"502";case 500===e:return"500";case e>=500&&e<=599:return"5xx";case 404===e:return"404";case 403===e:return"403";case 401===e:return"401";case 400===e:return"400";case e>=400&&e<=499:return"4xx";case 200===e:return"200";case e>=200&&e<=299:return"2xx";default:return"unknown"}},E_=function(e){return function(e){return g_(e)&&"ABORT_ERR"===e.code}(e)?"aborted":function(e){return g_(e)&&"ERR_HTTP_REQUEST_TIMEOUT"===e.code}(e)?"clientTimeout":"number"!=typeof(n=null==(t=e)?void 0:t.status)||Number.isNaN(n)?"empty":__(e.status);var t,n},w_=function(e){return[(0,Ay.n)(e)?e.message:null,(t=e,"string"==typeof(null==t?void 0:t.originalMessage)?e.originalMessage:null),g_(e)?e.code:null].filter(m_).join("\n");var t},S_=function(e,t,n){return{requestPredicate:t,interceptorName:"analytics for "+e,beforeStart:function(t){n.send({project:"supreme",event:"request-start",payload:{initiator:v_,slug:e,url:h_(t)}})},afterSuccess:function(t,r,i){var o,a;o=r.status,("unknown"===(a=__(o))||"empty"===a)&&n.send({project:"supreme",event:"response-without-status",payload:{url:h_(t),payloadType:typeof r.payload}}),n.send({project:"supreme",event:"request-end",payload:{initiator:v_,slug:e,url:h_(t),duration:i.duration,result:"success",statusCode:__(r.status),stack:""}})},afterError:function(t,r,i){var o,a={initiator:v_,slug:e,url:h_(t),duration:i.duration,result:"error",statusCode:E_(r),error:w_(r),stack:(o=r,"string"==typeof(null==o?void 0:o.stack)?r.stack:"no error stack available")};n.send({project:"supreme",event:"request-end-error",payload:a}),n.send({project:"supreme",event:"request-end",payload:a})}}},T_=(0,Y.V3)("INTERCEPTOR_TOKEN",{multi:!0}),A_=(0,u.J)({provide:Os,multi:!0,useFactory:function(e){var t=e.interceptors;return function(){var e=(0,r.Z)(a().mark((function e(n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={startTime:Date.now(),duration:-1},null!=t&&t.length){e.next=3;break}return e.abrupt("return",r(n));case 3:if((o=t.filter((function(e){return e.requestPredicate(n,i)}))).length){e.next=6;break}return e.abrupt("return",r(n));case 6:return e.prev=6,o.forEach((function(e){null==e.beforeStart||e.beforeStart(n,i)})),e.next=10,r(n);case 10:return s=e.sent,o.forEach((function(e){null==e.responseValidator||e.responseValidator(n,s,i)})),i.duration=Date.now()-i.startTime,o.forEach((function(e){null==e.afterSuccess||e.afterSuccess(n,s,i)})),e.abrupt("return",s);case 17:return e.prev=17,e.t0=e.catch(6),i.duration=Date.now()-i.startTime,o.forEach((function(t){null==t.afterError||t.afterError(n,e.t0,i)})),e.abrupt("return",o.reduce((function(e,t){var r=t.fallback;return r?e.catch((function(e){return r(n,e,i)})):e}),Promise.reject(e.t0)));case 22:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t,n){return e.apply(this,arguments)}}()},deps:{interceptors:{token:T_,multi:!0,optional:!0}}}),k_=(0,h.Y)({imports:[],providers:[A_]})(y_=function(){})||y_,O_=function(e){var t=e.path;return!(null==t||!t.endsWith("getResponse"))},C_=(0,u.J)({provide:T_,multi:!0,useFactory:function(e){var t=e.eventea;return S_("getResponse/getResponse",O_,t)},deps:{eventea:Sa.Bv}}),R_=(0,u.J)({provide:T_,multi:!0,useFactory:function(e){var t=e.eventea,n=e.envManager;return S_("getResponseFallback/getResponseFallback",function(e){return function(t){var n=t.baseUrl,r=e.get("GET_CONTENT_CACHE_URL");return!!n&&!!r&&n===r}}(n),t)},deps:{eventea:Sa.Bv,envManager:y.vC}}),I_=function(e){var t=e.path,n=e.query;return"supreme"===(null==n?void 0:n.appName)&&!(null==t||!t.endsWith("session_status"))},N_=(0,u.J)({provide:T_,multi:!0,useFactory:function(e){var t=e.eventea;return S_("sessionStatus/session_status",I_,t)},deps:{eventea:Sa.Bv}}),M_=function(e){var t=e.path,n=e.query;return"supreme"===(null==n?void 0:n.appName)&&!(null==t||!t.endsWith("sign_up"))},x_=(0,u.J)({provide:T_,multi:!0,useFactory:function(e){var t=e.eventea;return S_("auth-api/sign_up",M_,t)},deps:{eventea:Sa.Bv}}),P_=Cm.Fn.signout,L_=function(e){var t=e.path,n=e.query;return"supreme"===(null==n?void 0:n.appName)&&!(null==t||!t.endsWith(P_))},D_=(0,u.J)({provide:T_,multi:!0,useFactory:function(e){var t=e.eventea;return S_(Cm.sy[P_],L_,t)},deps:{eventea:Sa.Bv}}),j_=Cm.Fn.logout,B_=function(e){var t=e.path;return!(null==t||!t.endsWith(j_))},U_=(0,u.J)({provide:T_,multi:!0,useFactory:function(e){var t=e.eventea;return S_(Cm.sy[j_],B_,t)},deps:{eventea:Sa.Bv}}),F_=function(e){var t=e.path;return!(null==t||!t.endsWith("session/webview/get_by_token"))},V_=(0,u.J)({provide:T_,multi:!0,useFactory:function(e){var t=e.eventea;return S_("session/webview/get_by_token",F_,t)},deps:{eventea:Sa.Bv}}),W_=(0,h.Y)({imports:[],providers:[C_,R_,N_,V_,x_,D_,U_]})(b_=function(){})||b_,q_=function(e,t,n){if(!e||!t)return null;var r,i=new URL(t);if(i.host.includes("www")||(i.host="www."+i.host),n){var o=n.find((function(e){return function(e,t){"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(t.length-1)&&(t+="/");var n=function(e){return z_[e]||(z_[e]=function(e){for(var t,n="",r=0,i=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;t=i.exec(e);)t.index!==r&&(n+=G_(e.slice(r,t.index))),t[1]?n+="([^/]+)":"**"===t[0]?n+="(.*)":"*"===t[0]?n+="(.*?)":"("===t[0]?n+="(?:":")"===t[0]?n+=")?":"\\("===t[0]?n+="\\(":"\\)"===t[0]&&(n+="\\)"),r=i.lastIndex;return r!==e.length&&(n+=G_(e.slice(r,e.length))),n}(e)),z_[e]}(e);return t.match(new RegExp("^"+n+"$","i"))}(e,i.pathname)}));o&&(i.pathname=o)}return"/"+((r=e+"/"+i.toString()).endsWith("/")?r.slice(0,r.length-1):r).replace(/:\/\//g,"_").replace(/\//g,"_")+".json"},H_=(0,Y.V3)("GET_RESOURSE_CACHE_CLIENT");function G_(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Z_,K_,J_,z_=Object.create(null),Y_=(0,u.J)({provide:H_,useFactory:function(e){return(0,e.factory)({name:"GET_RESOURSE_CACHE_CLIENT",baseUrl:e.envManager.get("GET_CONTENT_CACHE_URL")})},deps:{factory:As,envManager:y.vC}}),Q_=(0,Y.V3)("getAppPagesToken"),X_=(0,u.J)({provide:Q_,useFactory:function(e){var t=e.eventea;return function(){try{return n(78897)}catch(e){return console.error("Ошибка загрузки файла app-pages! Выполните скрипт `yarn create-app-pages:test`",e),void(null==t||t.send({project:"supreme",event:"failed-get-app-pages-file",payload:{error:(0,Ay.n)(e)?e.message:""+e}}))}}},deps:{eventea:{token:Sa.Bv,optional:!0}}}),$_=n(80873),eE=(0,u.J)({provide:T_,useFactory:function(e){var t,n=e.di,i=e.eventea,o=e.envManager,s=e.getAppPages;return{interceptorName:"getResponse fallback interceptor",requestPredicate:function(e){var t=e.path,n=e.query;return!(null==t||!t.endsWith("getResponse")||null!=n&&n[$_.V])},responseValidator:function(e,t){var n=t.status;if(void 0!==n&&n>=400)throw Object.assign(new Error("Request failed but was revalidated by enrichment http client"),{status:n})},fallback:(t=(0,r.Z)(a().mark((function e(t,r){var u,c,l,d,f,p,v,h,g,m,y,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.query,l=t.baseUrl,d=t.path,f=null==c?void 0:c.url,p=null==c?void 0:c.appId,v=s(),h=q_(p,f,v),null==i||i.send({project:"supreme",event:"fallback-getResponse",payload:{url:null!=f?f:"",baseUrl:null!=l?l:"",path:null!=d?d:"",cdnUrl:null!=(u=o.get("GET_CONTENT_CACHE_URL"))?u:"",appId:null!=p?p:"",cacheResourse:null!=h?h:""}}),e.prev=6,h){e.next=9;break}throw new Error("invalid request - could not form fallback url");case 9:return g=n.get(H_),e.next=12,g.get(h);case 12:return m=e.sent,y=m.payload,e.abrupt("return",Promise.resolve({headers:{},status:200,payload:y.response}));case 17:throw e.prev=17,e.t0=e.catch(6),null==i||i.send({project:"supreme",event:"failed-fallback-getResponse",payload:{error:(0,Ay.n)(e.t0)?e.t0.message:""+e.t0,url:null!=f?f:"",baseUrl:null!=l?l:"",path:null!=d?d:"",cdnUrl:null!=(b=o.get("GET_CONTENT_CACHE_URL"))?b:"",appId:null!=p?p:"",cacheResourse:null!=h?h:""}}),r;case 21:case"end":return e.stop()}}),e,null,[[6,17]])}))),function(e,n){return t.apply(this,arguments)})}},deps:{di:m.Z,envManager:y.vC,eventea:{token:Sa.Bv,optional:!0},getAppPages:Q_}}),tE=(0,h.Y)({imports:[],providers:[Y_,eE,X_]})(Z_=function(){})||Z_,nE=function(e){return/^https.*active-mapping.json$/.test(e)},rE=[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"HOMER_EXTERNAL_MAPPING_URL",validator:nE},{key:"FRY_EXTERNAL_MAPPING_URL",validator:nE},{key:"INSURANCE_EXTERNAL_MAPPING_URL",validator:nE},{key:"CLAIMS_EXTERNAL_MAPPING_URL",validator:nE},{key:"HUBERT_EXTERNAL_MAPPING_URL",validator:nE},{key:"MYAUTO_EXTERNAL_MAPPING_URL",validator:nE},{key:"HANK_EXTERNAL_MAPPING_URL",validator:nE},{key:"GAMES_IB_EXTERNAL_MAPPING_URL",validator:nE},{key:"SIMBA_EXTERNAL_MAPPING_URL",validator:nE},{key:"PUMBA_EXTERNAL_MAPPING_URL",validator:nE},{key:"TBUNDLE_EXTERNAL_MAPPING_URL",validator:nE},{key:"BONUSES_EXTERNAL_MAPPING_URL",validator:nE},{key:"INVEST_EXTERNAL_MAPPING_URL",validator:nE},{key:"LUCA_EXTERNAL_MAPPING_URL",validator:nE},{key:"CREDIT_EXTERNAL_MAPPING_URL",validator:nE},{key:"GENERAL_IB_EXTERNAL_MAPPING_URL",validator:nE},{key:"LIFESTYLE_EXTERNAL_MAPPING_URL",validator:nE},{key:"LIFESTYLE_FUEL_EXTERNAL_MAPPING_URL",validator:nE},{key:"LIFESTYLE_GROCERY_EXTERNAL_MAPPING_URL",validator:nE},{key:"GTECH_EXTERNAL_MAPPING_URL",validator:nE},{key:"INSURANCE_WEB_TIXA_EXTERNAL_MAPPING_URL",validator:nE},{key:"STITCH_EXTERNAL_MAPPING_URL",validator:nE},{key:"LOANS_EXTERNAL_MAPPING_URL",validator:nE},{key:"LIFESTYLE_SHOPPING_EXTERNAL_MAPPING_URL",validator:nE},{key:"BLACK_EXTERNAL_MAPPING_URL",validator:nE},{key:"GTECH_RESTRICTIONS_EXTERNAL_MAPPING_URL",validator:nE},{key:"FINHEALTH_WEB_MICROBLOCKS_EXTERNAL_MAPPING_URL",validator:nE},{key:"INVEST_PENSION_MICROFRONTENDS_EXTERNAL_MAPPING_URL",validator:nE},{key:"BAF_EXTERNAL_MAPPING_URL",validator:nE},{key:"TRANSFER_TO_REQUEST_EXTERNAL_MAPPING_URL",validator:nE},{key:"LIFESTYLE_AFISHA_EXTERNAL_MAPPING_URL",validator:nE},{key:"TRACKING_EXTERNAL_MAPPING_URL",validator:nE},{key:"NONCLIENTS_WEB_BLOCKS_EXTERNAL_MAPPING_URL",validator:nE},{key:"INSURANCE_WEB_OSAGO_EXTERNAL_MAPPING_URL",validator:nE},{key:"MVNO_IB_EXTERNAL_MAPPING_URL",validator:nE}]}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("HOMER_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("FRY_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("HUBERT_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("MYAUTO_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("HANK_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("GAMES_IB_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("SIMBA_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("PUMBA_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("TBUNDLE_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("BONUSES_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("INSURANCE_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("CLAIMS_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("INVEST_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("LUCA_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("CREDIT_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("GENERAL_IB_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("LIFESTYLE_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("LIFESTYLE_FUEL_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("LIFESTYLE_GROCERY_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("GTECH_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("INSURANCE_WEB_TIXA_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("STITCH_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("LOANS_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("LIFESTYLE_SHOPPING_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("BLACK_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("GTECH_RESTRICTIONS_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("FINHEALTH_WEB_MICROBLOCKS_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("INVEST_PENSION_MICROFRONTENDS_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("BAF_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("TRANSFER_TO_REQUEST_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("LIFESTYLE_AFISHA_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("TRACKING_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("NONCLIENTS_WEB_BLOCKS_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("INSURANCE_WEB_OSAGO_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}}),(0,u.J)({provide:Vh.er,multi:!0,useFactory:function(e){var t=e.envManager;return String(t.get("MVNO_IB_EXTERNAL_MAPPING_URL"))},deps:{envManager:y.vC}})],iE=function(e){switch(e){case Bm.uv.client:case Bm.uv.registered:return!0;default:return!1}},oE=(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.store,n=e.logStateConfig,r=e.localStorageService,i=e.router;return function(){var e=function(){return!!i.getCurrentUrl().query[Cm.yP]};if(!e()){var o=t.getState(il.p);iE(o.accessLevel)?r.setItem(n.localStorageKey,n.loginValue):r.setItem(n.localStorageKey,n.logoutValue),window.addEventListener("storage",(function(r){if(r.key===n.localStorageKey&&!e()){var i=iE(t.getState(il.p).accessLevel);(r.newValue===n.logoutValue&&i||r.newValue===n.loginValue&&!i)&&window.location.reload()}}))}}},deps:{store:b.kR,logStateConfig:ny,localStorageService:Ch.LOCAL_STORAGE_SERVICE_TOKEN,router:Zt.l1}}),aE=(0,h.Y)({providers:[oE]})(K_=function(){})||K_,sE=n(17389),uE=n.n(sE);var cE,lE,dE,fE,pE,vE,hE,gE,mE=(0,h.Y)({providers:[(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useValue:{wrappers:{layout:function(e){return function(t){var n=(0,tr.x)({pubsub:se.k3,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN}),r=n.pubsub,i=n.webview,o=(0,$n.useState)(!1),a=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,o,2),s=a[0],u=a[1];return(0,$n.useEffect)((function(){var e=function(){return u(!1)};window.addEventListener("pageshow",e);var t=r.subscribe("NAVIGATE_WITH_HARD_RELOAD",(function(e){void 0===e&&(e=!0),u(e)}));return function(){window.removeEventListener("pageshow",e),t()}}),[r]),(0,Xn.jsx)("div",{children:s&&!i.isWebView?(0,Xn.jsx)("div",{className:""+uE().crossAppNavigateLoader,children:J_||(J_=(0,Xn.jsx)(Qv.Z,{overlay:!0,semiTransparentBg:!1,fadeAnimation:"false",size:"xxl"}))}):(0,Xn.jsx)(e,Object.assign({},t))})}}}}})]})(cE=function(){})||cE,yE=n(54883),bE=(0,h.Y)({providers:[{provide:"additionalLabelNames",useValue:["accessLevel"],multi:!0},{provide:"getAdditionalLabelValues",useValue:function(e,t){return{accessLevel:t.getHeader("ib_access_level")||"unknown"}},multi:!0}]})(lE=function(){})||lE,_E=n(84011),EE=(0,fe.Vo)({chunkName:function(){return"IosPwaSheet-IosPwaSheet"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("IosPwaSheet-IosPwaSheet").then(n.bind(n,71079))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 71079}}),wE=n(82535),SE=(fE=(0,h.Y)({providers:[(0,u.J)({provide:b.Ym,multi:!0,useValue:_E.A$}),(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useValue:{wrappers:{layout:function(e){return function(t){var n=(0,tr.x)({userAgent:L.N,webview:Ng.MICRO_DI_WEBVIEW_MANAGER,displayMode:Ng.DISPLAY_MODE_TOKEN,layout:ey.Uh,router:Zt.l1,envManager:y.vC}),r=n.userAgent,i=n.webview,o=n.displayMode,a=n.router,s=n.layout,u=n.envManager,c=new URLSearchParams(a.getCurrentUrl().search),l=Boolean(c.get("showPwa")),d="mobile"===s&&!1===i.isWebView&&"ios"===r.mobileOS&&(l||"standalone"!==o)&&"true"===u.get("IOS_PWA_COPY_LINK_ENABLED");return(0,Xn.jsxs)(Xn.Fragment,{children:[(0,Xn.jsx)(e,Object.assign({},t)),d&&(dE||(dE=(0,Xn.jsx)(Hb.S,{fallback:(0,Xn.jsx)(Xn.Fragment,{}),children:(0,Xn.jsx)(EE,{})})))]})}}}}})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,[(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.store,n=e.pageService,r=e.cookieManager,i=e.webview,o=e.router;return function(){var e;if(null==i||!i.isWebView){var a=o.getCurrentUrl().query.showPwa;if("false"!==a){var s=(null!=(e=n.getConfig())?e:{}).showIntervalPwa,u=Eh(s),c=Number(r.get(wE.k4)||0),l=(new Date).getTime();("true"===a||u&&l-c>=u)&&t.dispatch((0,_E.gu)())}}}},deps:{store:b.kR,pageService:Zt.Y9,cookieManager:k.T,webview:{optional:!0,token:kh.o3},router:Zt.l1}})]))}),fE(pE=function(){})||pE),TE=(0,h.Y)({imports:[cd],providers:[(0,u.J)({provide:sd,useValue:"auto"})]})(vE=function(){})||vE;function AE(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return OE(t,void 0!==n&&n<r?n:r)}return e(t,n)}function kE(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return OE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OE(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function OE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CE,RE,IE,NE,ME,xE,PE,LE,DE=(hE=(0,h.Y)({providers:[(0,u.J)({provide:Zt.sU,multi:!0,useFactory:function(e){var t=e.authenticateDeferred,n=e.store,i=e.eventea,o=e.isContextAuthPage;return function(){var e=(0,r.Z)(a().mark((function e(r){var s,u,c,l,d,f,p,v,h,g,m,y,b,_,E;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.from,u=r.to,!s||!o(null==u?void 0:u.path)){e.next=3;break}return e.abrupt("return",new Promise((function(e){setTimeout((function(){return e(!1)}),4500)})));case 3:if(null!=u&&u.config){e.next=5;break}return e.abrupt("return",void 0);case 5:if((c=Object.keys(u.config).filter((function(e){return Boolean(e.split(".")[1])}))).length){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.next=10,t.promise;case 10:if(l=n.getState(il.p),d=l.accessLevel,f=c.map((function(e){return e.split(".")})).filter((function(e){return e[1]===d})).sort((function(e,t){return t.length-e.length})),f.length){e.next=14;break}return e.abrupt("return",void 0);case 14:p=n.getState(ph.ST).role.mode,v=kE(f,!0);case 16:if((h=v()).done){e.next=26;break}if(g=AE(pe.Z,h.value,3),m=g[0],y=g[1],!(b=g[2])||b===p){e.next=20;break}return e.abrupt("continue",24);case 20:return _=b&&b===p?[m,y,b].join("."):[m,y].join("."),E=u.config[_],null==i||i.send({project:"supreme",event:"customRedirectNavigate",payload:{predicate:_,target:E}}),e.abrupt("return",E);case 24:e.next=16;break;case 26:return null==i||i.send({project:"supreme",event:"customRedirectFail",payload:{accessLevel:d,mode:p,matchedRedirects:f.map((function(e){return e.join(".")})),pageConfig:Object.keys(u.config).map((function(e){return e+"="+u.config[e]}))}}),e.abrupt("return",void 0);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{store:b.kR,eventea:{token:Sa.Bv,optional:!0},authenticateDeferred:"authenticateDeferred",isContextAuthPage:Ch.IS_CONTEXT_AUTH_PAGE_TOKEN}}),(0,u.J)({provide:Zt.sU,multi:!0,useFactory:function(e){var t=e.authenticateDeferred,n=e.store,i=e.isContextAuthPage,o=e.isPwa,s=e.contextAuthRedirectUrl,u=e.router,c=e.eventea,l=e.cookieManager,d=e.renderMode,f=e.installType,p=e.isIframeAuthOnPwa;return function(){var e=(0,r.Z)(a().mark((function e(r){var v,h,g,m,y,b,_,E;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=r.from,h=r.to,e.next=3,t.promise;case 3:return g="/mybank/new-pwa/"===(null==h?void 0:h.path),m=n.getState(il.p),y=m.accessLevel,!o()||y!==Bm.uv.anonymous||i(null==h?void 0:h.path)||i(null==v?void 0:v.path)||g||(b=u.getCurrentUrl(),_=b.path,E=s(_),null==c||c.sendOnce({project:"supreme",event:"redirect-to-login",payload:{renderMode:d,accessLevel:y,installType:f,isIframeAuthOnPwa:p()}}),l.set({name:"redirectToLogin",value:"true",expires:600}),fy(E)),e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{store:b.kR,eventea:{token:Sa.Bv,optional:!0},authenticateDeferred:"authenticateDeferred",isContextAuthPage:Ch.IS_CONTEXT_AUTH_PAGE_TOKEN,isPwa:Oh.Im,contextAuthRedirectUrl:Ch.CONTEXT_AUTH_REDIRECT_URL_TOKEN,router:Zt.l1,installType:bd.h,cookieManager:k.T,isIframeAuthOnPwa:Oh.Rk,renderMode:tb}})]}),hE(gE=function(){})||gE),jE=function(e){e.remove({id:ME}),ME=void 0,e.remove({id:xE}),xE=void 0,e.remove({id:PE}),PE=void 0,clearTimeout(IE),clearTimeout(NE)},BE=(CE=(0,h.Y)({providers:[(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.router,n=e.eventea,i=e.notifier,o=e.webview;return function(){var e;o.isWebView||(t.registerHook("beforeResolve",function(){var o=(0,r.Z)(a().mark((function r(o){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:jE(i),e=void 0,6e4,IE=setTimeout((function(){var e,t,r,a;ME=i.add({children:"Страница загружается дольше, чем обычно. Пожалуйста, подождите",title:"Открываем страницу",type:"warning",timer:!1,showClose:!1}),null==n||n.send({project:"supreme",event:"slow-spa-navigation-warning",payload:{from:null!=(e=null==(t=o.from)?void 0:t.actualPath)?e:"",to:null!=(r=null==(a=o.url)?void 0:a.path)?r:""}})}),15e3),NE=setTimeout((function(){var r,a,s,u;i.remove({id:ME}),e=t.cancel(),xE=i.add({children:"Мы уже знаем о проблеме и чиним сервис. Попробуйте войти снова позже",title:"Не получается открыть страницу",type:"error",timer:!1,showClose:!1}),null==n||n.send({project:"supreme",event:"slow-spa-navigation-error",payload:{from:null!=(r=null==(a=o.from)?void 0:a.actualPath)?r:"",to:null!=(s=null==(u=o.url)?void 0:u.path)?s:""}})}),6e4);case 5:case"end":return r.stop()}}),r)})));return function(e){return o.apply(this,arguments)}}()),t.registerHook("afterNavigate",function(){var o=(0,r.Z)(a().mark((function r(o){var s,u,c,l,d;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o.skipped||jE(i),o.skipped&&(null==(s=e)?void 0:s.key)===o.key&&(jE(i),PE=i.add({text:"Мы загрузили страницу. Хотите перейти?",actionText:"Перейти!",onActionConfirm:function(){return t.navigate(e.url.href)},timer:!1}),null==n||n.send({project:"supreme",event:"slow-spa-navigation-completed",payload:{from:null!=(u=null==(c=o.from)?void 0:c.actualPath)?u:"",to:null!=(l=null==(d=o.url)?void 0:d.path)?l:""}}));case 2:case"end":return r.stop()}}),r)})));return function(e){return o.apply(this,arguments)}}()))}},deps:{router:Zt.l1,notifier:Kf.e,eventea:{token:Sa.Bv,optional:!0},webview:Ng.MICRO_DI_WEBVIEW_MANAGER}})]}),CE(RE=function(){})||RE);function UE(){var e;null==(e=window)||e.performance.mark("page-open")}var FE,VE,WE=(0,h.Y)({providers:[(0,u.J)({provide:Wn.RENDER_SLOTS,multi:!0,useFactory:function(){return{slot:Fb.HEAD_PERFORMANCE,type:Hr.LO.inlineScript,payload:"("+UE+")()"}}})]})(LE=function(){})||LE,qE=n(42061),HE=(0,Y.V3)("CSP_DATA_TOKEN"),GE=(0,u.J)({provide:HE,useFactory:function(e){var t=e.envManager;return"prod"===t.clientUsed().CSP_STAND_TYPE?function(e){return{"report-uri":["%FRONT_LOG_API%csp-error?appName=supreme"],"default-src":["'self'","data:","blob:","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.tbank.ru","*.tcsbank.ru","*.tbank-online.com","*.cdn-tbank-online.com"],"style-src":["'unsafe-inline'","'self'","blob:","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.tbank.ru","*.tcsbank.ru","*.tbank-online.com","*.cdn-tbank-online.com"],"img-src":"true"===e.get("FF_CSP_LAX_IMAGE_SOURCE")?["*","data:"]:["'self'","blob:","data:","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.tbank.ru","*.tcsbank.ru","*.tinsurance.ru","*.tinkoffinsurance.ru","core-renderer-tiles.maps.yandex.net","*.tbank-online.com","*.cdn-tbank-online.com"],"script-src":["'self'","'unsafe-eval'","'unsafe-inline'","blob:","data:","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.tbank.ru","*.tcsbank.ru","api-maps.yandex.ru","enterprise.api-maps.yandex.ru","yastatic.net","*.tbank-online.com","*.cdn-tbank-online.com"],"frame-src":["'self'","blob:","data:","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.tbank.ru","*.tcsbank.ru","*.tinsurance.ru","*.tinkoffinsurance.ru","https:","*.tbank-online.com","*.cdn-tbank-online.com"],"connect-src":["'self'","data:","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.tbank.ru","*.tcsbank.ru","*.tinsurance.ru","*.tinkoffinsurance.ru","yandex.ru","api-maps.yandex.ru","geocode-maps.yandex.ru","core-renderer-tiles.maps.yandex.net","*.tbank-online.com","*.cdn-tbank-online.com"]}}(t):function(e){return{"report-uri":["%FRONT_LOG_API%csp-error?appName=supreme"],"default-src":["'self'","data:","blob:","http://localhost:*","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.dev-tcsgroup.io","*.tcsbank.ru","*.tbank.ru","*.online-tb.com","*.tnkf.app","*.tbank-online.com","*.cdn-tbank-online.com"],"style-src":["'unsafe-inline'","'self'","blob:","http://localhost:*","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.dev-tcsgroup.io","*.tcsbank.ru","*.tbank.ru","*.online-tb.com","*.tnkf.app","*.tbank-online.com","*.cdn-tbank-online.com"],"img-src":"true"===e.get("FF_CSP_LAX_IMAGE_SOURCE")?["*","data:"]:["'self'","blob:","data:","http://localhost:*","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.dev-tcsgroup.io","*.tcsbank.ru","*.tinsurance.ru","*.tinkoffinsurance.ru","*.tbank.ru","*.online-tb.com","*.tnkf.app","core-renderer-tiles.maps.yandex.net","*.tbank-online.com","*.cdn-tbank-online.com"],"script-src":["'self'","'unsafe-eval'","'unsafe-inline'","blob:","data:","http://localhost:*","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.dev-tcsgroup.io","*.tcsbank.ru","*.tbank.ru","*.online-tb.com","*.tnkf.app","api-maps.yandex.ru","enterprise.api-maps.yandex.ru","yastatic.net","*.tbank-online.com","*.cdn-tbank-online.com"],"frame-src":["'self'","blob:","data:","http://localhost:*","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.dev-tcsgroup.io","*.tcsbank.ru","*.tinsurance.ru","*.tinkoffinsurance.ru","*.tbank.ru","*.online-tb.com","*.tnkf.app","https:","*.tbank-online.com","*.cdn-tbank-online.com"],"connect-src":["'self'","data:","http://localhost:*","*.cdn-tinkoff.ru","*.t-static.ru","*.tinkoff.ru","*.dev-tcsgroup.io","*.tcsbank.ru","*.tinsurance.ru","*.tinkoffinsurance.ru","*.tbank.ru","*.online-tb.com","*.tnkf.app","yandex.ru","api-maps.yandex.ru","core-renderer-tiles.maps.yandex.net","geocode-maps.yandex.ru","*.tbank-online.com","*.cdn-tbank-online.com"]}}(t)},deps:{envManager:y.vC}});function ZE(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return KE(t,void 0!==n&&n<r?n:r)}return e(t,n)}function KE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JE,zE=(FE=(0,h.Y)({providers:[GE,(0,u.J)({provide:c.Bi.resolvePageDeps,useFactory:function(e){var t=e.renderMode,n=e.cspData;return function(){if("csr"===t){for(var e,r=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return KE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KE(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(Object.entries(n).filter((function(e){var t=ZE(pe.Z,e,2),n=t[0];return t[1],"report-uri"!==n})),!0);!(e=i()).done;){var o=ZE(pe.Z,e.value,2),a=o[0],s=o[1];r.push(a+" "+s.join(" ").trim())}var u=document.createElement("meta");u.httpEquiv="Content-Security-Policy",u.content=""+r.join("; "),document.head.prepend(u)}}},deps:{cspData:HE,renderMode:tb},multi:!0})]}),FE(VE=function(){})||VE),YE=n(73295),QE=n.n(YE),XE="TOGGLE_PAGE_LOAD_SPINNER";var $E,ew,tw,nw=(0,h.Y)({providers:[(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useValue:{wrappers:{layout:function(e){return function(t){var n=(0,tr.x)({pubsub:se.k3}).pubsub,r=(0,$n.useState)(!1),i=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,r,2),o=i[0],a=i[1];return(0,$n.useEffect)((function(){var e=n.subscribe(XE,(function(e){void 0===e&&(e=!0),a(e)}));return function(){e()}}),[n]),(0,Xn.jsxs)("div",{children:[o&&(0,Xn.jsx)("div",{className:""+QE().visibilityChangeLoader,children:JE||(JE=(0,Xn.jsx)(Qv.Z,{overlay:!0,semiTransparentBg:!1,fadeAnimation:"false",size:"xxl"}))}),(0,Xn.jsx)(e,Object.assign({},t))]})}}}}})]})($E=function(){})||$E,rw=n(53175),iw=n.n(rw),ow=(0,Y.V3)("WEBVIEW_NAVIGATE_DEEPLINK_PREFIXES"),aw=(0,Y.V3)("WEBVIEW_SESSION_PINGER"),sw=(0,Y.V3)("ON_SESSION_CHANGE_TO_ANONYMOUS",{multi:!0}),uw=(0,Y.V3)("ON_SESSION_CHANGE_TO_AUTHORIZED",{multi:!0}),cw=(0,Y.V3)("SESSION_REAUTH_STRATEGY",{multi:!0}),lw=[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"PAGE_HIDDEN_DURATION_THRESHOLD",validator:fd,optional:!1}]})],dw=(ew=(0,h.Y)({providers:[].concat(lw,[(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.logoutUrl,n=e.eventea,i=e.authenticateDeferred,o=e.pubsub,s=e.sessionManager,u=e.store,c=e.webview,l=e.pageService,d=e.envManager,f=e.webviewSessionPinger,p=iw()(6e4,(function(){var e=s.getSessionId();e&&!f.isEnabled&&s.prolongateSession(e).catch((function(){}))}));return function(){var e=Number(d.get("PAGE_HIDDEN_DURATION_THRESHOLD")),f=null,v=function(){var d=(0,r.Z)(a().mark((function r(){var d,h,g,m,y;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(d="visible"===document.visibilityState&&f?Date.now()-f:null,f="hidden"===document.visibilityState?Date.now():null,h=l.getConfig(),g=h.notSendAuthenticateEnd,null==c||!c.isWebView||!g){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,i.promise;case 7:if(u.getState(il.p).accessLevel!==Bm.uv.anonymous){r.next=10;break}return r.abrupt("return");case 10:if("hidden"!==document.visibilityState){r.next=13;break}return p(),r.abrupt("return");case 13:return m=s.getSessionId()||"",(y=!d||d>e)&&(null==o||o.publish(XE)),r.abrupt("return",s.updateSessionStatus(m).then((function(e){var r=e.accessLevel!==Bm.uv.anonymous;d&&n.send({project:"supreme",event:"loaderShownOnVisibilityChange",payload:{isLoaderShown:y,isAuthorized:r,pageHiddenDuration:d}}),r||(n.send({project:"supreme",event:"redirectOnAuthExpiryVisibilityChange",payload:{url:t()}}),document.removeEventListener("visibilitychange",v))})).finally((function(){y&&(null==o||o.publish(XE,!1))})));case 17:case"end":return r.stop()}}),r)})));return function(){return d.apply(this,arguments)}}(),h=!1;o.subscribe(jl.qD,(function(e){var t=e.session;!h&&t&&t.accessLevel!==Bm.uv.anonymous&&(document.addEventListener("visibilitychange",v),h=!0)}))}},deps:{logoutUrl:Rc.hM,eventea:Sa.Bv,pubsub:se.k3,sessionManager:Rc.db,store:b.kR,authenticateDeferred:"authenticateDeferred",webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN,pageService:Zt.Y9,envManager:y.vC,webviewSessionPinger:aw}})])}),ew(tw=function(){})||tw);var fw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.slice(0,-1);r.reverse();var i=t.slice(-1)[0];return r.reduce((function(e,t){return t(e)}),i)},pw=function(e){return function(t){return function(n,r){return t(n[e],r+"."+String(e))}}},vw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return"object"!=typeof e?[n+" should be an object, but is a "+typeof e]:null===e?[n+" should be an object, but is a null"]:t.reduce((function(t,r){return t.push.apply(t,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,r(e,n))),t}),[])}},hw=function(e,t){return"string"!=typeof e?[t+" is not a string"]:[]};function gw(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var mw,yw=vw(fw(pw("MD"),hw),fw(pw("PaRes"),hw)),bw=vw(fw(pw("cres"),hw)),_w=(0,u.J)({provide:by,useFactory:function(e){var t=e.envManager,n=e.eventea,r=!1,o=null;return function(){return r||(o=function(){var e;if("true"!==t.get("FF_PAYMENTS_3DS_POST"))return null;n.send({project:"supreme",event:"post-body-requested",payload:{implementation:"get3dsParams"}});var r,o,a=null==(e=document.getElementById("__POST_BODY__"))?void 0:e.textContent;if(!a)return n.send({project:"supreme",event:"post-body-invalid",payload:{implementation:"get3dsParams",isEmpty:!0}}),null;try{r=JSON.parse(a)}catch(e){return n.send({project:"supreme",event:"post-body-invalid",payload:{implementation:"get3dsParams",isEmpty:!1,validationErrors:["failed to parse json body from script due to: "+(o=e,o.message?o.message:"string"==typeof o?o:"unknown error")]}}),null}var s=function(e){if(null==e||"object"==typeof e&&!Object.keys(e).length)return{type:"emtpy"};var t=yw(e,"arg");if(!t.length)return{type:"valid",result:{type:"3dsv1",payload:e}};var n=bw(e,"arg");return n.length?{type:"invalid",errors:[].concat(gw(i.Z,t),gw(i.Z,n))}:{type:"valid",result:{type:"3dsv2",payload:e}}}(r);return"emtpy"===s.type?(n.send({project:"supreme",event:"post-body-invalid",payload:{implementation:"get3dsParams",isEmpty:!0}}),null):"invalid"===s.type?(n.send({project:"supreme",event:"post-body-invalid",payload:{implementation:"get3dsParams",isEmpty:!1,validationErrors:s.errors}}),null):s.result}(),r=!0),o}},deps:{envManager:y.vC,eventea:Sa.Bv}}),Ew=(0,u.J)({provide:Wn.RENDER_SLOTS,multi:!0,useValue:[]}),ww=(0,h.Y)({providers:[_w,Ew]})(mw=function(){})||mw,Sw=(n(16810),n(46636));function Tw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Aw=new RegExp(/&?passedParams=?([^&]*)/),kw=function(e,t){var n,r=e.trim(),i=null==(n=r.match(Aw))?void 0:n[1];if(!i)return r;for(var o,a=r.replace(Aw,""),s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Tw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tw(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i.split(","),!0);!(o=s()).done;){var u=o.value;t[u]&&("?"!==a[a.length-1]&&(a+="&"),a+=u+"="+t[u])}return a.replace(/\?$/,"")},Ow="authError",Cw="authPrepareError",Rw=function(e,t){var n=e.session,r=e.currentSession;switch(!0){case void 0===r.accessLevel&&n.accessLevel===Bm.uv.anonymous&&t:return"intermediate linkauth anonymous";case(void 0===r.accessLevel||r.accessLevel!==Bm.uv.anonymous)&&n.accessLevel===Bm.uv.anonymous:return"anonymous";case(void 0===r.accessLevel||r.accessLevel===Bm.uv.anonymous)&&n.accessLevel!==Bm.uv.anonymous:return"authorized";default:return null}};function Iw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nw(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mw,xw,Pw=function(e){switch(e){case"ANONYMOUS":case"APPLICANT":case"AUTHENTICATED":case"CANDIDATE":case"CLIENT":case"EMPLOYEE":case"REGISTERED":return e;default:return"undefined"}},Lw=function(e){return"string"==typeof e.message?e.message:"string"==typeof e?e:"unknown error"},Dw=(0,u.J)({provide:c.Bi.customerStart,useFactory:function(e){var t=e.pubsub,n=e.webviewInitParams,i=e.onAnonymous,o=e.onAuthorized,s=e.reauthStrategies,u=e.oldWebviewUrls,c=e.eventea;return function(){var e=!(null==n||!n.isWebView);if(e){var l=e&&u.some((function(e){var t;return e===(null==(t=window)||null==(t=t.location)?void 0:t.pathname)})),d=null!=s?s:[],f=function(){var t=(0,r.Z)(a().mark((function t(){var n,r,i,o,u,f,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.length){t.next=2;break}return t.abrupt("return",!1);case 2:n=Date.now(),null==c||c.send({project:"supreme",event:"reauthentication.start",payload:{isWebView:e,isOldWebView:l}}),r=Iw(null!=s?s:[],!0);case 5:if((i=r()).done){t.next=19;break}return o=i.value,u=Date.now(),a=o.name,f="IframeStrategy"===a?a:"unknown",null==c||c.send({project:"supreme",event:"reauthentication.strategyStart",payload:{strategyName:f,isWebView:e,isOldWebView:l}}),t.next=12,o.reauth().catch((function(){return!1}));case 12:if(p=t.sent,null==c||c.send({project:"supreme",event:"reauthentication.strategyEnd",payload:{strategyName:f,duration:Date.now()-u,isSuccessful:p,isWebView:e,isOldWebView:l}}),!p){t.next=17;break}return null==c||c.send({project:"supreme",event:"reauthentication.end",payload:{duration:Date.now()-n,isSuccessful:!0,isWebView:e,isOldWebView:l}}),t.abrupt("return",!0);case 17:t.next=5;break;case 19:return null==c||c.send({project:"supreme",event:"reauthentication.end",payload:{duration:Date.now()-n,isSuccessful:!1,isWebView:e,isOldWebView:l}}),t.abrupt("return",!1);case 21:case"end":return t.stop()}var a}),t)})));return function(){return t.apply(this,arguments)}}();t.subscribe(jl.qD,function(){var t=(0,r.Z)(a().mark((function t(n){var r,s,u,d,p,v,h,g,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=window.location.search,r=a?a.replace("?","").split("&").reduce((function(e,t){var n=t.split("="),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return Nw(t,2<r?2:r)}return e(t,2)}(pe.Z,n),i=r[0],o=r[1];return i&&o&&(e[i]=o),e}),{}):{},s=!!r[Cm.yP],u=Rw(n,s),n.currentSession.accessLevel!==n.session.accessLevel&&(null==c||c.send({project:"supreme",event:"webview.accessLevelChanged",payload:{oldAccessLevel:Pw(n.currentSession.accessLevel),newAccessLevel:Pw(n.session.accessLevel),authType:s?"LINK_AUTH":"SSO_LIKE"}})),t.t0=u,t.next=null===t.t0||"intermediate linkauth anonymous"===t.t0?7:"anonymous"===t.t0?8:"authorized"===t.t0?21:29;break;case 7:return t.abrupt("break",29);case 8:return t.next=10,f();case 10:if(!t.sent){t.next=13;break}return t.abrupt("break",29);case 13:d=Iw(null!=i?i:[],!0);case 14:if((p=d()).done){t.next=20;break}return v=p.value,t.next=18,v().catch((function(t){null==c||c.send({project:"supreme",event:"sessionTracker.onChangedToUnauthorizedError",payload:{reason:Lw(t),isWebView:e,isOldWebView:l}})}));case 18:t.next=14;break;case 20:return t.abrupt("break",29);case 21:h=Iw(null!=o?o:[],!0);case 22:if((g=h()).done){t.next=28;break}return m=g.value,t.next=26,m().catch((function(t){null==c||c.send({project:"supreme",event:"sessionTracker.onChangedToAuthorizedError",payload:{reason:Lw(t),isWebView:e,isOldWebView:l}})}));case 26:t.next=22;break;case 28:return t.abrupt("break",29);case 29:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}())}}},deps:{pubsub:se.k3,webviewInitParams:Hy.WEBVIEW_INIT_PARAMS_TOKEN,envManager:y.vC,oldWebviewUrls:Ch.OLD_WEBVIEW_URLS_TOKEN,onAnonymous:{token:sw,optional:!0},onAuthorized:{token:uw,optional:!0},reauthStrategies:{token:cw,optional:!0},eventea:{token:Sa.Bv,optional:!0}}}),jw=(0,u.J)({provide:sw,useFactory:function(e){var t=e.webview,n=e.router,i=e.webviewDebugUrl;return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.getCurrentUrl().pathname!==i){e.next=2;break}return e.abrupt("return");case 2:null==t||t.sendEndAuthenticate();case 3:case"end":return e.stop()}}),e)})))},deps:{webviewDebugUrl:Ch.WEBVIEW_DEBUG_URL_TOKEN,router:Zt.l1,webview:{token:Hy.WEBVIEW_MANAGER_TOKEN,optional:!0}}}),Bw=function(){function e(e){this.sessionManager=void 0,this.lastTimeout=null,this.sessionManager=e.sessionManager}var t=e.prototype;return t.start=function(){null===this.lastTimeout&&(this.lastTimeout=window.setTimeout(this.onTimerEnd.bind(this),3e4))},t.stop=function(){null!==this.lastTimeout&&(window.clearTimeout(this.lastTimeout),this.lastTimeout=null)},t.onTimerEnd=function(){var e=this.sessionManager.getSessionId();e?(this.sessionManager.prolongateSession(e).catch((function(e){})),this.lastTimeout=window.setTimeout(this.onTimerEnd.bind(this),3e4)):this.stop()},(0,Pl.Z)(e,[{key:"isEnabled",get:function(){return null!==this.lastTimeout}}]),e}(),Uw=(0,u.J)({provide:aw,useClass:Bw,deps:{sessionManager:Rc.db}}),Fw=(0,u.J)({provide:uw,useFactory:function(e){var t=e.sessionPinger,n=e.webviewInit,i=e.envManager;return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isWebView&&"true"===i.get("FF_WEBVIEW_CONTINOUS_SESSION_PING")){e.next=2;break}return e.abrupt("return");case 2:t.start();case 3:case"end":return e.stop()}}),e)})))},deps:{sessionPinger:aw,webviewInit:Hy.WEBVIEW_INIT_PARAMS_TOKEN,envManager:y.vC}}),Vw=(0,u.J)({provide:sw,useFactory:function(e){var t=e.sessionPinger,n=e.webviewInit,i=e.envManager;return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isWebView&&"true"===i.get("FF_WEBVIEW_CONTINOUS_SESSION_PING")){e.next=2;break}return e.abrupt("return");case 2:t.stop();case 3:case"end":return e.stop()}}),e)})))},deps:{sessionPinger:aw,webviewInit:Hy.WEBVIEW_INIT_PARAMS_TOKEN,envManager:y.vC}}),Ww=[Uw,Fw,Vw],qw="ReauthError",Hw=function(e){function t(n,r){var i;return(i=e.call(this,"Failed to reauthorize via hidden iframe")||this).reason=n,i.code=r,Object.setPrototypeOf((0,bt.Z)(i),t.prototype),Error.captureStackTrace((0,bt.Z)(i),i.constructor),i}return(0,_t.Z)(t,e),(0,Pl.Z)(t,[{key:"errorType",get:function(){return qw}}]),t}((0,Nt.Z)(Error)),Gw=function(e){function t(t){var n;return(n=e.call(this)||this).envManager=void 0,n.apiAuthMethod=void 0,n.envManager=t.envManager,n.apiAuthMethod=t.apiAuthMethod,n}(0,_t.Z)(t,e);var n=t.prototype;return n.getIframeUrl=function(){var e,t=null!=(e=this.envManager.get("SSO_AUTH_TINKOFF_API"))?e:this.getDefinedEnvVariable("TINKOFF_API");return(0,st.DI)(""+t+this.apiAuthMethod,{origin:"web,ib5,platform",prompt:"none"}).toString()},n.messageEventPredicate=function(e){if(!e.data)return!1;var t=e.data;return"string"==typeof t.messageCode&&("authComplete"===t.messageCode||t.messageCode===Ow||t.messageCode===Cw)},n.messageEventHandler=function(e,t,n){if(e.data.messageCode!==Ow)if(e.data.messageCode!==Cw){var r=e.data,i=r.sessionId,o=r.accessLevel;i?o?t({accessLevel:o,sessionId:i}):n(new Hw("auth api returned no accessLevel","noAccessLevel")):n(new Hw("auth api returned no sessionId","noSessionId"))}else n(new Hw("auth api returned error code "+e.data.messageCode,"errorCodeAuthPrepareError"));else n(new Hw("auth api returned error code "+e.data.messageCode,"errorCodeAuthError"))},n.getTimeout=function(){return 1e4},n.getFrameIdPrefix=function(){return"webview-reauth"},n.onReject=function(e,t){},n.onTimeout=function(){},n.getDefinedEnvVariable=function(e){var t=this.envManager.get(e);if(!t)throw new Error(e+" environment varible is not defined");return t},t}(function(){function e(){var e=this;this.resolve=void 0,this.reject=void 0,this.promise=void 0,this.frame=null,this.timeout=null,this.active=!1,this.fulfilled=!1,this.disposed=!1,this.startTime=null,this.iframeId=null,this.onInit=this.onInit.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.onTimeout=this.onTimeout.bind(this),this.onCleanup=this.onCleanup.bind(this),this.getIframeUrl=this.getIframeUrl.bind(this),this.messageEventPredicate=this.messageEventPredicate.bind(this),this.messageEventHandler=this.messageEventHandler.bind(this),this.messageEventHandler=this.messageEventHandler.bind(this),this.getTimeout=this.getTimeout.bind(this),this.getFrameIdPrefix=this.getFrameIdPrefix.bind(this),this.generateIframeId=this.generateIframeId.bind(this),this.getIframeId=this.getIframeId.bind(this),this.fulfillInternal=this.fulfillInternal.bind(this),this.resolveInternal=this.resolveInternal.bind(this),this.rejectInternal=this.rejectInternal.bind(this),this.messageHandler=this.messageHandler.bind(this),this.cleanup=this.cleanup.bind(this),this.init=this.init.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}var t=e.prototype;return t.run=function(){return this.active||this.fulfilled||this.init(),this.promise},t.cancel=function(){this.rejectInternal(new Error("cancelled"))},t.getIframeId=function(){return this.iframeId},t.onInit=function(){},t.onResolve=function(e,t){},t.onReject=function(e,t){},t.onTimeout=function(){},t.onCleanup=function(){},t.getTimeout=function(){return 0},t.getFrameIdPrefix=function(){return"frame"},t.generateIframeId=function(){for(var e=this.getFrameIdPrefix(),t=0,n=e+"-"+t;window.frames[n];)n=e+"-"+(t+=1);return n},t.init=function(){var e,t=this;this.onInit();try{e=this.getIframeUrl()}catch(e){return void this.rejectInternal(e)}window.addEventListener("message",this.messageHandler),this.iframeId=this.generateIframeId(),this.frame=document.createElement("iframe"),this.frame.style.width="0px",this.frame.style.height="0px",this.frame.style.position="absolute",this.frame.style.left="-4000px",this.frame.src=e.toString(),this.frame.id=this.iframeId,document.body.appendChild(this.frame),this.active=!0,this.startTime=Date.now(),this.getTimeout()>0&&(this.timeout=window.setTimeout((function(){t.onTimeout(),t.reject(new Error("iframe timed out")),t.cleanup()}),this.getTimeout()))},t.fulfillInternal=function(){this.fulfilled=!0,this.cleanup()},t.resolveInternal=function(e){this.fulfilled||(this.onResolve(e,this.startTime?Date.now()-this.startTime:-1),this.fulfillInternal(),this.resolve(e))},t.rejectInternal=function(e){this.fulfilled||(this.onReject(e,this.startTime?Date.now()-this.startTime:-1),this.fulfillInternal(),this.reject(e))},t.messageHandler=function(e){this.active&&!this.fulfilled?this.messageEventPredicate(e)&&this.messageEventHandler(e,this.resolveInternal,this.rejectInternal):this.cleanup()},t.cleanup=function(){!this.disposed&&this.active&&(this.onCleanup(),this.active=!1,window.removeEventListener("message",this.messageHandler),this.timeout&&window.clearTimeout(this.timeout),this.frame&&document.body.removeChild(this.frame),this.iframeId=null,this.disposed=!0)},e}()),Zw=function(){function e(e){this.apiAuthMethod=void 0,this.envManager=void 0,this.sessionManager=void 0,this.webview=void 0,this.oldWebviewUrls=void 0,this.eventea=void 0,this.apiAuthMethod=e.apiAuthMethod,this.envManager=e.envManager,this.sessionManager=e.sessionManager,this.webview=e.webview,this.oldWebviewUrls=e.oldWebviewUrls,this.eventea=e.eventea,this.reauth=this.reauth.bind(this)}return e.prototype.reauth=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"===this.envManager.get("FF_WEBVIEW_REAUTHORIZE")){e.next=2;break}return e.abrupt("return",!1);case 2:return n=!(null==(t=this.webview)||!t.isWebView),r=n&&this.oldWebviewUrls.some((function(e){var t;return e===(null==(t=window)||null==(t=t.location)?void 0:t.pathname)})),i=new Gw({apiAuthMethod:this.apiAuthMethod,envManager:this.envManager}),e.prev=5,e.next=8,i.run();case 8:if((o=e.sent).accessLevel!==Bm.uv.anonymous){e.next=12;break}return null==(s=this.eventea)||s.send({project:"supreme",event:"reauthentication.iframeFail",payload:{reason:"noAccessLevel",isWebView:n,isOldWebView:r}}),e.abrupt("return",!1);case 12:return this.sessionManager.updateSessionStatus(o.sessionId).catch((function(){})),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(5),a=e.t0,c=(null==a?void 0:a.errorType)===qw?e.t0.code:"unknown",null==(u=this.eventea)||u.send({project:"supreme",event:"reauthentication.iframeFail",payload:{reason:c,isWebView:n,isOldWebView:r}}),e.abrupt("return",!1);case 21:case"end":return e.stop()}var a}),e,this,[[5,16]])})));return function(){return e.apply(this,arguments)}}(),(0,Pl.Z)(e,[{key:"name",get:function(){return"IframeStrategy"}}]),e}(),Kw=(0,u.J)({provide:cw,useClass:Zw,deps:{apiAuthMethod:Rc.uJ,envManager:y.vC,sessionManager:Rc.db,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN,oldWebviewUrls:Ch.OLD_WEBVIEW_URLS_TOKEN,eventea:{token:Sa.Bv,optional:!0}}});function Jw(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var zw=(Mw=(0,h.Y)({providers:[].concat(Jw(i.Z,[(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.webview,n=e.envManager,r=e.webviewManager,i=e.logger;return function(){if(!r){var e=null==i?void 0:i("SupremeWebview");null==e||e.error("token MICRO_DI_WEBVIEW_MANAGER does not exist in DI on client!")}var o,a;null!=t&&t.isWebView&&"true"===n.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")&&(null==(o=document.querySelector("html"))||o.setAttribute("is-webview","true"),null!=r&&r.isCurtainOverlay()&&(null==(a=document.querySelector("html"))||null==(a=a.classList)||a.add("is-curtain-overlay")))}},deps:{webview:{optional:!0,token:kh.o3},envManager:y.vC,webviewManager:{optional:!0,token:Ng.MICRO_DI_WEBVIEW_MANAGER},logger:{optional:!0,token:Q.Fp}}}),(0,u.J)({provide:Zm.$5,useFactory:function(e){var t=e.webview;return function(e){return!(null==t||!t.isWebView||(null==t||t.sendPostMessageToMobile({type:Om.WebViewMessageType.error,value:{title:e.options.title||e.options.reason,subtitle:e.options.subTitle||e.options.initiator}}),0))}},deps:{webview:{optional:!0,token:kh.o3}}}),(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.eventea,n=e.webview,i=e.pubsub,o=e.envManager,s=e.statistApiClient,u=e.store,c=e.oldWebviewUrl,l=e.cookieManager;return function(){var e=Boolean(null==n?void 0:n.isWebView),d=e&&c.some((function(e){var t;return e===(null==(t=window)||null==(t=t.location)?void 0:t.pathname)}));if(null==t||t.data({project:"supreme",payload:{isWebView:e,isOldWebView:d}}),null==t||t.data({project:"application-health",payload:{isWebView:e}}),null==t||t.data({project:"pwa",payload:{isWebView:e}}),e){var f=Number(o.get("FF_SSO_WEBVIEW_WAIT_TIME"))||2500;document.addEventListener("beforePageLoad",function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.__twt_isActive){e.next=2;break}return e.abrupt("return");case 2:t.detail.waitFor(new Promise((function(e){var t=setTimeout(e,f);window.tracking.waitFor("ssoId").then((function(){var e,t=l.get("sso_user_id")||(null==(e=window)?void 0:e.__ssoId__)||u.getState(il.p).ssoId;s.updateClientParameters({ssoId:t})})).then(e).then((function(){clearTimeout(t)})).catch(console.error)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.subscribe(gp,(function(){n.sendPostMessageToMobile({type:Om.WebViewMessageType.error,value:{title:"Что-то пошло не так",subtitle:"Не смогли открыть страницу. Попробуйте повторить или возвращайтесь чуть позже"}})}))}}},deps:{eventea:{token:Sa.Bv,optional:!0},webview:kh.o3,pubsub:se.k3,envManager:y.vC,statistApiClient:sv.E,store:b.kR,oldWebviewUrl:Ch.OLD_WEBVIEW_URLS_TOKEN,cookieManager:k.T}}),(0,u.J)({provide:Zm.Wp,useFactory:function(e){var t=e.webview,n=e.deepLinksPrefixes;return function(e,r){return function(e,t,n,r){if(null==n||!n.isWebView)return!1;var i=e.closeWebview,o=e.target,a=e.url||"",s=t.some((function(e){return a.startsWith(e)}));if(i||"true"===r.closeWebview)s?n.sendPostMessageToMobile({type:Om.WebViewMessageType.close,value:{type:Om.WebViewMessageType.navigate,value:kw(a,r)}}):/custom_.+_.+/i.test(a)?n.sendPostMessageToMobile({type:Om.WebViewMessageType.close,value:{type:a,value:null}}):n.sendPostMessageToMobile({type:Om.WebViewMessageType.close,value:null});else if(a.endsWith(".pdf")||a.includes("api/common/v1/payment_receipt_pdf"))n.sendPostMessageToMobile({type:Om.WebViewMessageType.openDocument,value:a});else if(o===Sw.$.top)n.sendPostMessageToMobile({type:Om.WebViewMessageType.openLinkInBrowser,value:a});else if(o===Sw.$.blank)n.sendPostMessageToMobile({type:Om.WebViewMessageType.openLinkInApp,value:a});else{if(!s)return!1;n.sendPostMessageToMobile({type:Om.WebViewMessageType.navigate,value:kw(a,r)})}return!0}(e,n,t,r)}},deps:{webview:kh.o3,deepLinksPrefixes:ow}})]),[(0,u.J)({provide:ow,useFactory:function(e){var t=e.envManager.get("WEBVIEW_DEEPLINK_PREFIXES"),n=[];try{var r=JSON.parse(t);n=Array.isArray(r)?r:[]}catch(e){throw new Error("Env переменная WEBVIEW_DEEPLINK_PREFIXES - должна быть массивом строк")}return n},deps:{envManager:y.vC}}),(0,u.J)({provide:Rc.uJ,useFactory:function(e){var t,n=e.webview,r=e.envManager,i=!0===(null==(t=e.store.getState())||null==(t=t.router)||null==(t=t.currentRoute)||null==(t=t.config)?void 0:t.enableWebviewSessionAuthorize);return"true"===r.get("FF_ENABLE_CHANGE_AUTH_TYPE_WEBVIEW")&&null!=n&&n.isWebView&&!i?"session/context/authorize":"session/authorize"},deps:{webview:kh.VO,envManager:y.vC,store:b.kR}}),(0,u.J)({provide:Zt.sU,multi:!0,useFactory:function(e){var t=e.envManager,n=e.mainPageUrl,i=e.webviewDebugUrl,o=e.webviewPreloadUrl,s=e.webview,u=e.webviewRedirectUrl;return function(){var e=(0,r.Z)(a().mark((function e(r){var c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.to,"true"===t.get("FF_WEBVIEW_DEBUG_PAGE")||!c||c.path!==i){e.next=4;break}return e.abrupt("return",n);case 4:if(s.isWebView||!c||c.path!==o){e.next=6;break}return e.abrupt("return",n);case 6:if(l="true"===t.get("FF_WEBVIEW_RELOAD_PAGE"),!c||c.path!==u||s.isWebView&&l){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{envManager:y.vC,mainPageUrl:Ch.MAIN_PAGE_URL_TOKEN,webviewDebugUrl:Ch.WEBVIEW_DEBUG_URL_TOKEN,webviewPreloadUrl:Ch.WEBVIEW_PRELOAD_URL_TOKEN,webviewRedirectUrl:Ch.WEBVIEW_REDIRECT_URL_TOKEN,webview:kh.VO}})],Jw(i.Z,[Dw,jw].concat(Jw(i.Z,Ww),[Kw])))}),Mw(xw=function(){})||xw),Yw="Received value is not valid",Qw="AsyncStorage is not initialized yet",Xw="Both IndexedDB and Local Storage are not available",$w="Local Storage is not available",eS=function(){function e(e){var t=e.localStorageService,n=e.eventea;this.localStorageService=void 0,this.eventea=void 0,this.initialized=!1,this.db=null,this.dbName=void 0,this.storeName=void 0,this.validators=void 0,this.localStorageService=t,this.eventea=n}var t=e.prototype;return t.init=function(e){var t=this,n=e.dbName,r=e.storeName,i=e.validators;return this.initialized=!0,this.dbName=n,this.storeName=r,this.validators=i,new Promise((function(e,n){var r=function(){t.eventea.send({project:"supreme",event:"async-storage-fallback-used",payload:{method:"init"}}),e()};window.indexedDB?t.openIndexedDB().then(e).catch((function(){t.openLocalStorage().then(r).catch((function(){n(new Error(Xw))}))})):t.openLocalStorage().then(r).catch((function(){n(new Error(Xw))}))}))},t.get=function(){var e=(0,r.Z)(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initialized){e.next=2;break}return e.abrupt("return",Promise.reject(new Error(Qw)));case 2:return e.abrupt("return",new Promise((function(e,r){var i=function(t){n.eventea.send({project:"supreme",event:"async-storage-fallback-used",payload:{method:"get"}}),e(t)};n.db?n.getFromIndexedDB(t).then(e).catch((function(e){e.message===Yw&&r(e),n.getFromLocalStorage(t).then(i).catch(r)})):n.getFromLocalStorage(t).then(i).catch(r)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.set=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initialized){e.next=2;break}return e.abrupt("return",Promise.reject(new Error(Qw)));case 2:return e.abrupt("return",new Promise((function(e,i){var o=function(){r.eventea.send({project:"supreme",event:"async-storage-fallback-used",payload:{method:"set"}}),e()};r.db?r.setToIndexedDB(t,n).then(e).catch((function(){r.setToLocalStorage(t,n).then(o).catch((function(){i(new Error(Xw))}))})):r.setToLocalStorage(t,n).then(o).catch(i)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.openIndexedDB=function(){var e=this;return new Promise((function(t,n){var r=indexedDB.open(e.dbName);r.onsuccess=function(){e.db=r.result,t()},r.onerror=function(e){n(new Error("Failed to open IndexedDB: "+(e&&"message"in e?e.message:e)))},r.onupgradeneeded=function(){e.db=r.result,e.db.createObjectStore(e.storeName)}}))},t.openLocalStorage=function(){var e=this;return new Promise((function(t,n){e.localStorageService.isAvailable()||n(new Error($w)),t()}))},t.getFromIndexedDB=function(e){var t=this;return new Promise((function(n,r){var i=t.db.transaction(t.storeName,"readonly").objectStore(t.storeName).get(e);i.onsuccess=function(){var o;i.result&&(null!=(o=t.validators)&&o[e]&&(t.validators[e](i.result)||r(new Error(Yw))),n(i.result));n(void 0)},i.onerror=function(){r(new Error("Failed to get item from IndexedDB"))}}))},t.getFromLocalStorage=function(e){if(!this.localStorageService.isAvailable())return Promise.reject(new Error($w));var t=this.localStorageService.getItem(e);if(t&&"string"==typeof t){var n,r=JSON.parse(t);return null!=(n=this.validators)&&n[e]&&!this.validators[e](r)?Promise.reject(new Error(Yw)):Promise.resolve(r)}return Promise.resolve(void 0)},t.setToIndexedDB=function(e,t){var n=this;return new Promise((function(r,i){var o=n.db.transaction(n.storeName,"readwrite").objectStore(n.storeName).put(t,e);o.onsuccess=function(){r()},o.onerror=function(){i(new Error("Failed to save item in IndexedDB"))}}))},t.setToLocalStorage=function(e,t){return this.localStorageService.isAvailable()?(this.localStorageService.setItem(e,JSON.stringify(t)),Promise.resolve()):Promise.reject(new Error($w))},e}(),tS="spa-navigation-completed",nS=function(){function e(){this.page=void 0}var t=e.prototype;return t.startTimer=function(e){performance.mark(tS),this.page=e},t.finishTimer=function(e){var t;if(this.page!==e)return 0;var n=performance.measure("spa-navigation-result",tS),r=Math.round(null!=(t=null==n?void 0:n.duration)?t:0);return Math.min(null!=r?r:0,3e4)},e}();function rS(e){var t=Number(e);return!!(Number.isSafeInteger(t)&&t>0)||"value is not a positive integer"}var iS,oS,aS,sS,uS,cS,lS,dS,fS=(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"NAVIGATIONS_MAP_AVERAGE_TIME_THRESHOLD",value:"3000",optional:!0,validator:rS},{key:"NAVIGATIONS_MAP_MIN_WEIGHT_THRESHOLD",value:"0.35",optional:!0,validator:function(e){var t=Number(e);return!!(Number.isFinite(t)&&t>0&&t<=1)||"value is not a number between 0 and 1"}},{key:"NAVIGATIONS_MAP_DAYS_TO_LIVE",value:"15",optional:!0,validator:rS}]}),pS=(iS=(0,h.Y)({providers:[fS,(0,u.J)({provide:_y,useClass:eS,deps:{localStorageService:Ch.LOCAL_STORAGE_SERVICE_TOKEN,eventea:Sa.Bv}}),(0,u.J)({provide:wy,useClass:Py,deps:{envManager:y.vC,eventea:Sa.Bv,storage:_y,authenticateDeferred:"authenticateDeferred",store:b.kR}}),(0,u.J)({provide:Ey,useClass:nS}),(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.webview,n=e.router,i=e.navigationsMapService,o=e.pageTimeService;return function(){if(!t.isWebView)return function(e){var t=e.router,n=e.navigationsMapService,i=e.pageTimeService;(0,r.Z)(a().mark((function e(){var o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.init();case 2:s=(null==(o=t.getCurrentRoute())?void 0:o.path)||window.location.pathname,i.startTimer(s),t.registerHook("beforeNavigate",function(){var e=(0,r.Z)(a().mark((function e(r){var o,s,c,l,d,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=null==(o=r.from)?void 0:o.path,d=(null==(s=r.to)?void 0:s.path)||(null==(c=r.url)?void 0:c.pathname),f=u,p=i.finishTimer(l||t.getCurrentRoute().path),p=f?p:void 0,u=l,l&&d&&n.update({previous:f,from:l,to:d,duration:p});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.registerHook("afterNavigate",function(){var e=(0,r.Z)(a().mark((function e(n){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.startTimer(null!=(r=null==(o=n.to)?void 0:o.path)?r:t.getCurrentRoute().path);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})))().catch(console.error)}({router:n,navigationsMapService:i,pageTimeService:o})}},deps:{router:Zt.l1,navigationsMapService:wy,pageTimeService:Ey,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN}})]}),iS(oS=function(){})||oS),vS=(aS=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:Ca,useFactory:function(e){var t=e.envManager;return{title:e.appTitle,metaCustom:{tag:"meta",attributes:{name:"theme-color",content:t.get("MAIN_THEME_COLOR")||Cm.iv}},viewport:"width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"}},deps:{envManager:y.vC,appTitle:Ch.APP_TITLE_TOKEN}}),(0,u.J)({provide:Ia,multi:!0,useFactory:function(e){var t=e.isContextAuthPage,n=e.router,r=e.sessionStorageService,i=e.envManager,o=e.isPwa;return function(e){if(o()&&t(n.getCurrentUrl().path)&&"true"===i.get("FF_SHOW_YELLOW_STATUS_BAR_AT_SPLASHSCREEN")){var a="false"!==r.getItem("is_first_load");e.updateMeta(10,{metaCustom:{tag:"meta",attributes:{name:"theme-color",content:a?Cm.WK:Cm.iv}}})}}},deps:{router:Zt.l1,isContextAuthPage:Ch.IS_CONTEXT_AUTH_PAGE_TOKEN,sessionStorageService:ay,envManager:y.vC,isPwa:Oh.Im}})]}),aS(sS=function(){})||sS),hS=n(7349),gS=window.fetch.bind(window),mS=function(e,t){return t instanceof Error?Object.assign({message:t.message,stack:t.stack},t):t},yS={filter:function(e){var t=e.remote,n=e.error;return null==t||!n||"ERR_HTTP_ERROR"!==n.code||!/NetworkError when attempting to fetch resource/.test(n.message)}},bS=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:Q.J0,multi:!0,useFactory:function(e){var t,n,r,i,o,a,s,u,c=(n=(t=e).appInfo,r=t.envManager,i=t.wuid,o=n.appName,a=r.get("APP_VERSION"),s=r.get("APP_RELEASE"),u=r.get("FRONT_LOG_SYSTEM"),{extend:function(e){return Object.assign({},e,{component:"tramvai-"+o+"-"+(e.name||"unknown"),wuid:i,release:s,system:u,appVersion:a,appName:o,appType:"tramvai",from:"browser",userAgent:window.navigator.userAgent,href:window.location.href})}});return function(e){e.addFilter(yS),e.addExtension(c)}},deps:{appInfo:g.Qo,envManager:y.vC,wuid:{token:fc,optional:!0}}}),(0,u.J)({provide:Q.DV,useFactory:function(e){var t=e.envManager.get("FRONT_LOG_API");return new z.RemoteReporter({requestCount:1/0,emitLevels:{error:!0,fatal:!0},makeRequest:function(e){return function(e){var t=e.payload;return gS(e.logApi+"collect",{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:(0,hS.K)(t,mS)}).catch((function(e){return e}))}({logApi:t,payload:e})}})},scope:l.s.SINGLETON,deps:{envManager:y.vC}}),(0,u.J)({provide:y.sQ,useValue:[{key:"FRONT_LOG_API",dehydrate:!0,validator:dd},{key:"FRONT_LOG_SYSTEM",dehydrate:!0,value:"client_logs"}],multi:!0})]})((function(){})),_S="ERR_HTTP_REQUEST_TIMEOUT",ES="ERR_HTTP_ERROR",wS="Что-то пошло не так. Мы уже решаем проблему. Попробуйте снова через несколько минут.",SS=function(e){var t=e.args[0];if("string"==typeof t||t instanceof Error)return!0;var n=t.error;return!function(e){return!!e&&("code"in e&&e.code===_S||"reason"in e&&e.reason===_S)}(n)&&!function(e){return!!e&&("code"in e&&e.code===ES||"reason"in e&&e.reason===ES)&&e.message===wS}(n)},TS=(uS=(0,h.Y)({imports:[bS],providers:[(0,u.J)({provide:Q.J0,multi:!0,useFactory:function(e){var t=e.store,n=e.cookieManager;return function(e){e.addFilter({filter:SS}),e.addExtension({extend:function(e){var r;return Object.assign({},e,{ssoId:n.get("sso_user_id")||(null==(r=window)?void 0:r.__ssoId__)||t.getState(il.p).ssoId||null})}})}},deps:{appInfo:g.Qo,envManager:y.vC,wuid:{token:fc,optional:!0},loggerContext:Q.yV,store:b.kR,cookieManager:k.T}}),(0,u.J)({provide:"_tramvai_error_interceptor_filter",useValue:function(e){return"Uncaught ReferenceError: processRandomSelector is not defined"===e.message||"ResizeObserver loop limit exceeded"===e.message||"ResizeObserver loop completed with undelivered notifications."===e.message||"Время истекло. Обновите страницу и повторите попытку."===e.message||e.message===wS}})]}),uS(cS=function(){})||cS),AS=n(65704);!function(e){e.INIT="init",e.COMPLETE="complete",e.ERROR="error"}(dS||(dS={}));var kS=dS,OS=function(){function e(e){this.state=Object.assign({status:kS.INIT,request:null,response:null,error:null},e),this.internalMeta={},this.externalMeta={}}var t=e.prototype;return t.getState=function(){return this.state},t.setState=function(e){var t=$s()([this.state],e);t&&(this.state=Object.assign({},this.state,t))},t.getInternalMeta=function(e){return this.getMeta(e,this.internalMeta)},t.getExternalMeta=function(e){return this.getMeta(e,this.externalMeta)},t.updateInternalMeta=function(e,t){this.internalMeta=this.extendMeta(e,t,this.internalMeta)},t.updateExternalMeta=function(e,t){this.externalMeta=this.extendMeta(e,t,this.externalMeta)},t.getStatus=function(){return this.state.status},t.getResponse=function(){return this.state.response},t.getRequest=function(){return this.state.request},t.getMeta=function(e,t){return void 0===t&&(t=this.externalMeta),e?t[e]:t},t.extendMeta=function(e,t,n){var r;if(void 0===n&&(n=this.externalMeta),t)return Object.assign({},n,((r={})[e]=Object.assign({},n[e],t),r))},e}(),CS=((lS={})[kS.INIT]=kS.COMPLETE,lS),RS=function(e){return function t(n){var r=-1,i=e.length,o=new OS;o.setState({request:n});var a=new Promise((function(n,a){var s=function(e){var t=o.getState(),r=t.status,i=CS[r];return e?u(r,-1):i?(o.setState({status:i}),u(i,-1)):void(r===kS.COMPLETE?n(t.response):a(Object.assign(t.error||{},{url:t.request.url})))},u=function(n,a){var u=o.getState().status;!function c(l){if(o.setState(l),o.getState().status!==u)return s(!0);if((r+=a)<0||r>=i)return s(!1);var d=e[r],f=d[n];if(!f||!$s()([o],ru()("shouldExecute",!0,d)))return c();try{f(o,tu()(c),t)}catch(e){return c({status:kS.ERROR,error:e})}}()};u(kS.INIT,1)}));return Object.assign(a,{getState:o.getState.bind(o),getInternalMeta:o.getInternalMeta.bind(o),getExternalMeta:o.getExternalMeta.bind(o)})}};function IS(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var NS=function(e,t){void 0===t&&(t="");var n=new URLSearchParams(t);return function e(t,r){void 0===r&&(r=[]),v()((function(t,o){if(!Gs()(t)){var a=r.length?[].concat(IS(i.Z,r),[o]):[o];Jr()(t)?e(t,a):n.set(Nu()((function(e,t,n){return n?e+"["+t+"]":t}),"",a),t)}}),t)}(e),n.toString()},MS="PROTOCOL_HTTP",xS={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded","multipart/form-data":""},PS=function(e){var t=e.getInternalMeta(MS);return t&&t.response},LS=function(e,t){var n=function(e){return uu()("headers",PS(e))}(e);if(n)return"set-cookie"===t?[]:n.get(t)},DS="undefined"!=typeof self?self:window,jS=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).code="ERR_HTTP_REQUEST_TIMEOUT",t.message="Request timed out",t}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error)),BS=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).code="ABORT_ERR",t}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error)),US=function(e){var t=void 0===e?{}:e,n=(t.agent,t.querySerializer);return{init:function(e,t){var r,i,o,a,s,u,c=e.getRequest(),l=c.httpMethod,d=void 0===l?"GET":l,f=c.url,p=c.query,h=c.queryNoCache,g=c.headers,m=c.type,y=void 0===m?"form":m,b=c.payload,_=c.attaches,E=void 0===_?[]:_,w=c.timeout,S=c.credentials,T=c.withCredentials,A=c.abortPromise,k=c.responseType,O=c.signal,C=!1,R=d.toUpperCase(),I="GET"===R||"HEAD"===R;if(E.length)r=function(e,t){void 0===t&&(t=[]);var n=new(Uu());return v()((function e(t,r){if(Ii()(t))return gr()((function(t){return e(t,r)}),t);Gs()(t)||n.append(r,t)}),e),t.forEach((function(e){if(e instanceof window.Blob){var t=e.uploadName||e.name,r=e.fieldName||"file";n.append(r,e,encodeURIComponent(t))}})),n}(b,E),i=r.getHeaders&&r.getHeaders();else{var N=ru()(y,y,xS);i=N?{"Content-type":N}:{},I||(r=function(e,t,n){switch(void 0===n&&(n=NS),e){case"form":case"urlencoded":case"form-data":return n(t);case"json":return JSON.stringify(t);default:return t}}(y,b,n))}if(Ru()){var M=new(Ru());a=M.signal;var x=function(e){C||(C=!0,M.abort(),t({status:kS.ERROR,error:e instanceof Error?e:Object.assign(new BS,{abortOptions:e||{}})}))};A&&A.then(x),w&&(o=setTimeout((function(){x(new jS)}),w)),e.updateInternalMeta(MS,{requestAbort:x}),O&&(O.aborted?x():O.addEventListener("abort",(function(){x()})))}else w&&(o=setTimeout((function(){t({status:kS.ERROR,error:new jS}),C=!0}),w));(function(){return DS.fetch.apply(DS,arguments)})(function(e,t,n){void 0===n&&(n=NS);var r=e.split("?",2),i=IS(pe.Z,r,2),o=i[0],a=n(t,i[1]);return a?o+"?"+a:o}(f,Object.assign({},I?b:{},h,p),n),{signal:a,method:R,headers:Object.assign({},i,g),agent:undefined,credentials:null!=S?S:T?"include":"same-origin",body:r,timeout:w}).then((function(t){return s=t,e.updateInternalMeta(MS,{response:s}),s[k]?s[k]():function(e){var t=Lu()(e.headers.get("content-type")||"");return ju()("application/json",t)?e.json():ju()("application/octet-stream",t)?e.arrayBuffer():e.text()}(s)})).then((function(e){if(!C){if(u=e,!s.ok)throw new Error(s.statusText);t({status:kS.COMPLETE,response:u})}})).catch((function(e){if(!C)return e&&"string"==typeof e.type&&/timeout/.test(e.type)?t({status:kS.ERROR,error:new jS}):void t({status:kS.ERROR,error:Object.assign(e,{code:"ERR_HTTP_ERROR",status:s&&s.status,body:u}),response:u})})).then((function(){C=!0,o&&clearTimeout(o)}))}}},FS=function(e){return e.Auto="auto",e.Visible="visible",e.Hidden="hidden",e.SingleConversationOnly="singleConversationOnly",e}({});function VS(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var WS="Failed to load messenger api",qS=function(){function e(e){var t,n=e.envManager,r=e.messengerApiURL,i=e.sessionManager,o=e.store,a=e.userAgent,s=e.eventea,u=e.router,c=e.localStorageService,l=e.isPwa,d=e.requestLogger;this.isError=!1,this.isLoading=!1,this.isInitialized=!1,this.shouldBeOpen=!1,this.shouldSendMessage=!1,this.initChatMessage=null,this.container=null,this.options={},this.api=void 0,this.envManager=void 0,this.messengerApiURL=void 0,this.sessionManager=void 0,this.eventea=void 0,this.localStorageService=void 0,this.router=void 0,this.store=void 0,this.deviceType=void 0,this.sessionId=void 0,this.isAuthorized=void 0,this.isPwa=void 0,this.requestLogger=void 0,this.timezone=void 0,this.callbackList=[],this.scriptNode=null,this.replayCount=null,this.openTimeout=void 0,this.initCount=0,this.messengerInitedCallback=void 0,this.messengerFailCallback=void 0,this.envManager=n,this.messengerApiURL=r,this.sessionId=i.getSessionId(),this.deviceType=a.device.type,this.eventea=s,this.store=o,this.router=u,this.localStorageService=c,this.sessionManager=i,this.isPwa=l,this.requestLogger=d;var f=this.store.getState(),p=f.roles,v=f.timezone;if(this.isAuthorized=!!p&&(0,el.QO)(p),this.timezone=null!=(t=null==v?void 0:v.profile)?t:null==v?void 0:v.local,this.getIsClient()){var h=new URLSearchParams(window.location.search);this.shouldBeOpen=h.has("openChat"),this.shouldSendMessage=h.has("sendMessage"),this.initChatMessage=h.get("chatMessage")}}var t=e.prototype;return t.initializeScriptLoading=function(){var e,t=this,n=document.createElement("script"),r=this.messengerApiURL.widget;n.src=r,n.async=!0,this.scriptNode&&document.head.removeChild(this.scriptNode),this.scriptNode=n,document.head.appendChild(n);var i=null!=(e=Number(this.envManager.get("MESSENGER_API_TIMEOUT")))?e:5e3;this.requestLogger.requestStart({slug:"tmsg/t-messenger.js",url:r});var o=Date.now();return new Promise((function(e,a){var s=function(){var e=new Error(WS);return t.setIsError(!0,e,!1),t.setIsLoading(!1),e},u=!1,c=setTimeout((function(){t.requestLogger.requestEnd({slug:"tmsg/t-messenger.js",url:r,duration:Date.now()-o,statusCode:"aborted",result:"error",stack:"Failed to load messenger api because of timeout"}),u=!0;var e=s();a(e)}),i);n.onload=function(){u||(t.requestLogger.requestEnd({slug:"tmsg/t-messenger.js",url:r,duration:Date.now()-o,statusCode:"200",result:"success"}),clearTimeout(c),e())},n.onerror=function(e){if(!u){t.requestLogger.requestEnd({slug:"tmsg/t-messenger.js",url:r,duration:Date.now()-o,statusCode:"unknown",result:"error",stack:"Failed to load messenger api because of error "+JSON.stringify(e)});var n=s();clearTimeout(c),a(n)}}}))},t.getApi=function(){var e;return null==(e=window)||null==(e=e["t-messenger"])?void 0:e.api},t.getEnsuredApi=function(){if(!this.api)throw new Error("There is no API for t-messenger");return this.api},t.getIsClient=function(){return!0},t.getWebimUser=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAuthorized){e.next=2;break}return e.abrupt("return",void 0);case 2:return n=Date.now(),r=this.messengerApiURL.webimAuth,i=null!=(t=Number(this.envManager.get("MESSENGER_WEBIM_API_TIMEOUT")))?t:3e3,e.prev=5,o=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/getWebimUser",url:r}),e.next=10,o({url:r,query:{sessionid:this.sessionId},timeout:i});case 10:return s=e.sent,u=s.payload,this.requestLogger.requestEnd({slug:"tmsg/getWebimUser",duration:Date.now()-n,url:r,result:"success",statusCode:"200"}),e.abrupt("return",u);case 16:return e.prev=16,e.t0=e.catch(5),c={slug:"tmsg/getWebimUser",duration:Date.now()-n,url:r,result:"error"},a=e.t0,Boolean(a.code)?this.requestLogger.requestEnd(Object.assign({},c,{statusCode:__(e.t0.code),stack:e.t0.stack})):this.requestLogger.requestEnd(Object.assign({},c,{statusCode:"unknown",originalMessage:String(e.t0)})),e.abrupt("return",void 0);case 22:case"end":return e.stop()}var a}),e,this,[[5,16]])})));return function(){return e.apply(this,arguments)}}(),t.setIsLoading=function(e){var t,n;this.isLoading=e,null==(t=(n=this.options).onLoading)||t.call(n,this.isLoading)},t.setIsError=function(e,t,n){var r,i;void 0===n&&(n=!0),this.isError=e,e&&t&&t instanceof Error&&(null==(r=(i=this.options).onError)||r.call(i,t,n))},t.setIsInitialized=function(e){var t,n;this.isInitialized=e,this.isInitialized&&(null==(t=(n=this.options).onInit)||t.call(n))},t.ensureInitializeScriptsAndApi=function(){var e=(0,r.Z)(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.api){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.initializeScriptLoading();case 4:if(this.api=this.getApi(),this.api){e.next=7;break}throw new Error("Empty t-messenger API while initializing");case 7:this.api.onUnreadMessagesCountChange((function(e){t.replayCount=e,t.callbackList.forEach((function(t){return t(e)}))})),this.api.onMessengerOpen((function(){null==t.options.onOpen||t.options.onOpen()})),this.api.onMessengerClose((function(){null==t.options.onClose||t.options.onClose()})),this.api.onMessengerScreenChanged((function(e){null==t.options.onScreenChanged||t.options.onScreenChanged(e),t.shouldSendMessage&&t.initChatMessage&&["conversation","conversations-list"].includes(e)&&(t.getEnsuredApi().sendMessage({message:t.initChatMessage}),t.shouldSendMessage=!1)})),this.api.onMessengerInited((function(){null==t.messengerInitedCallback||t.messengerInitedCallback()})),this.api.onMessengerFail((function(){null==t.messengerFailCallback||t.messengerFailCallback()}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.updateIsAuthorized=function(){var e=this.store.getState().roles;this.isAuthorized=!!e&&(0,el.QO)(e)},t.updateSessionId=function(){this.sessionId=this.sessionManager.getSessionId()},t.tryInitMessengerPlatform=function(e,t,n,i){var o=this;return new Promise((function(s,u){var c=o.options.onMessageCountUpdate,l=o.envManager.get("MESSENGER_IFRAME_URL");if(!l)return u(new Error("There is no iframeUrl for t-messenger container"));if(!o.api)return u(new Error("There is no API while init platform of t-messenger"));var d=o.getLocation(),f=o.getPlatformType(),p="mobile"!==o.deviceType;o.localStorageService.setItem("pw-test-location",d);var v=Date.now();o.messengerFailCallback=function(){var t;o.localStorageService.removeItem("pw-test-location"),o.setIsInitialized(!1),o.setIsLoading(!1);var n=new Error("Failed to load messenger iframe");o.setIsError(!0,n,!1),null==(t=o.eventea)||t.send({project:"supreme",event:"messenger-failed-frame-load",payload:{container:e.className,iframeUrl:l}})},o.messengerInitedCallback=(0,r.Z)(a().mark((function n(){var r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=setTimeout((function(){clearTimeout(i),o.localStorageService.removeItem("pw-test-location")}),1e3),o.setIsInitialized(!0),o.setIsLoading(!1),o.isError&&(o.setIsError(!1),null==o.options.onClearError||o.options.onClearError()),c&&o.addUnreadMessagesUpdateCallback(c),!o.shouldBeOpen){n.next=8;break}return n.next=8,o.open({message:o.initChatMessage||void 0,shouldSend:o.shouldSendMessage,chatOpen:o.shouldBeOpen});case 8:null==(r=o.eventea)||r.send({project:"supreme",event:"messenger-init",payload:{iframeUrl:l,container:e.className,isAuthorized:!!o.isAuthorized,iframeDuration:Date.now()-v,fullDuration:Date.now()-t}}),s();case 10:case"end":return n.stop()}}),n)}))),o.api.initPlatform(e,l,{location:d,autofocus:!1,user:n,platformType:f,requestNotificationPermission:p,data:{timezone:o.timezone,sessionid:o.sessionId||"",origin:"internet_bank",platform:"web"},closeButtonVisibility:"desktop"===o.deviceType?FS.Hidden:FS.SingleConversationOnly},i)}))},t.init=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),e.prev=1,null==(r=this.eventea)||r.send({event:"messenger.tryToOpen",project:"supreme",payload:{location:this.router.getCurrentUrl().pathname,isFirstTime:0===this.initCount}}),this.initCount++,!this.isInitialized){e.next=6;break}throw new Error("Чат уже инициализирован, для обновления используйте метод update");case 6:return this.container=t,this.options=n,this.updateIsAuthorized(),this.updateSessionId(),this.setIsLoading(!0),i=Date.now(),e.next=14,Promise.all([this.getWebimUser(),this.ensureInitializeScriptsAndApi()]);case 14:return o=e.sent,s=VS(pe.Z,o,1),u=s[0],e.next=19,this.tryInitMessengerPlatform(t,i,u,n.isCheckMobileNeed);case 19:e.next=28;break;case 21:throw e.prev=21,e.t0=e.catch(1),c=(null==e.t0?void 0:e.t0.message)!==WS,this.setIsError(!0,e.t0,c),this.setIsInitialized(!1),this.setIsLoading(!1),e.t0;case 28:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(t,n){return e.apply(this,arguments)}}(),t.open=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u,c,l,d,f,p,v=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=void 0===t?{}:t).shouldSend,i=n.message,o=n.chatOpen,e.prev=1,this.isInitialized||"true"!==this.envManager.get("FF_USE_LAZY_CHAT_LOADING")||this.isError){e.next=5;break}return this.openTimeout=setTimeout((function(){clearTimeout(v.openTimeout),v.openTimeout=void 0,v.open({shouldSend:r,message:i,chatOpen:o}).catch(console.error)}),200),e.abrupt("return");case 5:if(!this.isLoading){e.next=8;break}return this.shouldBeOpen=!0,e.abrupt("return");case 8:return e.next=10,this.ensureInitializeScriptsAndApi();case 10:l=this.getEnsuredApi(),i&&!r?l.openConversationWithDraftMessage({message:i}):o&&l.openSupportConversation(),l.openMessenger(),r&&(null==(s=(u=this.options).onMessageSend)||s.call(u)),null==(c=this.eventea)||c.send({event:"messengerShown",project:"supreme",payload:{location:this.router.getCurrentUrl().pathname}}),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),p=(null==e.t0?void 0:e.t0.message)!==WS,this.setIsError(!0,e.t0,p),null==(d=(f=this.options).onOpen)||d.call(f);case 22:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),t.close=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isError){e.next=3;break}return null==(t=(n=this.options).onClose)||t.call(n),e.abrupt("return");case 3:try{this.getEnsuredApi().closeMessenger()}catch(e){this.setIsError(!0,e),null==(r=(i=this.options).onClose)||r.call(i)}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),this.setIsError(!1),this.setIsInitialized(!1),this.setIsLoading(!1),this.container){e.next=7;break}return this.setIsError(!0,new Error("Not container for t-messenger update")),e.abrupt("return");case 7:return e.prev=7,e.next=10,this.init(this.container,Object.assign({},this.options,t));case 10:null==(n=(r=this.options).onClearError)||n.call(r),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:case"end":return e.stop()}}),e,this,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),t.addUnreadMessagesUpdateCallback=function(e){this.callbackList.push(e),this.replayCount&&e(this.replayCount)},t.getLocation=function(){var e=this.store.getState().roleModel.role.mode===Bm.AR.junior?"junior_web_auth":"PF_common_aut";return this.isAuthorized?e:"PF_common"},t.getPlatformType=function(){return this.isPwa()?"pwa":"mobile"===this.deviceType?"web_mobile":"desktop"===this.deviceType?"desktop":void 0},e}(),HS=function(e){return e.Client="client",e.Manager="manager",e.Bot="bot",e.Guest="guest",e}({});function GS(e){return e.role===HS.Guest}var ZS=function(){function e(e){var t=e.messengerApiURL,n=e.requestLogger;this.messengerApiURL=void 0,this.requestLogger=void 0,this.messengerApiURL=t,this.requestLogger=n}var t=e.prototype;return t.eventeaRequestErrorLogger=function(e,t){Boolean(e.code)?this.requestLogger.requestEnd(Object.assign({},t,{statusCode:__(e.code),stack:e.stack})):this.requestLogger.requestEnd(Object.assign({},t,{statusCode:"unknown",originalMessage:String(e)}))},t.getConversations=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.messengerApiURL.allConversations,n=Date.now(),e.prev=2,r=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/getConversations",url:t}),e.next=7,r({url:t,httpMethod:"get",withCredentials:!0,headers:{Accept:"application/vnd.chats.chatapi.conversations.out.v1+json"}});case 7:return i=e.sent,this.requestLogger.requestEnd({slug:"tmsg/getConversations",url:t,result:"success",statusCode:"200",duration:Date.now()-n}),o=JSON.parse(i),e.abrupt("return",o.result);case 13:return e.prev=13,e.t0=e.catch(2),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/getConversations",duration:Date.now()-n,url:t,result:"error"}),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),t.getUserInfo=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.messengerApiURL.userInfo,n=Date.now(),e.prev=2,r=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/getUserInfo",url:t}),e.next=7,r({url:t,httpMethod:"get",withCredentials:!0,headers:{Accept:"application/vnd.tinkoff.tmsg.chatapi.userInfo.v1+json"}});case 7:return i=e.sent,this.requestLogger.requestEnd({slug:"tmsg/getUserInfo",url:t,result:"success",statusCode:"200",duration:Date.now()-n}),o=JSON.parse(i),e.abrupt("return",o.result);case 13:return e.prev=13,e.t0=e.catch(2),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/getUserInfo",duration:Date.now()-n,url:t,result:"error"}),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),t.getConfig=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.messengerApiURL.config,n=Date.now(),e.prev=2,r=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/getConfig",url:t}),e.next=7,r({url:t,httpMethod:"get",withCredentials:!0,headers:{Accept:"application/vnd.tinkoff.tmsg.chatapi.config.out.v1+json"}});case 7:return i=e.sent,this.requestLogger.requestEnd({slug:"tmsg/getConfig",url:t,result:"success",statusCode:"200",duration:Date.now()-n}),o=JSON.parse(i),e.abrupt("return",o.result);case 13:return e.prev=13,e.t0=e.catch(2),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/getConfig",duration:Date.now()-n,url:t,result:"error"}),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),t.getSingleProductConversations=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.messengerApiURL.singleConversation,n=Date.now(),e.prev=2,r=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/getSingleProductConversations",url:t}),e.next=7,r({url:t,httpMethod:"post",withCredentials:!0,headers:{Accept:"application/vnd.tinkoff.tmsg.chatapi.conversation.v1+json"}});case 7:return i=e.sent,this.requestLogger.requestEnd({slug:"tmsg/getSingleProductConversations",url:t,result:"success",statusCode:"200",duration:Date.now()-n}),o=JSON.parse(i),e.abrupt("return",o.result);case 13:return e.prev=13,e.t0=e.catch(2),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/getSingleProductConversations",duration:Date.now()-n,url:t,result:"error"}),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),t.issueTokenByWEBIMWeb=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.messengerApiURL.issue,r=Date.now(),e.prev=2,this.requestLogger.requestStart({slug:"tmsg/issueTokenByWEBIMWeb",url:n}),i=RS([US()]),e.next=7,i({url:n,timeout:3e3,httpMethod:"POST",payload:t,type:"json",withCredentials:!0});case 7:this.requestLogger.requestEnd({slug:"tmsg/issueTokenByWEBIMWeb",url:n,result:"success",statusCode:"200",duration:Date.now()-r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/issueTokenByWEBIMWeb",duration:Date.now()-r,url:n,result:"error"});case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),t.getWebimUser=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return n=Date.now(),r=this.messengerApiURL.webimAuth,e.prev=4,i=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/getWebimUser",url:r}),e.next=9,i({url:r,query:{sessionid:t},timeout:3e3});case 9:return o=e.sent,s=o.payload,this.requestLogger.requestEnd({slug:"tmsg/getWebimUser",url:r,result:"success",statusCode:"200",duration:Date.now()-n}),e.abrupt("return",s);case 15:return e.prev=15,e.t0=e.catch(4),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/getWebimUser",duration:Date.now()-n,url:r,result:"error"}),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),t.getUnreads=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),n=this.messengerApiURL.unread,e.prev=2,o=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/getUnread",url:n}),e.next=7,o({url:n,httpMethod:"GET",withCredentials:!0,headers:{Accept:"application/vnd.tinkoff.tmsg.chatapi.unread.out.v3+json"}});case 7:return s=e.sent,u=JSON.parse(s),this.requestLogger.requestEnd({slug:"tmsg/getUnread",url:n,result:"success",statusCode:"200",duration:Date.now()-t}),e.abrupt("return",null!=(r=null==u||null==(i=u.result)?void 0:i.conversationIds)?r:[]);case 13:return e.prev=13,e.t0=e.catch(2),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/getUnread",duration:Date.now()-t,url:n,result:"error"}),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),t.getConversationById=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),r=""+this.messengerApiURL.conversationById+t,e.prev=2,i=RS([US()]),this.requestLogger.requestStart({slug:"tmsg/conversationById",url:r}),e.next=7,i({url:r,httpMethod:"GET",withCredentials:!0,headers:{Accept:"application/vnd.chats.chatapi.conversation.out.v1+json"},query:{use_is_archived:"true"}});case 7:return o=e.sent,s=JSON.parse(o),this.requestLogger.requestEnd({slug:"tmsg/conversationById",url:r,result:"success",statusCode:"200",duration:Date.now()-n}),e.abrupt("return",s.result);case 13:return e.prev=13,e.t0=e.catch(2),this.eventeaRequestErrorLogger(e.t0,{slug:"tmsg/conversationById",duration:Date.now()-n,url:r,result:"error"}),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),t.getSseEvents=function(){var e,t=this.messengerApiURL.events,n=new EventSource(t,{withCredentials:!0});return(e={next:function(){return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=function(){n.removeEventListener("init",r),n.removeEventListener("mes",r),n.removeEventListener("error",i)},r=function(n){e({value:n,done:!1}),t()},i=function(){n.close(),e({value:void 0,done:!0}),t()};n.addEventListener("init",r,{once:!0}),n.addEventListener("mes",r,{once:!0}),n.addEventListener("error",i,{once:!0})})));case 1:case"end":return e.stop()}}),e)})))()},return:function(e){return(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.close(),t.abrupt("return",{value:e,done:!0});case 2:case"end":return t.stop()}}),t)})))()},throw:function(e){return(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.close(),e;case 2:case"end":return t.stop()}}),t)})))()}})[Symbol.asyncIterator]=function(){return this},e[Symbol.asyncDispose]=function(){return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.close();case 1:case"end":return e.stop()}}),e)})))()},e},e}(),KS=function(e){return e.NewMessage="vnd.chats.chatapi.message.v1+json",e.IsRead="vnd.chats.chatapi.markread.v1+json",e.IsTyping="vnd.chats.chatapi.typing.v1+json",e.HideHints="vnd.chats.chatapi.hidehints.v1+json",e.ConversationUpdate="vnd.chats.chatapi.conversationupdate.v1+json",e}({}),JS=function(e){return e.NewMessage="vnd.tinkoff.tmsg.chatapi.message.v1+json",e.IsRead="vnd.tinkoff.tmsg.chatapi.markread.v1+json",e.IsTyping="vnd.tinkoff.tmsg.chatapi.typing.v1+json",e.HideHints="vnd.tinkoff.tmsg.chatapi.hidehints.v1+json",e.ConversationUpdate="vnd.tinkoff.tmsg.chatapi.conversationupdate.v1+json",e}({});function zS(e,t){return e===KS.IsRead||e===JS.IsRead}function YS(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function QS(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new XS(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function XS(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return XS=function(e){this.s=e,this.n=e.next},XS.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new XS(e)}var $S,eT=function(){function e(e){var t=e.messengerApiURL,n=e.sessionManager,r=e.store,i=e.requestLogger;this.requestService=void 0,this.unreads=[],this.conversationMap={},this.sessionManager=void 0,this.isAuthorized=void 0,this.callbackList=[],this.store=void 0,this.isGuest=!0,this.conversationsListEnabled=!1,this.currentUserId=void 0,this.unreadMessagesCount=0,this.isInited=!1,this.sseReconnectCount=0,this.sseMaxReconnectTimeout=6e4,this.sseTimeoutId=void 0,this.sseIsNotNeeded=!1,this.store=r,this.sessionManager=n,this.requestService=new ZS({messengerApiURL:t,requestLogger:i})}var t=e.prototype;return t.handleSseEvents=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s,u,c,l,d,f=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.requestService.getSseEvents(),!this.sseIsNotNeeded){e.next=6;break}return e.next=5,t.return(null);case 5:return e.abrupt("break",65);case 6:n=!1,r=!1,e.prev=8,o=QS(t);case 10:return e.next=12,o.next();case 12:if(!(n=!(s=e.sent).done)){e.next=45;break}u=s.value,e.prev=14,e.t0=u.type,e.next="init"===e.t0?18:30;break;case 18:if(!(this.sseReconnectCount>0)){e.next=28;break}if(!this.isSingleConversationMode){e.next=24;break}return e.next=22,this.callSingleConversation();case 22:e.next=28;break;case 24:return e.next=26,this.callUnreads();case 26:return e.next=28,this.createConversationMap();case 28:return this.sseReconnectCount=0,e.abrupt("break",38);case 30:if(c=JSON.parse(u.data)||{content:null,event:null},l=c.content,(a=d=c.event)!==KS.NewMessage&&a!==JS.NewMessage){e.next=34;break}return e.next=34,this.sseNewMessageCallback(l);case 34:if(!zS(d)){e.next=37;break}return e.next=37,this.sseMarkReadCallback(l);case 37:return e.abrupt("break",38);case 38:e.next=42;break;case 40:e.prev=40,e.t1=e.catch(14);case 42:n=!1,e.next=10;break;case 45:e.next=51;break;case 47:e.prev=47,e.t2=e.catch(8),r=!0,i=e.t2;case 51:if(e.prev=51,e.prev=52,!n||null==o.return){e.next=56;break}return e.next=56,o.return();case 56:if(e.prev=56,!r){e.next=59;break}throw i;case 59:return e.finish(56);case 60:return e.finish(51);case 61:return e.next=63,new Promise((function(e){f.sseReconnectCount++;var t=Math.min(1e3*f.sseReconnectCount,f.sseMaxReconnectTimeout);f.sseTimeoutId&&window.clearTimeout(f.sseTimeoutId),f.sseTimeoutId=window.setTimeout(e,t)}));case 63:e.next=0;break;case 65:case"end":return e.stop()}var a}),e,this,[[8,47,51,61],[14,40],[52,,56,60]])})));return function(){return e.apply(this,arguments)}}(),t.callSingleConversation=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestService.getSingleProductConversations();case 2:if(e.t0=t=e.sent,null==e.t0){e.next=7;break}e.t1=t,e.next=8;break;case 7:e.t1={};case 8:n=e.t1,r=n.unreadMessagesCount,i=void 0===r?0:r,this.unreadMessagesCount=i;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.callUnreads=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestService.getUnreads();case 2:this.unreads=e.sent,this.unreadMessagesCount=this.unreads.length;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sseNewMessageCallback=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,o,s,u,c,l=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==(n=t.author)?void 0:n.id)!==this.currentUserId&&!["system","payment"].includes(t.messageType)){e.next=2;break}return e.abrupt("return");case 2:if(!this.isSingleConversationMode){e.next=6;break}this.unreadMessagesCount++,e.next=23;break;case 6:if(r=t.conversationId,!this.unreads.includes(r)){e.next=11;break}this.conversationMap[r]={disableNotification:!(null==(o=t.metadata)||!o.disableNotification),lastMessageId:t.id},e.next=23;break;case 11:if(!this.conversationMap[r]){e.next=16;break}this.conversationMap[r]={disableNotification:!(null==(s=t.metadata)||!s.disableNotification),lastMessageId:t.id},this.conversationMap[r].disableNotification||(this.unreads=Array.from(new Set([].concat(YS(i.Z,this.unreads),[r]))),this.unreadMessagesCount=this.unreads.length),e.next=23;break;case 16:return e.next=18,this.requestService.getConversationById(r);case 18:if(null!=(u=e.sent)&&u.isArchived){e.next=23;break}return this.conversationMap[r]={disableNotification:!(null==(c=t.metadata)||!c.disableNotification),lastMessageId:t.id},e.next=23,this.callUnreads();case 23:this.callbackList.forEach((function(e){return e(l.unreadMessagesCount)}));case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.sseMarkReadCallback=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.userId===this.currentUserId){e.next=2;break}return e.abrupt("return");case 2:if(!this.isSingleConversationMode){e.next=6;break}this.unreadMessagesCount=Math.max(0,this.unreadMessagesCount-1),e.next=13;break;case 6:if(n=t.conversationId,!this.conversationMap[n]){e.next=11;break}this.conversationMap[n].lastMessageId!==t.messageId||this.conversationMap[n].disableNotification||(this.unreads=this.unreads.filter((function(e){return e!==n})),this.unreadMessagesCount=this.unreads.length),e.next=13;break;case 11:return e.next=13,this.callUnreads();case 13:this.callbackList.forEach((function(e){return e(r.unreadMessagesCount)}));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.createConversationMap=function(){var e=(0,r.Z)(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestService.getConversations();case 2:e.sent.forEach((function(e){var n=e.conversationId,r=e.disableNotification,i=e.message;t.conversationMap[n]={disableNotification:r,lastMessageId:null==i?void 0:i.id}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.unsubscribeEvents=function(){this.sseIsNotNeeded=!0},t.addUnreadMessagesUpdateCallback=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.callbackList.push(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.init=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s,u,c,l,d=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInited){e.next=2;break}return e.abrupt("return",!1);case 2:if(n=this.store.getState(),r=n.roles,this.isAuthorized=!!r&&(0,el.QO)(r),this.isAuthorized){e.next=6;break}return e.abrupt("return",!1);case 6:return i=this.sessionManager.getSessionId(),e.next=9,this.requestService.getWebimUser(i);case 9:if(o=e.sent){e.next=12;break}return e.abrupt("return",!1);case 12:return e.next=14,this.requestService.issueTokenByWEBIMWeb(o);case 14:return e.next=16,this.requestService.getUserInfo();case 16:if(s=e.sent){e.next=19;break}return e.abrupt("return",!1);case 19:return this.isGuest=GS(s),this.currentUserId=s.id,e.next=23,this.requestService.getConfig();case 23:if(e.t0=t=e.sent,null==e.t0){e.next=28;break}e.t1=t,e.next=29;break;case 28:e.t1={};case 29:if(u=e.t1,c=u.conversationsListEnabled,l=void 0!==c&&c,this.conversationsListEnabled=l,!this.isSingleConversationMode){e.next=38;break}return e.next=36,this.callSingleConversation();case 36:e.next=42;break;case 38:return e.next=40,this.callUnreads();case 40:return e.next=42,this.createConversationMap();case 42:return this.callbackList.forEach((function(e){return e(d.unreadMessagesCount)})),this.handleSseEvents(),this.isInited=!0,e.abrupt("return",!0);case 46:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),(0,Pl.Z)(e,[{key:"isSingleConversationMode",get:function(){return this.isGuest||!this.conversationsListEnabled}}]),e}(),tT=n(71541),nT=n(23286),rT=n(48860),iT=n.n(rT);function oT(e){var t=e.onClick,n=e.onClose;return(0,Xn.jsxs)("div",{className:iT().error,children:[$S||($S=(0,Xn.jsx)("p",{children:"Произошла ошибка при загрузке чата"})),(0,Xn.jsxs)("div",{className:iT().error_actions,children:[(0,Xn.jsx)(nT.Z,{size:"m",onClick:function(){return null==t?void 0:t()},children:"Перезагрузить"}),(0,Xn.jsx)(nT.Z,{theme:"flat",size:"m",onClick:function(){return null==n?void 0:n()},children:"Закрыть чат"})]})]})}var aT,sT,uT=n(19105),cT=n.n(uT),lT=function(){return(0,Xn.jsx)("span",{className:cT().icon})},dT=n(33852),fT=n.n(dT),pT=function(){return(0,Xn.jsx)("span",{className:fT().icon})},vT=n(19740),hT=n.n(vT);function gT(e){var t=e.isOpen,n=e.unreadCount,r=void 0===n?0:n,i=e.onClick,o=!t&&Boolean(r);return(0,Xn.jsxs)("button",{className:hT().wrapper,"data-module":"messenger-icon",onClick:i,type:"button",children:[o&&(0,Xn.jsx)("span",{className:hT().unread,"data-module":"counter-icon",children:r>99?99:r}),(0,Xn.jsx)("span",{className:hT().icon,children:t?sT||(sT=(0,Xn.jsx)(lT,{})):aT||(aT=(0,Xn.jsx)(pT,{}))})]})}var mT,yT=n(67685),bT=n.n(yT);function _T(){return(0,Xn.jsx)("div",{"data-module":"chat-loader",className:bT().wrapper,children:mT||(mT=(0,Xn.jsx)(Qv.Z,{overlay:!0,semiTransparentBg:!1}))})}var ET=n(73089),wT=n.n(ET);function ST(e){var t=e.isOpen,n=e.icon,r=e.children,i=e.separateChatPage,o=e.isDialogOpen;return(0,Xn.jsxs)("div",{className:i?wT().wrapper_separate_page:wT().wrapper_popup,"data-module":"messenger",style:{zIndex:o?2001:void 0},children:[(0,Xn.jsx)("div",{className:((i?wT().wrapper_body_separate_page:wT().wrapper_body_popup)+" "+(t?wT().wrapper_body_opened:"")).trim(),children:r}),!!n&&(0,Xn.jsx)("div",{className:i?wT().wrapper_icon_separate_page:wT().wrapper_icon_popup,children:n})]})}var TT=n(76307),AT=n.n(TT),kT=function(e,t){var n=(0,$n.useCallback)((function(n){return t(n[e.storeName])}),[e,t]);return(0,Wd.v)(e,n)},OT=function(e){return e.previousUrl},CT=function(){return(0,el.QO)(kT(rl,(function(e){return e})))},RT={completeUri:"/api/common/v1/session/context/check_auth/?source=context-auth",authUrl:"session/context/authorize"},IT={completeUri:"/api/common/v1/session/context-application/check_auth/?source=context-auth",authUrl:"session/context-application/authorize"},NT={completeUri:"/api/common/v1/session/check_auth",authUrl:"session/authorize"},MT="authComplete",xT="sso-credentials-create-result",PT="sso-credentials-get-result",LT="render-start",DT="iframe-auth-success",jT=function(e){var t,n=e.data,r=Boolean((null==n?void 0:n.messageCode)===MT&&(null==n?void 0:n.accessLevel)&&(null==n?void 0:n.accessLevel)!==el.t1.ANONYMOUS),i=Boolean("ssoConversationTimeout"===(null==n?void 0:n.messageCode)&&(null==n||null==(t=n.data)?void 0:t.redirectTo)),o="sso-context-auth-form"===(null==n?void 0:n.source),a="sso-credentials-create-data"===(null==n?void 0:n.type),s="sso-credentials-get-data"===(null==n?void 0:n.type),u=o&&(null==n?void 0:n.offsetHeight)||!1,c=o&&"mount"===(null==n?void 0:n.type),l=(null==n?void 0:n.messageCode)===MT&&void 0!==(null==n?void 0:n.error)||"authError"===(null==n?void 0:n.messageCode)||"authPrepareError"===(null==n?void 0:n.messageCode),d="sso-initialized-form-name"===(null==n?void 0:n.type)&&"fingerprint"!==(null==n?void 0:n.payload),f="";return"sso-cid"===(null==n?void 0:n.type)&&"string"==typeof(null==n?void 0:n.payload)&&(f=null==n?void 0:n.payload),{isAuthMessage:r,isConversationTimeout:i,isResizeEvent:u,isMountEvent:c,isAuthErrorMessage:l,isCorrectFormLoaded:d,isPasskeySignUpEvent:a,isPasskeySignInEvent:s,ssoCid:f}};function BT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UT(e,t){return FT.apply(this,arguments)}function FT(){return(FT=(0,r.Z)(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.credentials.create(n);case 3:i=e.sent,null!=(r=t.current)&&r.contentWindow&&t.current.contentWindow.postMessage({type:xT,payload:{isSuccess:!0,data:qT(i)}},"*"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),null!=(o=t.current)&&o.contentWindow&&t.current.contentWindow.postMessage({type:xT,payload:{isSuccess:!1,data:e.t0}},"*");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function VT(e,t){return WT.apply(this,arguments)}function WT(){return(WT=(0,r.Z)(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.credentials.get(n);case 3:i=e.sent,null!=(r=t.current)&&r.contentWindow&&t.current.contentWindow.postMessage({type:PT,payload:{isSuccess:!0,data:HT(i)}},"*"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),null!=(o=t.current)&&o.contentWindow&&t.current.contentWindow.postMessage({type:PT,payload:{isSuccess:!1,data:e.t0}},"*");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function qT(e){return{authenticatorAttachment:e.authenticatorAttachment,id:e.id,rawId:GT(e.rawId),type:e.type,response:{clientDataJSON:GT(e.response.clientDataJSON),attestationObject:GT(e.response.attestationObject)}}}function HT(e){return{authenticatorAttachment:e.authenticatorAttachment,id:e.id,rawId:GT(e.rawId),type:e.type,response:{clientDataJSON:GT(e.response.clientDataJSON),signature:GT(e.response.signature),authenticatorData:GT(e.response.authenticatorData),userHandle:GT(e.response.userHandle)}}}function GT(e){if(!e)return"";for(var t,n="",r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return BT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BT(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(new Uint8Array(e),!0);!(t=r()).done;){var i=t.value;n+=String.fromCharCode(i)}return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var ZT=(0,R.y)("set startAuth"),KT=(0,E.L)("ssoAuth",{isStartAuth:!1}).on(ZT,(function(e,t){return Object.assign({},e,{isStartAuth:t})}));function JT(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var zT,YT,QT,XT,$T,eA,tA=function(){Dm()(Cm.iv)},nA=function(){var e=document.getElementById("splashscreen-style");e&&(e.textContent=".supreme-splash-screen { display: none; }")},rA=n(7239),iA=n.n(rA),oA=n(28792),aA=n.n(oA),sA=function(){return(0,Xn.jsx)("div",{className:"supreme-loader "+aA().supremeLoader,"data-qa-type":"supreme-sso-loader",children:zT||(zT=(0,Xn.jsx)(Qv.Z,{overlay:!0,semiTransparentBg:!1,fadeAnimation:"false",size:"xl"}))})},uA=n(61381),cA=n.n(uA),lA=function(e){var t=e.handleReloadButtonClick,n=e.title,r=e.reloadText,i=e.description;return(0,Xn.jsxs)("div",{className:cA().root,"data-qa-type":"supreme-sso-error-message",children:[(0,Xn.jsx)("div",{className:cA().header,children:n}),i&&(0,Xn.jsx)("div",{className:cA().text,children:i}),(0,Xn.jsx)(nT.Z,{onClick:t,size:"m",dataQaType:"supreme-sso-error-reload-button",children:r})]})},dA=function(e){var t=e.handleReloadButtonClick,n=e.description;return(0,Xn.jsx)(lA,{title:"Загрузка...",reloadText:"Перезагрузить форму",handleReloadButtonClick:t,description:n})},fA=function(e){var t=e.handleReloadButtonClick,n=e.description;return(0,Xn.jsx)(lA,{title:"Произошла ошибка",reloadText:"Попробовать ещё раз",handleReloadButtonClick:t,description:n})},pA=(QT=(0,h.Y)({providers:[(0,u.J)({provide:Zy.$,useValue:function(e){var t,n=e.phone,i=e.iframeClassName,o=void 0===i?iA().iframe:i,s=e.containerClassName,u=void 0===s?iA().container:s,c=e.isContextAuth,l=void 0===c||c,d=e.theme,f=void 0===d?"context-platform":d,p=e.onSuccess,v=e.fallBack,h=void 0===v?YT||(YT=(0,Xn.jsx)(sA,{})):v,g=e.renderTimeoutMessage,m=void 0===g?function(e){return(0,Xn.jsx)(dA,{handleReloadButtonClick:e})}:g,_=e.renderErrorMessage,E=void 0===_?function(e,t){return(0,Xn.jsx)(fA,{handleReloadButtonClick:e,description:t})}:_,w=e.enableOneFactorAuth,S=void 0!==w&&w,T=(0,$n.useRef)(0),A=(0,tT.t)(),O=(0,tr.x)({envManager:y.vC,authPageUrl:Ch.AUTH_PAGE_URL_TOKEN,isContextAuthPage:Ch.IS_CONTEXT_AUTH_PAGE_TOKEN}),C=O.envManager,R=O.authPageUrl,I=O.isContextAuthPage,N=null!=(t=C.get("TINKOFF_API"))?t:"",M=function(e,t,n){var i=(0,$n.useRef)(""+Date.now().toString(16)+Math.random().toString(16).slice(2)),o=(0,$n.useRef)([]),s=(0,$n.useState)(),u=JT(pe.Z,s,2),c=u[0],l=u[1],d=(0,$n.useState)(0),f=JT(pe.Z,d,2),p=f[0],v=f[1],h=(0,$n.useState)(!1),g=JT(pe.Z,h,2),m=g[0],_=g[1],E=(0,$n.useState)(!1),w=JT(pe.Z,E,2),S=w[0],T=w[1],A=(0,$n.useState)(0),O=JT(pe.Z,A,2),C=O[0],R=O[1],I=(0,$n.useState)("pending"),N=JT(pe.Z,I,2),M=N[0],x=N[1],P=(0,$n.useState)(),L=JT(pe.Z,P,2),D=L[0],j=L[1],B=(0,$n.useRef)(null),U=(0,$n.useRef)(null),F=(0,tr.x)({router:sb.kg,eventea:{token:Sa.Bv,optional:!0},prefetchPages:{token:cb.hx,optional:!0},onResolveAuthenticate:{token:Rc.TN,optional:!0},sessionManager:Rc.db,cookieManager:k.T,store:b.kR,renderMode:tb,installType:{token:bd.h,optional:!0},mainPageUrl:{token:Ch.MAIN_PAGE_URL_TOKEN},sessionStorageService:ay,envManager:y.vC,isNavScope:Ch.IS_NAV_SCOPE_TOKEN}),V=F.router,W=F.eventea,q=F.prefetchPages,H=F.onResolveAuthenticate,G=F.sessionManager,Z=F.cookieManager,K=F.store,J=F.renderMode,z=F.installType,Y=F.mainPageUrl,Q=F.sessionStorageService,X=F.envManager,$=F.isNavScope,ee="true"===X.get("FF_SHOW_YELLOW_STATUS_BAR_AT_SPLASHSCREEN"),te=V.getCurrentUrl().query.redirectTo,ne=CT();(0,$n.useEffect)((function(){ee&&Q.setItem("is_first_load","false")}),[Q,ee]),(0,$n.useEffect)((function(){performance.mark(LT);var e=performance.measure("time-to-auth-page-open","page-open",LT);null==W||W.send({project:"supreme",event:"iframeAuthPageOpened",payload:{duration:(null==e?void 0:e.duration)||0,authId:i.current}})}),[W]);var re=(0,$n.useCallback)((function(){v(p+1),x("loading"),j(void 0),ee&&nA()}),[p,ee]),ie=(0,$n.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(r){var s,u,d,f,p,v,h,g,m,y,b,E,w,S,A,k,O,C,I,N,M,P,L,D,F;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.current.push(r.data),s=jT(r),u=s.isResizeEvent,d=s.isMountEvent,f=s.isCorrectFormLoaded,p=s.isConversationTimeout,v=s.isAuthErrorMessage,h=s.isAuthMessage,g=s.isPasskeySignUpEvent,m=s.isPasskeySignInEvent,y=s.ssoCid,!g){e.next=6;break}return e.next=5,UT(B,null==(b=r.data)?void 0:b.payload);case 5:return e.abrupt("return");case 6:if(!m){e.next=10;break}return e.next=9,VT(B,null==(E=r.data)?void 0:E.payload);case 9:return e.abrupt("return");case 10:if(!y){e.next=14;break}return"otp"===U.current&&K.dispatch(ZT(!0)),l(y),e.abrupt("return");case 14:if(!u){e.next=17;break}return R(u),e.abrupt("return");case 17:if(!d){e.next=21;break}return T(!0),null==(w=B.current)||null==(w=w.contentWindow)||w.postMessage({type:"sso-pwa-kind",payload:"supreme"},"*"),e.abrupt("return");case 21:if(!f){e.next=27;break}return"entry"!==(A=null==(S=r.data)?void 0:S.payload)&&"otp"!==A||K.dispatch(ZT(!1)),U.current=A,_(!0),e.abrupt("return");case 27:if(!p){e.next=30;break}return re(),e.abrupt("return");case 30:if(!v){e.next=37;break}return C=null==(k=r.data)?void 0:k.error,(I="Войти в личный кабинет получится только после доставки карты. Вы можете скачать приложение Т-Банк на Android и пользоваться картой уже сейчас."===C)&&j("Войти в личный кабинет получится только после доставки карты."),null==W||W.send({project:"supreme",event:"iframeAuthError",payload:{error:JSON.stringify({messageCode:null==(O=r.data)?void 0:O.messageCode,error:C,cid:c}),reason:I?"prepaid":"other",authId:i.current}}),x("error"),e.abrupt("return");case 37:if(!h){e.next=44;break}return P=null==(N=r.data)?void 0:N.sessionId,L=V.getCurrentUrl(),D=L.path,t&&Z.set({name:"context_psid",path:D,value:""+P.slice(0,8)+window.btoa(D)}),e.next=43,G.updateSessionStatus(null==(M=r.data)?void 0:M.sessionId);case 43:n&&(performance.mark(DT),F=performance.measure("time-to-success-login",LT,DT),null==W||W.send({project:"supreme",event:"iframeAuthSuccess",payload:{duration:(null==F?void 0:F.duration)||0,authId:i.current}}),ee&&tA(),n());case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,W,n,re,G,Z,V,t,K,ee]),oe=(0,$n.useId)();return(0,$n.useEffect)((function(){var e=Boolean(S||C);if(("true"===X.get("DONT_USE_MOUNT_TO_SET_FORM_LOADED")||e)&&m&&("loading"===M||"timeout"===M)){ee&&(tA(),nA()),x("loaded");var t=te&&$(te)?te:Y;q&&q([t]);var n=performance.measure("time-to-iframe-loaded",LT);null==W||W.sendOnce({project:"supreme",event:"iframeAuthLoaded",payload:{duration:(null==n?void 0:n.duration)||0,authId:i.current}},oe)}}),[W,S,C,m,q,te,M,oe,Y,ee,X,$]),(0,$n.useEffect)((function(){if("loaded"===M){var e=K.getState(il.p).accessLevel;null==W||W.sendOnce({project:"supreme",event:"app-start-ui-fully-functional",payload:{userRole:e,installType:z||"unknown",renderMode:J}}),null==W||W.send({project:"supreme",event:"pageOpened.uiFullyFunctional",payload:{userRole:e||Bm.uv.anonymous,installType:z||"unknown",renderMode:J,path:V.getCurrentRoute().pattern,transitionType:null!=V.getPreviousPageUrl&&V.getPreviousPageUrl()?"spa":"hard"}})}}),[M,K,W,z,J,V]),(0,$n.useEffect)((function(){if("loading"===M){var t=setTimeout((function(){null==W||W.send({project:"supreme",event:"iframeAuthTimeout",payload:{error:JSON.stringify({hasMount:S,size:C,isFormLoaded:m,status:M,eventsLog:o.current,cid:c}),authId:i.current}}),ee&&(tA(),nA()),x("timeout")}),e);return function(){t&&clearTimeout(t)}}}),[e,c,W,S,C,m,M,ee]),(0,$n.useEffect)((function(){if(!ne)return window.addEventListener("message",ie),function(){return window.removeEventListener("message",ie)}}),[ie,ne]),(0,$n.useEffect)((function(){null==H||H.promise.then((function(){ne?(ee&&(nA(),tA()),null==n||n()):x("loading")}),console.log)}),[ne,null==H?void 0:H.promise,n,ee]),{isAuthorized:ne,status:M,iframeRef:B,resettingKey:p,reloadAuth:re,errorText:D,size:C}}(C.get("IFRAME_CONTEXT_AUTH_TIMEOUT")?Number(C.get("IFRAME_CONTEXT_AUTH_TIMEOUT")):3e4,l,p),x=M.isAuthorized,P=M.status,L=M.iframeRef,D=M.resettingKey,j=M.reloadAuth,B=M.errorText,U=M.size;if(x)return null;var F=function(e){var t=e.tinkoffApi,n=e.phone,r=e.theme,i=NT;e.isContextAuth&&(i=e.enableOneFactorAuth?IT:RT);var o=i,a=o.completeUri,s=o.authUrl;return(0,st.DI)((0,st.DB)(t,s),Object.assign({origin:"web,ib5,platform",appName:"supreme",theme:r,display:"page",complete_uri:(0,st.DB)(t,a)},n&&{phone:n})).toString()}({tinkoffApi:N,isContextAuth:l,phone:n,theme:f,enableOneFactorAuth:S}),V=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.current++,!(T.current<2)){e.next=3;break}return e.abrupt("return",j());case 3:if(t=A.getCurrentUrl(),n=t.path,r=t.search,!I(n)){e.next=7;break}return i=[R,r].join(""),e.abrupt("return",A.navigate(i));case 7:return o=[R,"?redirectTo=",encodeURIComponent(n)].join(""),e.abrupt("return",A.navigate(o));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Xn.jsxs)("div",{className:u,children:["pending"!==P&&(0,Xn.jsx)("iframe",{ref:L,title:"Авторизация",className:o,src:F,"data-qa-type":"AuthSSOIframe",style:{visibility:"loaded"===P?"visible":"hidden",maxHeight:"loaded"===P?"100%":0},allow:"publickey-credentials-get *","data-testid":"iframeAuth",height:l?U:"100%"},D),("loading"===P||"pending"===P)&&h,"timeout"===P&&m(V),"error"===P&&E(V,B)]})}}),(0,u.J)({provide:b.Ym,multi:!0,useValue:KT})]}),QT(XT=function(){})||XT);function vA(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function hA(){var e=(0,$n.useRef)(null),t=(0,$n.useState)(!1),n=vA(pe.Z,t,2),i=n[0],o=n[1],s=(0,$n.useState)(!1),u=vA(pe.Z,s,2),c=u[0],l=u[1],d=(0,$n.useState)(!1),f=vA(pe.Z,d,2),p=f[0],v=f[1],h=(0,$n.useState)(0),g=vA(pe.Z,h,2),m=g[0],b=g[1],_=(0,$n.useRef)((function(){})),E=(0,tr.x)({messenger:Ly,userAgent:L.N,eventea:{token:Sa.Bv,optional:!0},envManager:y.vC,displayMode:Ng.DISPLAY_MODE_TOKEN,mainPageUrl:Ch.MAIN_PAGE_URL_TOKEN,chatUrl:Ch.CHAT_URL_TOKEN,isContextAuthPage:Ch.IS_CONTEXT_AUTH_PAGE_TOKEN}),w=E.messenger,S=E.userAgent,T=E.eventea,A=E.envManager,k=E.displayMode,O=E.mainPageUrl,C=E.chatUrl,R=E.isContextAuthPage,I=(0,_r.y)(),N=I.actualPath.includes(C),M=R(I.actualPath),x=I.actualPath===O,P=CT(),D=(0,tT.t)(),j=kT(bi.sH,OT),B=(0,$n.useCallback)((function(){return null!=j&&j.pathname.includes(C)?D.navigate(O):null!=j&&j.pathname.includes(O)?D.navigate(j.pathname):D.navigate(O)}),[null==j?void 0:j.pathname,D,O,C]);_.current=B;var U="mobile"===S.device.type,F=(0,$n.useState)(!U),V=vA(pe.Z,F,2),W=V[0],q=V[1],H=D.getCurrentUrl().search;H.includes("openChat")&&U&&!N&&D.navigate(""+C+H).catch((function(e){null==T||T.send({project:"supreme",event:"messenger.navigateToChatPageError",payload:{error:JSON.stringify({errorMessage:e.message,errorStack:e.stack})}})})),(0,$n.useEffect)((function(){var e=w.getLocation(),t=w.getPlatformType();null==T||T.send({project:"supreme",event:"widget.chats.shown",payload:{counter:m,platform:t,location:e}})}),[]),(0,$n.useEffect)((function(){U&&o(!!N)}),[N,A,U,w,j]);var G=(0,$n.useCallback)((function(e){U&&"tmsg-screen-changed"===e.data.messageCode&&("conversation"===e.data.data?q(!0):q(!1))}),[U]);(0,$n.useEffect)((function(){if(U)return window.addEventListener("message",G),function(){return window.removeEventListener("message",G)}}),[G,U]);var Z=(0,$n.useCallback)((0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.getLocation(),n=w.getPlatformType(),!i){e.next=8;break}return e.next=5,w.close();case 5:null==T||T.send({project:"supreme",event:"widget.chats.closed",payload:{location:t}}),e.next=11;break;case 8:return e.next=10,w.open();case 10:null==T||T.send({project:"supreme",event:"widget.chats.click",payload:{counter:m,platform:n,location:t}});case 11:case"end":return e.stop()}}),e)}))),[i,w]);(0,$n.useEffect)((function(){[w.isInitialized,w.isLoading,M,x&&!P&&"standalone"===k].some(Boolean)||([w.shouldBeOpen,!U].every(Boolean)&&(o(!0),v(!0)),e.current&&w.init(e.current,{onOpen:function(){return o(!0)},onClose:U?function(){return _.current()}:function(){return o(!1)},onError:function(e,t){t&&(null==T||T.send({project:"supreme",event:"messenger-failed-render",payload:{stack:e.stack||e.message}})),l(!0)},onScreenChanged:function(e){null==T||T.send({project:"supreme",event:"messenger.screenChanged",payload:{screen:e}})},onLoading:v,onMessageCountUpdate:b,onMessageSend:function(){return D.updateCurrentRoute({query:{}})},onClearError:function(){return l(!1)}}).catch((function(){return l(!0)})))}),[w,e,T,D,U,B,M,x,P,k]),(0,$n.useEffect)((function(){if(![w.isInitialized,N,U].some((function(e){return!1===e}))){var e=D.getCurrentUrl().query,t=e.appId,n=e.shouldSend,r=e.message,i={message:null==r?void 0:r.toString(),appId:null==t?void 0:t.toString(),shouldSend:Boolean(n)};w.open(i).catch(console.error)}}),[w,w.isInitialized,N,U,A,j,D]),(0,$n.useEffect)((function(){U&&(document.body.style.overflow=i?"hidden":"visible")}),[i,U]);var K=(0,$n.useMemo)((function(){return U?AT().container+" "+(W?AT().container_mobile:AT().container_mobile_chat_list):""+AT().container}),[U,W]);return(0,Xn.jsx)(ST,{separateChatPage:U,isDialogOpen:W,isOpen:i,icon:!U&&(0,Xn.jsx)(gT,{isOpen:i,unreadCount:m,onClick:Z}),children:(0,Xn.jsx)("div",{className:K,"data-testid":"messengerContainer",children:(0,Xn.jsxs)("div",{className:AT().content,ref:e,children:[p&&($T||($T=(0,Xn.jsx)(_T,{}))),!p&&(w.isError||c)&&(0,Xn.jsx)(oT,{onClick:function(){return w.update()},onClose:function(){return w.close()}})]})})})}var gA,mA,yA="/app/bank/messenger/conversations?offset=0&use_is_archived=true",bA={provide:jy,useFactory:function(e){var t=e.envManager,n=t.get("TINKOFF_API"),r=t.get("MESSENGER_API_HOST");if(!n)throw new Error("Failed to get env.TINKOFF_API");if(!r)throw new Error("Failed to get env.MESSENGER_API_HOST");var i=Cm.Fn.webimAuth,o="/app/bank/messenger/config",a="/app/bank/events/?location=PF_common_aut&lastEventId=",s="/app/bank/api/v1/session/issueTokenByWEBIMWeb",u="/app/bank/messenger/conversations/single/bank",c="/app/bank/messenger/userInfo",l="/app/bank/messenger/conversations/unread",d="/app/bank/messenger/conversations/",f="/widget/t-messenger.js";return{allConversations:[r,yA].join(""),config:[r,o].join(""),events:[r,a].join(""),issue:[r,s].join(""),singleConversation:[r,u].join(""),userInfo:[r,c].join(""),webimAuth:[n,i].join(""),unread:[r,l].join(""),widget:[r,f].join(""),conversationById:[r,d].join("")}},deps:{envManager:y.vC}},_A=n(29956),EA=function(e){var t;return function(){return(0,tr.x)(Hy.WEBVIEW_INIT_PARAMS_TOKEN).isWebView?null:t||(t=(0,Xn.jsx)(e,{}))}},wA=(gA=(0,h.Y)({providers:[bA,(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"MESSENGER_API_HOST",optional:!0},{key:"MESSENGER_API_TIMEOUT",optional:!0},{key:"MESSENGER_WEBIM_API_TIMEOUT",optional:!0},{key:"MESSENGER_TOKENIZER_API",optional:!0},{key:"MESSENGER_IFRAME_URL",optional:!0}]}),(0,u.J)({provide:Ly,useClass:qS,deps:{envManager:y.vC,messengerApiURL:jy,sessionManager:Rc.db,store:b.kR,userAgent:L.N,eventea:(0,Y.jt)(Sa.Bv),router:Zt.l1,localStorageService:AS.A,eventeaProject:_A.X,isPwa:Oh.Im,requestLogger:Vh.gp}}),(0,u.J)({provide:Dy,useClass:eT,deps:{messengerApiURL:jy,sessionManager:Rc.db,store:b.kR,eventea:(0,Y.jt)(Sa.Bv),router:Zt.l1,eventeaProject:_A.X,requestLogger:Vh.gp}}),(0,u.J)({provide:Wn.LAYOUT_OPTIONS,useValue:{components:{feedback:function(){var e=(0,_r.y)(),t=(0,tT.t)(),n=(0,tr.x)({userAgent:L.N,envManager:y.vC,eventea:{token:Sa.Bv,optional:!0},unreadConversations:Dy,isContextAuthPage:Ch.IS_CONTEXT_AUTH_PAGE_TOKEN,chatUrl:Ch.CHAT_URL_TOKEN,webview:{optional:!0,token:Hy.WEBVIEW_MANAGER_TOKEN}}),r=n.userAgent,i=n.envManager,o=n.unreadConversations,a=n.eventea,s=n.isContextAuthPage,u=n.chatUrl,c=n.webview,l="mobile"===r.device.type,d=(null==c?void 0:c.isWebView)||"true"===i.get("FF_USE_LAZY_CHAT_LOADING")&&l,f=(0,$n.useState)(!d),p=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,f,2),v=p[0],h=p[1],g=s(e.actualPath),m=e.actualPath.includes(u),b=t.getCurrentUrl().search;return b.includes("openChat")&&l&&!m&&!g&&t.navigate(""+u+b).then((function(){h(!0)})).catch((function(e){null==a||a.send({project:"supreme",event:"messenger.navigateToChatPageError",payload:{error:JSON.stringify({errorMessage:e.message,errorStack:e.stack})}})})),(0,$n.useEffect)((function(){g||m||v||b.includes("openChat")||!d||o.init()}),[g,m,v,b,d,o]),(0,$n.useEffect)((function(){v||m&&h(!0)}),[m,v]),(0,$n.useEffect)((function(){!b.includes("openChat")&&d&&v&&o.unsubscribeEvents()}),[v,b,o,d]),v?eA||(eA=(0,Xn.jsx)(hA,{})):null}},wrappers:{feedback:EA}},multi:!0})]}),gA(mA=function(){})||mA);function SA(e){if(!window.USER_BROWSER||null===window.USER_BROWSER||"object"!=typeof window.USER_BROWSER)return!1;for(var t,n=window.USER_BROWSER,r=e.map((function(e){var t=e.match(/([a-z]*\S+[a-z]+)\D+(\d+(\.*\d+)*)/i);return{name:(null==t?void 0:t[1])||"unknown",version:null!=t&&t[2]?parseFloat(null==t?void 0:t[2]):0}})),i=0;i<r.length;i++){var o=r[i];if(n.name===o.name){var a=!o||n.version<o.version;return a&&(t=void 0,(t=new XMLHttpRequest).timeout=2e3,window.supremeLogger.sendFrontLogEvent(t)("polyfills.requestPolyfills")),a}}return!1}function TA(){try{var e=new XMLHttpRequest;e.timeout=2e3,window.supremeLogger.sendFrontLogEvent(e)("polyfills.requestPolyfills")}catch(e){}return!0}var AA,kA=(0,u.J)({provide:Wn.POLYFILL_CONDITION,useFactory:function(e){var t=e.renderMode,n=e.userAgent;if("ssr"===t||"client"===t){var r=function(e){void 0===e&&(e="");try{var t=null,n={name:"",version:"0"},r=e,i=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],o=/mobile|iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(r),a=/iphone|ipad|ipod/i.test(r);if(o){if(a)null!==(t=r.match(/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i))&&(n={name:"ios_saf",version:t[1]});else for(var s=[{regexp:/\b(?:OPR)\/(\d+)/,name:"OperaMobile"},{regexp:/\b(?:Edg)\/(\d+)/,name:"Edge"},{regexp:/(?:mobile|tablet);.*(?:firefox)\/([\w\.-]+)/i,name:"FirefoxAndroid"},{regexp:/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i,name:"UCAndroid"},{regexp:/chrome\/?\s*(\d+).+miuibrowser/i,name:"Chrome"},{regexp:/wv\).+chrome\/?\s*(\d+)/i,name:"Chrome"},{regexp:/(?:chrome(?=\/))\/?\s*(\d+)/i,name:"ChromeAndroid"},{regexp:/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i,name:"Android"}],u=0;u<s.length;u++)if(null!==(t=r.match(s[u].regexp))){n={name:s[u].name,version:t[1]};break}}else/trident/i.test(i[1])?n={name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(r)||[])[1].toString()||""}:"Chrome"===i[1]?null!=(t=r.match(/\b(OPR|Edg|Edge)\/(\d+)/))?n={name:t[1].replace("OPR","Opera").replace(/Edge?/,"Edge"),version:t[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=r.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),n={name:i[0],version:i[1]}):(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=r.match(/version\/([\d.]+)/i))&&i.splice(1,1,t[1]),n={name:(i[0]||"").replace("MSIE","IE"),version:i[1]});return{name:n.name,version:(c=n.version,void 0===c&&(c=""),parseFloat(c.replace("_",".")))}}catch(e){return{name:"Chrome",version:0}}var c}(n),i=function(e,t){try{if(!e||null===e||"object"!=typeof e)return!1;for(var n=e,r=t.map((function(e){var t=e.match(/([a-z]*\S+[a-z]+)\D+(\d+(\.*\d+)*)/i);return{name:(null==t?void 0:t[1])||"unknown",version:null!=t&&t[2]?parseFloat(null==t?void 0:t[2]):0}})),i=0;i<r.length;i++){var o=r[i];if(n.name===o.name)return!o||n.version<o.version}}catch(e){}return!1}(r,$y);return i?"("+TA+")()":"false"}return"("+SA+")("+JSON.stringify($y)+")"},deps:{renderMode:tb,userAgent:_b}}),OA=(0,u.J)({provide:c.Bi.init,useFactory:function(){return function(){n(23021)}}}),CA=(0,h.Y)({providers:[kA,OA]})(AA=function(){})||AA;function RA(){var e,t=null,n={name:"",version:"0"},r=navigator.userAgent,i=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],o=/mobile|iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(r),a=/iphone|ipad|ipod/i.test(r);if(o){if(a)null!==(t=r.match(/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i))&&(n={name:"ios_saf",version:t[1]});else for(var s=[{regexp:/\b(?:OPR)\/(\d+)/,name:"OperaMobile"},{regexp:/\b(?:Edg)\/(\d+)/,name:"Edge"},{regexp:/(?:mobile|tablet);.*(?:firefox)\/([\w\.-]+)/i,name:"FirefoxAndroid"},{regexp:/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i,name:"UCAndroid"},{regexp:/chrome\/?\s*(\d+).+miuibrowser/i,name:"Chrome"},{regexp:/wv\).+chrome\/?\s*(\d+)/i,name:"Chrome"},{regexp:/(?:chrome(?=\/))\/?\s*(\d+)/i,name:"ChromeAndroid"},{regexp:/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i,name:"Android"}],u=0;u<s.length;u++)if(null!==(t=r.match(s[u].regexp))){n={name:s[u].name,version:t[1]};break}}else/trident/i.test(i[1])?n={name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(r)||[])[1].toString()||""}:"Chrome"===i[1]?null!=(t=r.match(/\b(OPR|Edg|Edge)\/(\d+)/))?n={name:t[1].replace("OPR","Opera").replace(/Edge?/,"Edge"),version:t[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=r.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),n={name:i[0],version:i[1]}):(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=r.match(/version\/([\d.]+)/i))&&i.splice(1,1,t[1]),n={name:(i[0]||"").replace("MSIE","IE"),version:i[1]});window.USER_BROWSER={name:n.name,version:(e=n.version,void 0===e&&(e=""),parseFloat(e.replace("_",".")))}}var IA={provide:Wn.RENDER_SLOTS,useFactory:function(e){var t=e.renderMode;return"ssr"===t||"client"===t?[]:{type:Hr.LO.inlineScript,slot:Fb.HEAD_PERFORMANCE,payload:"("+RA+")()"}},deps:{renderMode:tb}},NA=(0,R.y)("isActive Pull to refresh"),MA=(0,E.L)("P2R",{isActive:!1}).on(NA,(function(e,t){return Object.assign({},e,{isActive:t})})),xA=n(20986),PA=n(10521),LA=n.n(PA),DA=n(53301),jA=n.n(DA),BA=["className","rotate","opacity","isRefreshing"],UA=function(e){var t,n=e.className,r=e.rotate,i=e.opacity,o=e.isRefreshing,a=(0,d.Z)(e,BA);return er().createElement("g",Object.assign({},a,{strokeLinecap:"round",className:LA()(jA()["spinner-blade"],(t={},t[jA()["refreshing-spinner-blade"]]=o,t),n),style:{"--t-opacity":i,"--t-rotate":r+"deg"}}),er().createElement("line",{y1:"7",y2:"13"}))},FA=function(e,t){var n=12+9*e,r=25+n;return t<n?0:t>r?1:(t-n)/(r-n)},VA=Array.from({length:8},(function(e,t){return{rotate:45*t,index:t}})),WA=["progress","isRefreshing","color","thickness"],qA=function(e){var t,n=e.progress,r=void 0===n?0:n,i=e.isRefreshing,o=void 0!==i&&i,a=e.color,s=void 0===a?"#676567":a,u=e.thickness,c=void 0===u?3.5:u,l=(0,d.Z)(e,WA),f=(0,$n.useMemo)((function(){return VA.map((function(e){return(0,xA.Z)({},e,{opacity:o?1:FA(e.index,r)})}))}),[o,r]);return er().createElement("svg",Object.assign({focusable:"false"},l,{viewBox:"0 0 35 35",width:"35",height:"35",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:s,strokeWidth:c,className:LA()(jA().spinner,(t={},t[jA()["resfreshing-spinner"]]=o,t[jA()["transition-spinner"]]=o,t))}),er().createElement("g",{transform:"translate(17.5 17.5)"},f.map((function(e){return er().createElement(UA,{key:e.rotate,rotate:e.rotate,opacity:e.opacity,isRefreshing:o})}))))},HA=n(78636),GA=n.n(HA),ZA=function(e){var t=e.progress,n=e.shouldInitiateRefresh;return(0,Xn.jsx)("div",{className:GA().loader,style:{visibility:t?"visible":"hidden"},"data-qa-type":"pwa-ib/pull-to-refresh-component",children:(0,Xn.jsx)(qA,{progress:t,isRefreshing:n})})};var KA,JA,zA=['[data-qa-type="uikit/carousel"]','[data-qa-type="uikit/popup"]','[data-qa-type="uikit/scroll.content"]','[data-qa-type="tui/dialog-layout"]','[data-qa-type="tui/bottom-sheet"]',"[data-floating-ui-portal]",'[data-qa-type="tui/bottom-sheet.overlay"]','[data-qa-type="pie-chart-carousel"]'],YA=function(e){var t=e.isPullable,n=void 0===t||t,r=e.onRefresh,i=e.children,o=e.pullDownThreshold,a=void 0===o?65:o,s=e.resistance,u=void 0===s?3:s,c=e.id,l=(0,$n.useRef)(null),d=(0,$n.useRef)(!1),f=(0,$n.useRef)(0),p=(0,$n.useRef)(0),v=(0,$n.useRef)(0),h=(0,$n.useRef)(0),g=(0,tr.x)(y.vC),m=(0,$n.useRef)(!1),b=(0,$n.useRef)(),_=(0,$n.useRef)(),E=(0,$n.useState)(0),w=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,E,2),S=w[0],T=w[1],A=(0,$n.useCallback)((function(){var e,t=g.get("MAIN_THEME_COLOR")||"var(--tui-background-base)";return(null==(e=document)||null==(e=e.querySelector("meta[name=theme-color]"))?void 0:e.getAttribute("content"))||t}),[g]),k=(0,$n.useCallback)((function(){requestAnimationFrame((function(){if(d&&(d.current=!1),l.current&&"none"!==l.current.style.transition)var e=setTimeout((function(){clearTimeout(e),l.current&&(l.current.style.transition="none")}),350)}))}),[]),O=(0,$n.useCallback)((function(){k(),T(0)}),[k]),C=(0,$n.useCallback)((function(e){var t,n,r,i,o=e.target;(null!=(t=null==(n=document.body)||null==n.getBoundingClientRect||null==(n=n.getBoundingClientRect())?void 0:n.y)?t:0)<-15?m.current=!1:(m.current=!0,o instanceof Element&&(_.current=zA.reduce((function(e,t){var n;return null!=(n=null!=e?e:null==o?void 0:o.closest(t))?n:null}),null)),b.current=null!=(r=null==(i=_.current)?void 0:i.scrollLeft)?r:null,f.current=e.targetTouches[0].clientY,p.current=f.current)}),[]),R=(0,$n.useCallback)((function(e){var t,n,i;if(m.current){switch(null==(t=_.current)?void 0:t.getAttribute("data-qa-type")){case"uikit/scroll.content":if((null==(n=_.current)?void 0:n.scrollLeft)!==b.current)return;break;case"uikit/carousel":case"uikit/popup":case"tui/dialog-layout":case"tui/bottom-sheet":case"pie-chart-carousel":case"tui/bottom-sheet.overlay":return}if("string"!=typeof(null==(i=_.current)?void 0:i.getAttribute("data-floating-ui-portal"))&&"contain"!==document.documentElement.style.overscrollBehaviorY){var o=e.targetTouches[0].clientY;if(o>f.current){p.current=o;var s=(p.current-f.current)/u;v.current=s,h.current=Math.floor(s/a*100),s>=a&&(d.current=!0,r().then(O).catch(O),l.current&&(l.current.style.transition="height 0.35s ease-in-out"));var c=d.current?a:s;T(c)}}}}),[O,r,a,u]),I=(0,$n.useCallback)((function(){m.current=!1,_.current=null,b.current=null,f.current=0,p.current=0,h.current=0,d.current||O()}),[O]);return(0,$n.useEffect)((function(){if(n)return window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("touchmove",R,{passive:!1}),window.addEventListener("touchend",I),function(){window.removeEventListener("touchstart",C),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",I)}}),[n,C,R,I]),(0,Xn.jsxs)("div",{id:c,children:[(0,Xn.jsx)("div",{ref:l,style:{height:S,backgroundColor:A()},children:(0,Xn.jsx)(ZA,{progress:h.current,shouldInitiateRefresh:d.current})}),(0,Xn.jsx)("div",{children:i})]})};function QA(e){var t=e.children,n=(0,tr.x)(L.N),r=(0,Sr.o)(MA).isActive,i=(0,$n.useCallback)((function(){return Promise.resolve().then((function(){return window.location.reload()}))}),[]);return(0,Xn.jsx)(YA,{id:"pull_to_refresh_id",isPullable:r&&"android"!==n.mobileOS,onRefresh:i,resistance:3,pullDownThreshold:65,children:t})}var XA=(KA=(0,h.Y)({providers:[(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useValue:{wrappers:{layout:function(e){return function(t){return(0,Xn.jsx)(QA,{children:(0,Xn.jsx)(e,Object.assign({},t))})}}}}}),(0,u.J)({provide:b.Ym,multi:!0,useValue:MA})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,[(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.pageService,n=e.isPwa,r=e.store;return function(){var e;if(n()){var i,o,a=(null!=(e=t.getConfig())?e:{}).enablePullToRefresh,s=null!=a&&a;r.dispatch(NA(s)),s?null==(i=document.querySelector("body"))||i.removeAttribute("style"):null==(o=document.querySelector("body"))||o.setAttribute("style","overscroll-behavior-y: contain;")}}},deps:{pageService:Zt.Y9,isPwa:Oh.Im,store:b.kR}})]))}),KA(JA=function(){})||JA),$A=(0,Y.V3)("HTTP_CLIENT_FACTORY_TOKEN"),ek=(0,Y.V3)("HTTP_CLIENT_SETUP_FACTORY_OPTIONS_TOKEN"),tk=(0,Y.V3)("HTTP_CLIENT_INTERCEPTORS_TOKEN",{multi:!0});n(87346);var nk,rk=(0,Y.V3)("REACT_QUERY_CLIENT_TOKEN"),ik=(0,Y.V3)("TMP_REACT_QUERY_CACHE_TOKEN"),ok=(0,Y.V3)("REACT_QUERY_CLIENT_OPTIONS_TOKEN"),ak=(0,Y.V3)("_DANGEROUS_GLOBAL_QUERY_CLIENT_CONTEXT_TOKEN"),sk=(0,Y.V3)("GLOBAL_QUERY_CLIENT_FEATURE_ENABLED_TOKEN"),uk=(0,Y.V3)("GLOBAL_QUERY_CLIENT_PROXY_TOKEN"),ck=(0,T.J)({name:"ReactQueryModule",providers:[(0,u.J)({provide:ik,useFactory:function(){return new _m}}),(0,u.J)({provide:ok,useValue:{staleTime:3e5,retry:!1,refetchOnWindowFocus:!1}}),(0,u.J)({provide:rk,useFactory:function(e){var t=e.externalQueryCache,n=e.queryOptions,r=t||new _m;return new km({queryCache:r,defaultOptions:{queries:n}})},deps:{externalQueryCache:ik,queryOptions:ok}}),(0,u.J)({provide:ak,useFactory:function(e){var t=e.globalQueryClient,n=e.featureEnabled;return t&&!0===n?(0,$n.createContext)(t):void 0},deps:{globalQueryClient:{token:Ng._DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN,optional:!0},featureEnabled:{token:sk,optional:!0}}}),(0,u.J)({provide:uk,useFactory:function(e){var t,n=e.globalQueryClient,i=e.featureEnabled;if(n)return{invalidateQueries:(t=(0,r.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.queryKey,Array.isArray(r)&&0!==r.length){e.next=3;break}throw new Error("Query Key должен быть непустым массивом строк, передан "+r);case 3:if(i){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",n.invalidateQueries(r));case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}},deps:{globalQueryClient:{token:Ng._DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN,optional:!0},featureEnabled:{token:sk,optional:!0}}})]});!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.HEAD="HEAD",e.PATCH="PATCH",e.DELETE="DELETE"}(nk||(nk={}));var lk=function(){function e(e){this.httpClient=void 0,this.baseUrl=void 0,this.role=void 0,this.getMotherApiSessionId=void 0,this.httpClient=e.httpClientFactory({slug:"accounts-light-api",restlessValidator:function(e){if(e.response){var t=e.response.body;return"OK"===t.resultCode&&"payload"in t?void 0:{isSuccess:!1,restlessStatusCode:t.resultCode,error:new Error("errorMessage"in t?t.errorMessage:"API response resultCode is "+t.resultCode)}}}}),this.baseUrl=e.baseUrl,this.role=e.role,this.getMotherApiSessionId=e.getMotherApiSessionId}var t=e.prototype;return t.getAccountsLight=function(){var e=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpClient.request({method:nk.GET,baseUrl:this.baseUrl,url:"accounts_light_ib",query:{sessionid:this.getMotherApiSessionId(),origin:this.getOrigin()},clientValidator:!1});case 2:return t=e.sent,n=t.body,e.abrupt("return",n.payload);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getOrigin=function(){var e="web,ib5,platform";return this.role.mode===Bm.AR.junior?e+",tjunior":e},e}();[].concat(["account-details-api"],["get-account-details"]);var dk,fk={staleTime:3e5,cacheTime:void 0!==(null==(dk=n.g)||null==(dk=dk.process)||null==(dk=dk.versions)?void 0:dk.node)?void 0:3e5,initialData:void 0,meta:void 0,queryKey:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,["accounts-light-api","get-accounts-light"]),["1.0.0"])},pk=(0,Y.V3)("ACCOUNTS_LIGHT_API_TOKEN"),vk=(0,Y.V3)("ACCOUNTS_LIGHT_API_OPTIONS_TOKEN"),hk=(0,Y.V3)("FETCH_ACCOUNTS_LIGHT_QUERY_TOKEN"),gk=["env","roleApi","httpClientFactory"],mk=(0,T.J)({name:"AccountsLightApiModule",providers:[(0,u.J)({provide:vk,useFactory:function(e){var t=e.env,n=e.roleApi,r=e.httpClientFactory,i=(0,d.Z)(e,gk);return Object.assign({},i,{httpClientFactory:r,baseUrl:t.motherApi,role:n.getValueSync().role})},deps:{env:Ng.MICRO_DI_ENV_TOKEN,httpClientFactory:$A,roleApi:Ng.MICRO_DI_ROLE_API_TOKEN,getMotherApiSessionId:Ng.MICRO_DI_GET_MOTHER_API_SESSION_ID}}),(0,u.J)({provide:pk,useFactory:function(e){var t=e.options;return new lk(t)},deps:{options:vk}}),(0,u.J)({provide:hk,useFactory:function(e){var t,n=e.accountsLightClient,r=e.globalQueryClient,i=e.featureEnabled,o=e.localQueryClient;return t=i&&r?r:o,function(){return t.fetchQuery(Object.assign({},fk,{queryFn:n.getAccountsLight.bind(n)}))}},deps:{accountsLightClient:pk,globalQueryClient:{token:Ng._DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN,optional:!0},featureEnabled:{token:sk,optional:!0},localQueryClient:rk}})]}),yk="cache",bk=yk,_k=function(e){var t=e.httpMethod,n=void 0===t?"GET":t,r=e.url,i=e.payload,o=e.query,a=e.rawQueryString,s=void 0===a?"":a,u=e.additionalCacheKey,c=void 0===u?"":u;return n.toLowerCase()+r+JSON.stringify(i||"")+JSON.stringify(o||"")+s+JSON.stringify(c)},Ek=function(e,t){void 0===t&&(t=_k);var n=uu()("key",e.getInternalMeta(yk));return n||(n=t(e.getRequest()),e.updateInternalMeta(yk,{key:n})),n},wk=function(e){var t,n,r=void 0===e?{}:e,i=r.shouldExecute,o=void 0===i||i,a=r.getCacheKey,s=void 0===a?void 0:a,u={},c=function(e){var t=e.getState(),n=Ek(e,s);if(n&&u[n]){var r=u[n];delete u[n],r.forEach((function(e){e({status:t.status,response:t.response,error:t.error})}))}};return{shouldExecute:(t="deduplicate",n=o,function(e){var r,i,o,a,s,u=e.getRequest(),c=null!==(r=uu()("cacheForce",u))&&void 0!==r&&r,l=null!==(i=uu()(t+"CacheForce",u))&&void 0!==i?i:c,d=null!==(o=uu()("cache",u))&&void 0!==o?o:n,f=null!==(a=uu()(t+"Cache",u))&&void 0!==a?a:d;return e.getStatus()===kS.INIT&&e.updateExternalMeta(yk,((s={forced:c,enabled:d})[t+"Enabled"]=f,s[t+"Force"]=l,s)),l?e.getStatus()===kS.COMPLETE:f}),init:function(e,t){var n=Ek(e,s);if(u[n])return e.updateExternalMeta(bk,{deduplicated:!0}),void u[n].push(t);u[n]=[],t()},complete:function(e,t){c(e),t()},error:function(e,t){c(e),t()}}};function Sk(e){return Object.fromEntries(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,e.keys()).map((function(t){var n=e.getAll(t),r=t.includes("[]")||n.length>1;return[t,r?n:n[0]]})))}function Tk(e){var t=e.url,n=e.baseUrl,r=e.method,i=e.signal,o=e.query,a=e.timeout,s=e.headers,u=e.body,c=e.type,l=e.withCredentials,d=e.responseType,f=e.attaches,p=function(e,t){return t?/^[a-z]+:\/\//.test(e)?(console.warn("Переданы одновременно абсолютный url "+e+" и baseUrl "+t+". Используем url, но это должно быть ошибкой."),new URL(e)):new URL(e.replace(/^\/?/,""),t.replace(/\/?$/,"/")):new URL(e)}(t,n),v=function(e){return e instanceof URLSearchParams?Sk(e):e}(o),h=function(e){if(e){if(Ak(e)){var t={};return e.forEach((function(e,n){t[n]=e})),t}return"object"==typeof e?e:void 0}}(s);return{httpMethod:r,signal:i,url:p.href,timeout:a,query:v,headers:h,payload:u,type:null!=c?c:"json",withCredentials:l,responseType:d,attaches:f}}var Ak=function(e){return e instanceof Headers};function kk(e){return e.getState()}function Ok(e,t){return e.setState(t)}var Ck=["httpClientRequest"],Rk=function(e,t){var n=function(e){var t=e.getState().response,n=e.getInternalMeta("PROTOCOL_HTTP").response;if(n)return{body:t,status:n.status,headers:Object.fromEntries(n.headers)}}(e);Ok(e,{httpClientResponse:n}),t()};function Ik(e,t){var n;return Object.prototype.hasOwnProperty.call(t,"withCredentials")&&(n=t.withCredentials),Object.prototype.hasOwnProperty.call(e,"withCredentials")&&(n=e.withCredentials),n}function Nk(e,t){var n={};return Object.prototype.hasOwnProperty.call(t,"query")&&(t.query instanceof URLSearchParams?Object.assign(n,Sk(t.query)):Object.assign(n,t.query)),Object.prototype.hasOwnProperty.call(e,"query")&&(e.query instanceof URLSearchParams?Object.assign(n,Sk(e.query)):Object.assign(n,e.query)),n}function Mk(e,t){var n={};return Object.prototype.hasOwnProperty.call(t,"headers")&&(t.headers instanceof Headers?Object.assign(n,Object.fromEntries(t.headers.entries())):Object.assign(n,t.headers)),Object.prototype.hasOwnProperty.call(e,"headers")&&(e.headers instanceof Headers?Object.assign(n,Object.fromEntries(e.headers.entries())):Object.assign(n,e.headers)),n}function xk(e){var t=e.slug;return{complete:function(e,n){var r=kk(e),i=r.httpClientRequest,o=r.httpClientResponse;if(i.clientValidator){var a,s,u=null!=(a=i.slug)?a:t;try{s=i.clientValidator({slug:u,request:i,response:o})||{isSuccess:!0}}catch(e){throw console.warn(u+": clientValidator выбросил исключение "+e.message+". Если ошибка вызвана умышленным использованием throw конструкции, то настоятельно рекомендуется вместо этого возвращать ClientValidator."),e}s.isSuccess?Ok(e,{httpClientMonitoring:Object.assign({},r.httpClientMonitoring,{clientOk:!0})}):Ok(e,{httpClientMonitoring:Object.assign({},r.httpClientMonitoring,{clientOk:!1}),error:s.error,status:kS.ERROR})}n()},error:function(e,n){var r=kk(e),i=r.error,o=r.httpClientRequest,a=r.httpClientResponse;if(o.errorClientInterceptor){var s,u,c=null!=(s=o.slug)?s:t;try{u=o.errorClientInterceptor(i||null,{slug:c,request:o,response:a})||{isSuccess:!1,error:i}}catch(e){throw console.warn(c+": errorClientInterceptor выбросил исключение "+e.message+". Если ошибка вызвана умышленным использованием throw конструкции, то настоятельно рекомендуется вместо этого возвращать ClientErrorInterceptor."),e}u.isSuccess?Ok(e,{httpClientMonitoring:Object.assign({},r.httpClientMonitoring,{clientOk:!0}),error:void 0,status:kS.COMPLETE}):Ok(e,{httpClientMonitoring:Object.assign({},r.httpClientMonitoring,{clientOk:!1}),error:u.error,status:kS.ERROR})}n()}}}function Pk(){function e(e){return function(t,n){var r=kk(t).httpClientMonitoring;Ok(t,{httpClientMonitoring:Object.assign({},r,{httpOk:e})}),n()}}return{complete:e(!0),error:e(!1)}}function Lk(e,t){return"ABORT_ERR"===(null==t?void 0:t.code)?"aborted":"ERR_HTTP_REQUEST_TIMEOUT"===(null==t?void 0:t.code)?"apiTimeout":e?200===e?"200":e>=200&&e<300?"2xx":[400,401,403,404].includes(e)?""+e:e>=400&&e<500?"4xx":[500,502,503,504].includes(e)?""+e:e>=500&&e<600?"5xx":"unknown":"empty"}function Dk(e){var t=e.eventea,n=e.slug;return{error:function(e,r){var i,o=e.getRequest(),a=kk(e),s=a.error,u=a.httpClientRequest,c=a.httpClientResponse,l=a.httpClientMonitoring,d=void 0===l?{}:l;if(!0!==d.clientLeftEventSent){var f=d.requestTime,p=d.restlessOk,v=d.restlessStatusCode,h=d.clientOk,g=d.trackingId,m=Date.now();t.send({project:"supreme",event:"request-end-error",payload:{trackingId:g,stack:null==s?void 0:s.stack,statusCode:Lk(null==c?void 0:c.status,s),slug:null!=(i=u.slug)?i:n,url:""+o.url,error:(null==s?void 0:s.message)||"",clientOk:h,restlessStatusCode:v,restlessOk:p,initiator:"",duration:m-(null!=f?f:m)}}),r()}else r()}}}function jk(e){var t=e.eventea,n=e.slug,r=function(e,r){var i=e.getRequest(),o=kk(e),a=o.error,s=o.httpClientRequest,u=o.httpClientResponse,c=o.httpClientMonitoring,l=void 0===c?{}:c;if(!0!==l.clientLeftEventSent){var d=l.requestTime,f=l.httpOk,p=l.restlessOk,v=l.restlessStatusCode,h=l.clientOk;if(void 0!==f){var g,m=null!=(g=null!=h?h:p)?g:f,y=s.slug,b=s.emptyResponseDataDetector,_=Date.now();t.send({project:"supreme",event:"request-end",payload:{initiator:"",stack:(null==a?void 0:a.stack)||"",url:""+i.url,slug:null!=y?y:n,result:m?"success":"error",statusCode:Lk(null==u?void 0:u.status,a),duration:_-(null!=d?d:_),restlessOk:p,restlessStatusCode:v,clientOk:h,error:null==a?void 0:a.message,emptyResponseData:u&&(null==b?void 0:b({response:u}))}})}r()}else r()};return{complete:r,error:r}}function Bk(e){var t=e.eventea,n=e.slug,r=function(e,t){var n=kk(e).httpClientMonitoring,r=void 0===n?{}:n;r.pageHideEventListener&&(window.removeEventListener("pagehide",r.pageHideEventListener),Ok(e,{httpClientMonitoring:Object.assign({},r,{pageHideEventListener:void 0})})),t()};return{init:function(e,r){var i,o,a=e.getRequest(),s=kk(e).httpClientRequest;t.send({project:"supreme",event:"request-start",payload:{initiator:"",url:""+a.url,slug:null!=(i=s.slug)?i:n}}),o=function(){var r=kk(e).httpClientMonitoring,i=e.getRequest().url,a=kk(e).httpClientRequest.slug;if(!0!==(null==r?void 0:r.clientLeftEventSent)){var s,u,c=Date.now();t.send({project:"supreme",event:"request-end",payload:{stack:"",initiator:"",url:null!=i?i:"",slug:null!=a?a:n,result:"error",statusCode:"clientLeft",duration:c-(null!=(s=null==r?void 0:r.requestTime)?s:c)}}),t.send({project:"supreme",event:"request-end-error",payload:{error:"",initiator:"",url:null!=i?i:"",slug:null!=a?a:n,statusCode:"clientLeft",duration:c-(null!=(u=null==r?void 0:r.requestTime)?u:c)}})}o&&window.removeEventListener("pagehide",o),Ok(e,{httpClientMonitoring:Object.assign({},r,{pageHideEventListener:void 0,clientLeftEventSent:!0})})},window.addEventListener("pagehide",o),Ok(e,{httpClientMonitoring:{requestTime:Date.now(),pageHideEventListener:o}}),r()},complete:r,error:r}}function Uk(){var e=function(e,t){var n,r,i=kk(e),o=i.httpClientResponse,a=i.httpClientMonitoring;if(o){var s=(n=o).headers["x-tracking-id"]?n.headers["x-tracking-id"]:(r=n.body)&&"object"==typeof r&&Object.prototype.hasOwnProperty.call(r,"trackingId")&&"string"==typeof r.trackingId?n.body.trackingId:void 0;s&&Ok(e,{httpClientMonitoring:Object.assign({},a,{trackingId:s})})}t()};return{complete:e,error:e}}var Fk=function(e){function t(t){var n,r=t.message,i=t.restlessStatusCode;return(n=e.call(this,r)||this).restlessStatusCode=void 0,n.restlessStatusCode=null!=i?i:void 0,n}return(0,_t.Z)(t,e),t}((0,Nt.Z)(Error));function Vk(e){var t=e.restlessValidator,n=e.slug,r=e.interceptorValidators;return{complete:function(e,i){var o,a=kk(e).httpClientRequest.restlessValidator;t||r.length||a||i(),a&&t&&console.warn("Использование одновременно HttpClient и Request restless validator'ов");var s=function(e,t){return function(n){var r=t?function(e){return function(t){var n;try{n=e(t)}catch(e){throw console.warn(t.slug+": restlessValidator выбросил исключение "+e.message+". Если ошибка вызвана умышленным использованием throw конструкции, то настоятельно рекомендуется вместо этого возвращать RestlessValidatorResult."),e}return n||{isSuccess:!0}}}(t)(n):{isSuccess:!0};return e.reduce((function(e,t){try{return t(n,e)||{isSuccess:!0}}catch(e){throw console.warn(n.slug+": restlessValidatorInterceptor выбросил исключение "+e.message+". Если ошибка вызвана умышленным использованием throw конструкции, то настоятельно рекомендуется вместо этого возвращать RestlessValidatorResult."),e}}),r)}}(r,null!=a?a:t),u=kk(e),c=u.httpClientMonitoring,l=u.httpClientRequest,d=s({request:l,response:u.httpClientResponse,slug:null!=(o=l.slug)?o:n});if(d.isSuccess)Ok(e,{httpClientMonitoring:Object.assign({},c,{restlessOk:!0})});else{var f,p=d.restlessStatusCode;f="error"in d?d.error:new Fk({message:d.message,restlessStatusCode:p}),Ok(e,{httpClientMonitoring:Object.assign({},c,{restlessOk:!1,restlessStatusCode:null!=p?p:void 0}),error:f,status:kS.ERROR})}i()}}}function Wk(e){var t=function(){var t=(0,r.Z)(a().mark((function t(n,i){var o,s,u,c,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=kk(n),s=o.error,u=o.httpClientResponse,c=o.httpClientRequest,s||u){t.next=4;break}return i(),t.abrupt("return");case 4:return t.next=6,e.reduce(function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return r=e.sent,i=r.result,o=r.error,e.next=8,n({request:c},i,o);case 8:return s=e.sent,e.abrupt("return",{result:s});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve({error:s,result:u}));case 6:(l=t.sent).error?Ok(n,{httpClientResponse:l.result,error:l.error,status:kS.ERROR}):Ok(n,{httpClientResponse:l.result,status:kS.COMPLETE}),i();case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return{complete:t,error:t}}function qk(e){var t=e.eventea,n=e.interceptors;return function(e){void 0===e&&(e={});var o=e,s=o.getCacheKey,u=o.restlessValidator,c=o.requestDefaults,l=o.slug,f=void 0===l?"MISSING":l,p=o.querySerializer,v=(n||[]).filter((function(e){return"restlessValidatorInterceptor"in e})).map((function(e){return e.restlessValidatorInterceptor}));return function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=void 0);var o=RS([{init:function(e,t){var n=e.getState().request,r=n.httpClientRequest,i=(0,d.Z)(n,Ck);if(!r)throw new Error("HttpClient adapter plugin: you should pass httpClientRequest only");Ok(e,{request:Object.assign({},i,Tk(r)),httpClientRequest:r}),t()}}].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,e),[{complete:Rk,error:Rk},US({querySerializer:n})]));return{request:function(e){return(0,r.Z)(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={},Object.prototype.hasOwnProperty.call(t,"withCredentials")&&(r.withCredentials=Ik(e,t)),Object.prototype.hasOwnProperty.call(t,"query")&&(r.query=Nk(e,t)),Object.prototype.hasOwnProperty.call(t,"headers")&&(r.headers=Mk(e,t)),n.abrupt("return",o({httpClientRequest:Object.assign({},e,r)}));case 5:case"end":return n.stop()}}),n)})))()}}}([wk(s?{getCacheKey:s}:void 0),{complete:function(e,t){t({response:kk(e).httpClientResponse})}},n?Wk(n.map((function(e){return e.resultInterceptor}))):null,t?Dk({eventea:t,slug:f}):null,t?jk({eventea:t,slug:f}):null,xk({slug:f}),Vk({restlessValidator:u,slug:f,interceptorValidators:v}),Uk(),Pk(),t?Bk({eventea:t,slug:f}):null].filter((function(e){return null!=e})),c,p)}}var Hk,Gk,Zk,Kk,Jk,zk,Yk,Qk,Xk,$k,eO=(0,T.J)({name:"HubertHttpClientModule",providers:[(0,u.J)({provide:ek,scope:l.s.SINGLETON,useFactory:function(e){return{eventea:e.eventea,interceptors:e.interceptors}},deps:{eventea:{token:Ng.MICRO_DI_EVENTEA_TOKEN,optional:!0},interceptors:{token:tk,optional:!0}}}),(0,u.J)({provide:$A,scope:l.s.SINGLETON,useFactory:function(e){return qk(e.options)},deps:{options:ek}})]});function tO(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return nO(t,void 0!==n&&n<r?n:r)}return e(t,n)}function nO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rO(e){for(var t,n=Object.values(Zk).reduce((function(e,t){return e[t]=[],e}),{}),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nO(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e,!0);!(t=r()).done;){var i=t.value;n[i.accountType].push(i)}return n}function iO(e){return oO.apply(this,arguments)}function oO(){return(oO=(0,r.Z)(a().mark((function e(t){var n,r,o,s,u,c,l,d,f,p,v,h,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetchAccountsQuery,e.next=3,n();case 3:return r=e.sent,o=rO(r),s=o[Zk.Current].length,u=[].concat(tO(i.Z,o[Zk.Current]),tO(i.Z,o[Zk.CurrentKidsImported])).reduce((function(e,t){return e+t.cards.length}),0),c=o[Zk.Credit].reduce((function(e,t){return e+t.cards.length}),0),l=o[Zk.CashLoan].length+o[Zk.POS].length,d=o[Zk.Saving].length+o[Zk.SharedSaving].length,f=o[Zk.MultiDeposit].length+o[Zk.SharedMultiDeposit].length,p=o[Zk.CurrentKids].length,v=r.reduce((function(e,t){if("creationDate"in t){var n,r=null==(n=t.creationDate)?void 0:n.milliseconds;if(r&&(0===e||r<e))return r}return e}),0),h=Array.from(r.reduce((function(e,t){return"currency"in t&&e.add(t.currency.name),e}),new Set)),g=Array.from(o[Zk.ExternalAccount].reduce((function(e,t){var n,r=null==(n=t.card.brand)?void 0:n.name;return r&&e.add(r),e}),new Set)),e.abrupt("return",{ibAccountNumber:s,ibAccountCreated:v,ibDebitCardsCount:u,ibCreditCardsCount:c,ibCreditCount:l,ibSavingsCount:d,ibDepositCount:f,ibKidsCount:p,ibAccountCurrencies:h,ibOtherCards:g});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.NEW="NEW",e.ACTIVE="ACTIVE",e.CLOSED="CLOSED"}(Hk||(Hk={})),function(e){e.Pro="Pro",e.Premium="Premium"}(Gk||(Gk={})),function(e){e.CurrentKids="CurrentKids",e.SharedCurrentKids="SharedCurrentKids",e.CurrentKidsImported="CurrentKidsImported",e.Telecom="Telecom",e.ExternalAccount="ExternalAccount",e.MultiDeposit="MultiDeposit",e.SharedMultiDeposit="SharedMultiDeposit",e.KupiVKredit="KupiVKredit",e.Current="Current",e.SharedCurrent="SharedCurrent",e.ImportedCurrent="ImportedCurrent",e.CashLoan="CashLoan",e.ImportedCredit="ImportedCredit",e.SharedCredit="SharedCredit",e.Credit="Credit",e.Saving="Saving",e.SharedSaving="SharedSaving",e.POS="POS",e.CurrentPOS="CurrentPOS"}(Zk||(Zk={})),function(e){e.CL_AUTO_EQUITY="CL AUTO EQUITY",e.CL_DIRECT_AUTO="CL DIRECT AUTO",e.CL_HOME_EQUITY_AMOUNT_NOW="CL HOME EQUITY AMOUNT NOW",e.CL_HOME_EQUITY="CL_HOME_EQUITY",e.CL_REFINANCE_MORTGAGE="CL_REFINANCE_MORTGAGE",e.CL_MORTGAGE="CL_MORTGAGE",e.CL_REFINANCE="CL REFINANCE",e.CL_USUAL="CL USUAL"}(Kk||(Kk={})),function(e){e.CI_AUTO="CI AUTO",e.CI_PAPERLESS="CI PAPERLESS",e.CI_UNIVERSAL="CI UNIVERSAL",e.CI_SMART_UNIVERSAL="CI SMART UNIVERSAL",e.CI_USUAL="CI USUAL"}(Jk||(Jk={})),function(e){e.Normal="normal",e.Expired="expired",e.ExpiresSoon="expires_soon"}(zk||(zk={})),function(e){e.TO_CARD="TO_CARD",e.TO_DEPOSIT="TO_DEPOSIT"}(Yk||(Yk={})),function(e){e.ClientVerified="ClientVerified",e.ClientNotVerified="ClientNotVerified",e.ClientPartlyVerified="ClientPartlyVerified"}(Qk||(Qk={})),function(e){e.NORM="NORM",e.CLBL="CLBL",e.DNBL="DNBL",e.OVDU="OVDU",e.FSEL="FSEL",e.FCLS="FCLS",e.TUNL="TUNL",e.CLSC="CLSC",e.CLSB="CLSB",e.CRBL="CRBL",e.NACT="NACT",e.CAIN="CAIN",e.ARSS="ARSS",e.ARMF="ARMF",e.ARSF="ARSF",e.ARMS="ARMS",e.TRSH="TRSH",e.XXXX="XXXX"}(Xk||(Xk={})),function(e){e.NORM="NORM",e.CLSN="CLSN",e.CPTD="CPTD",e.FOUN="FOUN",e.FRDA="FRDA",e.FRDB="FRDB",e.FRDS="FRDS",e.FRDT="FRDT",e.LOST="LOST",e.NOAU="NOAU",e.BLIB="BLIB",e.FRDI="FRDI",e.NRCV="NRCV",e.RTNB="RTNB",e.RTNC="RTNC",e.RTND="RTND",e.RTNP="RTNP",e["STLС"]="STLС",e.CLBL="CLBL",e.DNBL="DNBL",e.OVDU="OVDU",e.FSEL="FSEL",e.FCLS="FCLS",e.TUNL="TUNL",e.CLSC="CLSC",e.CLSB="CLSB",e.CRBL="CRBL",e.VCLS="VCLS",e.SPBL="SPBL",e.RTRN="RTRN",e.STLN="STLN",e.PICK="PICK",e.NREN="NREN",e.ACTF="ACTF",e.CALL="CALL",e.CLFR="CLFR",e.CMPR="CMPR",e.DMGD="DMGD",e.FGBL="FGBL",e.NGTV="NGTV",e.NEXP="NEXP",e.NPIN="NPIN",e.RNGB="RNGB",e.STLC="STLC",e.EXPC="EXPC",e.CLSD="CLSD",e.XXXX="XXXX"}($k||($k={}));var aO=15e3;function sO(e){return uO.apply(this,arguments)}function uO(){return uO=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.abrupt("return",new Promise((function(e,t){var r,i=setTimeout((function(){return t(new Error("Timeout has been reached while collecting profile user properties"))}),aO),o=function(t){if(t.subscriptionLoadStatus===Bm.yL.success){var n,o,a=t.role,s=a.accessLevel,u=a.mode,c=s===Bm.uv.client||s===Bm.uv.registered;n=u===Bm.AR.junior?"junior":c&&u===Bm.AR.prepaid?"prepaid":s===Bm.uv.client?"heavy":"light",o=t.role.subscription?String(t.role.subscription):"no_bundle",null==r||r(),clearTimeout(i),e({ibBundleCore:o,ibTypeOfClient:n})}};o(n.getState(ph.ST)),r=n.subscribe(ph.ST,o)})));case 2:case"end":return e.stop()}}),e)}))),uO.apply(this,arguments)}var cO="token_auth_version",lO="sso_user_id";function dO(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var fO,pO,vO,hO,gO="ib_userPropertiesAreCollected",mO=(0,T.J)({name:"UserPropertiesModule",imports:[eO,ck,mk],providers:[(0,u.J)({provide:ek,useFactory:function(e){return{eventea:e.eventea}},deps:{eventea:{token:Sa.Bv,optional:!0}}}),(0,u.J)({provide:vk,useFactory:function(e){var t=e.httpClientFactory,n=e.sessionManager,r=e.roleModel;return{httpClientFactory:t,baseUrl:e.env.get("TINKOFF_API"),role:r.getValueSync().role,getMotherApiSessionId:function(){return n.getSessionId()}}},deps:{httpClientFactory:$A,store:b.kR,sessionManager:Rc.db,env:y.vC,roleModel:ph.yP}}),(0,u.J)({provide:Ng._DANGEROUS_MICRO_DI_GLOBAL_QUERY_CLIENT_TOKEN,useFactory:function(e){return e.queryClient},deps:{queryClient:ey.PT}}),(0,u.J)({provide:sk,useValue:!0}),(0,u.J)({provide:c.Bi.resolveUserDeps,useFactory:function(e){var t=e.fetchAccountsQuery,n=e.isPwa,i=e.store,o=e.eventea,s=e.statistClient,u=e.sessionStorageService;return function(){if(!e.cookieManager.get("disable_use_portal")){var c=i.getState(Rd.vZ).status===Cd.$q.SUBSCRIBED.id;(0,r.Z)(a().mark((function e(){var r,l,d,f,p,v,h,g,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=performance.now(),!u.getItem(gO)){e.next=6;break}return e.abrupt("return");case 6:if(l=i.getState(rl),(0,el.QO)(l)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Promise.all([iO({fetchAccountsQuery:t}),sO({store:i})]);case 11:d=e.sent,f=dO(pe.Z,d,2),p=f[0],v=f[1],h={},n()&&(h.ibPushAllowed=c),null==s||s.updateUserProperties("eventea.projects.pwa","set",Object.assign({},p,v,h)),u.setItem(gO,"true"),g=performance.now()-r,null==o||o.send({project:"supreme",event:"up.successfulCollection",payload:{collectionTime:g}}),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),m=e.t0 instanceof Error?e.t0.message:"unknown error",null==o||o.send({project:"supreme",event:"up.collectionError",payload:{message:m}});case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))()}}},deps:{envManager:y.vC,eventea:{token:Sa.Bv,optional:!0},statistClient:sv.E,fetchAccountsQuery:hk,store:b.kR,isPwa:Oh.Im,localStorageService:Ch.LOCAL_STORAGE_SERVICE_TOKEN,sessionStorageService:ay,cookieManager:k.T}})]}),yO=(0,Y.V3)("WebPerformanceMetricClient"),bO=(fO=(0,h.Y)({imports:[uv],providers:[(0,u.J)({provide:yO,useFactory:function(e){var t=e.statistClient,n=e.eventea;return{send:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];null==t||t.send.apply(t,r);var o=r[0],a=r[1],s=r[2];n&&"coretech.web.metrics"===o&&"performance.rum"===a&&function(e,t){var n={deviceType:t.deviceType,path:t.urlMask||""};t.cumulativeLayoutShift&&e.send({project:"supreme",event:"webVitals.cumulativeLayoutShift",payload:Object.assign({},n,{score:t.cumulativeLayoutShift})}),t.firstInputDelay&&e.send({project:"supreme",event:"webVitals.firstInputDelay",payload:Object.assign({},n,{duration:t.firstInputDelay})}),t.firstContentfulPaint&&e.send({project:"supreme",event:"webVitals.firstContentfulPaint",payload:Object.assign({},n,{duration:t.firstContentfulPaint})}),t.timeToFirstByte&&e.send({project:"supreme",event:"webVitals.timeToFirstByte",payload:Object.assign({},n,{duration:t.timeToFirstByte})}),t.largestContentfulPaint&&e.send({project:"supreme",event:"webVitals.largestContentfulPaint",payload:Object.assign({},n,{duration:t.largestContentfulPaint})}),t.interactionToNextPaint&&e.send({project:"supreme",event:"webVitals.interactionToNextPaint",payload:Object.assign({},n,{duration:t.interactionToNextPaint})}),t.totalBlockingTime&&e.send({project:"supreme",event:"webVitals.totalBlockingTime",payload:Object.assign({},n,{duration:t.totalBlockingTime})})}(n,s)}}},deps:{statistClient:{token:sv.E,optional:!0},eventea:{token:Sa.Bv,optional:!0}}})]}),fO(pO=function(){})||pO);function _O(){return _O=(0,r.Z)(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("tramvai-web-performance-rum").then(n.bind(n,68348));case 2:(0,e.sent.initClientPerformanceMonitoring)({statistClient:t,resolveUrlMask:function(){var e;return null==(e=r.getCurrentRoute())?void 0:e.path}});case 5:case"end":return e.stop()}}),e)}))),_O.apply(this,arguments)}var EO,wO,SO,TO,AO,kO,OO,CO,RO,IO,NO=(vO=(0,h.Y)({imports:[bO],providers:[(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.pageService,n=e.logger,r=e.client;return function(){var e=n("supreme-performance");(function(e,t){return _O.apply(this,arguments)})(r,t).catch((function(t){e.error({event:"init-failed",message:"@tinkoff/web-performance-rum package initialization failed",error:t})}))}},multi:!0,deps:{pageService:Zt.Y9,logger:Q.Fp,client:yO}})]}),vO(hO=function(){})||hO),MO=function(){function e(e){var t=e.featureToggleCache;this.featureToggleCache=void 0,this.featureToggleCache=t,this.resolve=this.resolve.bind(this)}var t=e.prototype;return t.resolveSegmentationValueFromCookie=function(){var e=this.tryGetValue();return void 0===e||Number.isNaN(e)?1:e},t.resolve=function(e){if(!this.featureToggleCache)return!1;var t=this.featureToggleCache[e];if(null==t||!t.value)return!1;var n=t.segmentation;return void 0===n||this.resolveSegmentationValueFromCookie()<=n},e}(),xO="__supreme_ft_seg_value",PO=function(e){function t(t){var n,r=t.cookieManager,i=t.featureToggleCache,o=t.segmentationValueGenerator;return(n=e.call(this,{featureToggleCache:i})||this).cookieManager=void 0,n.segmentationValueGenerator=void 0,n.cookieManager=r,n.segmentationValueGenerator=o,n}return(0,_t.Z)(t,e),t.prototype.tryGetValue=function(){var e=this.cookieManager.get(xO);if("string"==typeof e)return Number(e);if(t="testcookiesenabled=",document.cookie=t,document.cookie.indexOf(t)>-1&&(document.cookie=t+"; expires=Thu, 01 Jan 1970 00:00:01 GMT",1)){var t,n=this.segmentationValueGenerator();this.cookieManager.set({name:xO,value:n.toString(),expires:new Date(Date.now()+2592e6).toUTCString()})}},t}(MO),LO=(0,u.J)({provide:Uy,useClass:PO,deps:{cookieManager:k.T,featureToggleCache:By,segmentationValueGenerator:Fy}}),DO={themeRedesign:"FT_THEME_REDESIGN",newName:"FT_NEW_NAME",threeDSInIframe:"FT_3DS_IN_IFRAME"},jO={themeRedesign:"FT_SEGMENTATION_THEME_REDESIGN",newName:"FT_SEGMENTATION_NEW_NAME",threeDSInIframe:"FT_SEGMENTATION_3DS_IN_IFRAME"},BO=(0,u.J)({provide:By,useFactory:(EO={toggleNameEnvMap:DO,toggleSegmentationEnvMap:jO},wO=EO.toggleNameEnvMap,SO=EO.toggleSegmentationEnvMap,function(e){var t=e.envManager,n={};return Object.keys(wO).forEach((function(e){var r=e,i=function(e){switch(!0){case"true"===e:return!0;case"false"===e:return!1;default:return}}(t.get(wO[r]));if(void 0!==i){var o={value:i};if(!1===i)o.segmentation=0;else{var a=SO[r],s=a?function(e){if(null==e)return 1;var t=Number(e);switch(!0){case Number.isNaN(t):case t<0:case t>1:return 0;default:return t}}(t.get(a)):0;o.segmentation=s,0===o.segmentation&&(o.value=!1)}n[r]=o}})),n}),deps:{envManager:y.vC}}),UO=(0,u.J)({provide:y.sQ,multi:!0,scope:l.s.SINGLETON,useFactory:function(){var e=[];return Object.keys(DO).forEach((function(t){e.push({key:DO[t],optional:!0})})),Object.keys(jO).forEach((function(t){e.push({key:jO[t],optional:!0})})),e}}),FO={themeRedesign:!0,newName:!0,threeDSInIframe:!0},VO=function(){function e(e,t,n,r){this.featureToggleCache=e,this.segmentationResolver=t,this.eventea=n,this.eventeaWrapper=void 0,this.result={},this.eventeaWrapper=function(e,t){var n={unresolvedCacheReported:!1,unresolvedFeatureReported:{},firstUnknownUsage:{},featureUsageReported:{}};return{unresolvedCache:function(){e&&!n.unresolvedCacheReported&&(n.unresolvedCacheReported=!0,e.send({project:"supreme",event:"featureToggle.unresolvedCache"}))},unresolvedValue:function(r){e&&(n.unresolvedFeatureReported[t]||(n.unresolvedFeatureReported[t]={}),n.unresolvedFeatureReported[t][r]||(n.unresolvedFeatureReported[t][r]=!0,e.send({project:"supreme",event:"featureToggle.unresolvedValue",payload:{blockType:t,featureName:r}})))},usage:function(r){e&&(n.featureUsageReported[t]||(n.featureUsageReported[t]={}),n.featureUsageReported[t][r]||(n.featureUsageReported[t][r]=!0,e.send({project:"supreme",event:"featureToggle.usage",payload:{blockType:t,featureName:r}})))},invalidUsage:function(n){e&&e.send({project:"supreme",event:"featureToggle.invalidUsage",payload:{blockType:t,invalidFeatureName:n}})}}}(n,null!=r?r:"unknown")}e.create=function(t){var n=t.eventea;return new e(t.featureToggleCache,t.segmentationResolver,n).createFeatureToggleFields().wrapInProxy().attachFactory().getResult()};var t=e.prototype;return t.resolveToggleValue=function(e){if(void 0!==this.featureToggleCache){var t=this.featureToggleCache[e];if(void 0!==t){var n=t.value;return!1!==n&&this.segmentationResolver?this.segmentationResolver.resolve(e):n}}},t.createFeatureGetter=function(e){var t,n=this,r=!1;return function(){return r||(t=n.resolveToggleValue(e),r=!0),void 0===t?n.eventeaWrapper.unresolvedValue(e):n.eventeaWrapper.usage(e),t}},t.createFeatureToggleFields=function(){var e=this;return Object.keys(FO).forEach((function(t){Object.defineProperty(e.result,t,{get:e.createFeatureGetter(t),enumerable:!0,configurable:!1})})),this},t.wrapInProxy=function(){var e=this;try{var t=new Proxy(this.result,{get:function(t,n){var r;if(n in t)return t[n];e.eventeaWrapper.invalidUsage("string"==typeof n?n:null!=(r=n.description)?r:"unknown symbol")}});this.result=t}catch(e){}return this},t.attachFactory=function(){var t=this;return Object.defineProperty(this.result,"useFactory",{get:function(){return function(n){var r=n.blockType;return r?new e(t.featureToggleCache,t.segmentationResolver,t.eventea,r).createFeatureToggleFields().wrapInProxy().getResult():t.result}},enumerable:!0,configurable:!1}),this},t.getResult=function(){return this.result},e}(),WO=(0,u.J)({provide:Vy,useFactory:function(e){var t=e.eventea,n=e.featureToggleCache,r=e.segmentationResolver;return VO.create({eventea:t,featureToggleCache:n,segmentationResolver:r})},deps:{featureToggleCache:By,segmentationResolver:{optional:!0,token:Uy},eventea:{optional:!0,token:Sa.Bv}}}),qO=(0,u.J)({provide:Fy,useValue:function(){return Math.random()}}),HO=(0,h.Y)({providers:[LO,BO,WO,qO,UO]})(TO=function(){})||TO,GO=(AO=(0,h.Y)({providers:[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"FF_MDDC_CERT_CHECK_ENABLED",optional:!0},{key:"MDDC_CERT_CHECK_URL",optional:!0}]}),(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.envManager,n=e.eventea;return function(){var e=t.get("MDDC_CERT_CHECK_URL");if("true"===t.get("FF_MDDC_CERT_CHECK_ENABLED")&&e){var i=RS([US()]);(0,r.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i({url:e}),t.next=3,r;case 3:200===(o=r,uu()("status",PS(o)))?n.send({project:"supreme",event:"mddc.mddcCertInstalled"}):n.send({project:"supreme",event:"mddc.mddcCertMissed"});case 5:case"end":return t.stop()}var o}),t)})))().catch((function(){return n.send({project:"supreme",event:"mddc.mddcCertMissed"})}))}}},deps:{envManager:y.vC,eventea:Sa.Bv}})]}),AO(kO=function(){})||kO),ZO="old_session_id",KO=(OO=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:c.Bi.generatePage,useFactory:function(e){var t=e.sessionManager,n=e.router,r=e.eventea,i=e.store,o=e.cookieManager,a=e.isIframeAuthOnPwa,s=e.installType;return function(){var e=t.getSessionId();if(e&&iE(i.getState(il.p).accessLevel)&&o.get(ZO)!==e){o.set({name:ZO,value:e,expires:86400});var u=n.getCurrentUrl().href;null==r||r.send({project:"supreme",event:"sessionStart",payload:{startUrl:u}}),o.get("redirectToLogin")&&(null==r||r.send({project:"supreme",event:"auth.redirectFromLogin",payload:{installType:s,isIframeAuthOnPwa:a()}}),o.remove("redirectToLogin"))}}},deps:{sessionManager:Rc.db,cookieManager:k.T,store:b.kR,eventea:{token:Sa.Bv,optional:!0},router:Zt.l1,isIframeAuthOnPwa:Oh.Rk,installType:bd.h}})]}),OO(CO=function(){})||CO),JO=(0,h.Y)({providers:[]})(RO=function(){})||RO,zO="ibPwaInstallationDate",YO="ibPwaInstallationSource";var QO,XO,$O,eC,tC,nC=(0,u.J)({provide:c.Bi.customerStart,useFactory:function(e){var t=e.isPwa,n=e.localStorageService;return function(){(function(e){return[zO,zO].every((function(t){return Boolean(e.getItem(t))}))})(n)||t()&&function(e){if(e.getItem(zO)||e.setItem(zO,(new Date).toISOString().slice(0,10).replace(/-/g,"")),!e.getItem(YO)){var t,n=new URLSearchParams(window.location.search);e.setItem(YO,null!=(t=n.get("installationSource"))?t:"unknown")}}(n)}},deps:{isPwa:Oh.Im,localStorageService:Ch.LOCAL_STORAGE_SERVICE_TOKEN}}),rC=(0,h.Y)({imports:[Oh.Az],providers:[nC]})(IO=function(){})||IO,iC=(0,u.J)({provide:Rc.JG,useFactory:function(e){var t=e.isIframeAuthOnPwa,n=e.renderMode,i=e.store,o=e.eventea,s=e.installType,u=e.cookieManager,c=e.webviewInit,l=e.router;return function(){var e=(0,r.Z)(a().mark((function e(r){var d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==c||!c.isWebView){e.next=2;break}throw new Error("abort redirect");case 2:if(void 0!==r&&t()){e.next=4;break}return e.abrupt("return");case 4:d=i.getState(il.p),f=d.accessLevel,null==o||o.sendOnce({project:"supreme",event:"redirect-to-login",payload:{renderMode:n,accessLevel:f,installType:s,isIframeAuthOnPwa:t()}}),u.set({name:"redirectToLogin",value:"true",expires:600}),window.location.href=r,l.cancel();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{isIframeAuthOnPwa:Oh.Rk,renderMode:tb,store:b.kR,router:Zt.l1,eventea:{token:Sa.Bv,optional:!0},installType:bd.h,cookieManager:k.T,webviewInit:{token:Hy.WEBVIEW_INIT_PARAMS_TOKEN,optional:!0}}}),oC={provide:Rc.WO,useFactory:function(e){var t=e.renderMode,n=e.store,r=e.eventea;return function(){var e=n.getState(il.p).accessLevel;null==r||r.send({project:"supreme",event:"no-redirect-to-login",payload:{renderMode:t,accessLevel:e}})}},deps:{renderMode:tb,store:b.kR,eventea:{token:Sa.Bv,optional:!0}}},aC={provide:Rc.Ri,useFactory:function(e){var t=e.isIframeAuthOnPwa,n=e.authRedirectUrl,r=e.contextAuthRedirectUrl,i=e.router,o=e.store;return function(){var e=o.getState(il.p).accessLevel;if(e&&e!==Bm.uv.anonymous)return"";var a=i.getCurrentUrl().path;return t()?r(a):n(a)}},deps:{isIframeAuthOnPwa:Oh.Rk,authRedirectUrl:Ch.AUTH_REDIRECT_URL_TOKEN,contextAuthRedirectUrl:Ch.CONTEXT_AUTH_REDIRECT_URL_TOKEN,router:Zt.l1,store:b.kR}},sC=(0,u.J)({provide:Rc.qt,useFactory:function(e){var t=e.isIframeAuthOnPwa,n=e.renderMode,i=e.store,o=e.eventea,s=e.installType,u=e.cookieManager,c=e.webviewInitParams,l=e.webviewManager,d=e.router;return(0,r.Z)(a().mark((function e(){var r,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isWebView){e.next=3;break}throw null==l||l.sendEndAuthenticate(),new Error("abort redirect");case 3:t()&&d.cancel(),r=i.getState(il.p),f=r.accessLevel,null==o||o.sendOnce({project:"supreme",event:"redirect-to-login",payload:{renderMode:n,accessLevel:f,installType:s,isIframeAuthOnPwa:t()}}),u.set({name:"redirectToLogin",value:"true",expires:600});case 7:case"end":return e.stop()}}),e)})))},deps:{isIframeAuthOnPwa:Oh.Rk,renderMode:tb,router:Zt.l1,store:b.kR,eventea:{token:Sa.Bv,optional:!0},installType:bd.h,cookieManager:k.T,webviewInitParams:Hy.WEBVIEW_INIT_PARAMS_TOKEN,webviewManager:{token:Hy.WEBVIEW_MANAGER_TOKEN,optional:!0}}}),uC=(0,h.Y)({providers:[sC,iC,oC,aC]})(QO=function(){})||QO,cC=n(80882),lC=(XO=(0,h.Y)({providers:[(0,u.J)({provide:Zt.Dk,multi:!0,useFactory:function(e){var t=e.authPageUrl,n=e.notFoundUrl;return[{name:"csr",path:"/csr",config:{content:{id:"c1efc445-2eaa-452e-9fce-988fdde90e99",type:"fragment",content:[{id:"40632229-2356-49fa-9820-7b328a641e22",type:"desktopFoo",content:[],version:"1.0",properties:{title:"csr component",text:""}}],version:"1.0",properties:{}}}},{name:"authPage",path:t,config:{pageComponent:"@/pages/AuthPage"}},{name:"webviewDebugPage",path:e.webviewDebugUrl,config:{pageComponent:"webviewDebug"}},{name:"webviewPreloadPage",path:e.webviewPreloadUrl,config:{pageComponent:"webviewPreload"}},{name:"webviewRedirectPage",path:e.webviewRedirectUrl,config:{pageComponent:"webviewRedirect"}},{name:"webviewPreloadCdnPage",path:cC.ds,config:{pageComponent:"webviewPreload"}},{name:"not-found",path:n,config:{pageComponent:"notFound",httpStatus:404}},{name:"failedPAge",path:"/tests/failed",config:{pageComponent:"failedPage"}}]},deps:{authPageUrl:Ch.CONTEXT_AUTH_PAGE_URL_TOKEN,webviewDebugUrl:Ch.WEBVIEW_DEBUG_URL_TOKEN,webviewPreloadUrl:Ch.WEBVIEW_PRELOAD_URL_TOKEN,webviewRedirectUrl:Ch.WEBVIEW_REDIRECT_URL_TOKEN,notFoundUrl:Ch.NOT_FOUND_URL_TOKEN}})]}),XO($O=function(){})||$O),dC=(eC=(0,h.Y)({providers:[(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){return e.resourcesRegistry,e.cdnResources,function(){}},deps:{resourcesRegistry:Wn.RESOURCES_REGISTRY,cdnResources:Ch.CDN_RESOURCES_TOKEN}})]}),eC(tC=function(){})||tC),fC=function(e,t){return 8*t/(e/1e3)/1024/1024},pC=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=RS([US()])({url:t,httpMethod:"get",timeout:3e3}),e.next=4,n;case 4:if(r=performance.getEntriesByType("resource").find((function(e){return e.name.startsWith(t)}))){e.next=7;break}throw new Error("Не удалось получить информацию о загрузке файла");case 7:if(o=(i=r).transferSize,s=i.duration,u=o||Number(LS(n,"content-length"))){e.next=11;break}throw new Error("Не удалось получить информацию о размере файла");case 11:return c=fC(s,u),l=3.5*c,e.abrupt("return",(a=l)<.1?"slow-2g":a<1?"2g":a<10?"3g":"4g");case 16:if(e.prev=16,e.t0=e.catch(0),"ERR_HTTP_REQUEST_TIMEOUT"!==e.t0.code){e.next=20;break}return e.abrupt("return","2g");case 20:return e.abrupt("return","unknown");case 21:case"end":return e.stop()}var a}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();function vC(){return(vC=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.effectiveTypeCheckFile,i=t.sessionStorage,null==(n=navigator)||!n.connection){e.next=3;break}return e.abrupt("return",navigator.connection.effectiveType);case 3:if(!(o=i.getItem("effective_type"))){e.next=6;break}return e.abrupt("return",o);case 6:return e.next=8,pC(r);case 8:return s=e.sent,i.setItem("effective_type",String(s)),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hC,gC,mC,yC,bC,_C=(0,Y.V3)("detectNetworkEffectiveTypeToken"),EC=Iy(),wC=(hC=(0,h.Y)({providers:[(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.acdnResources,n=e.sessionStorage;return function(){(function(e){return vC.apply(this,arguments)})({effectiveTypeCheckFile:t.effectiveTypeCheckFile,sessionStorage:n}).then((function(e){return EC.resolve(e)})).catch((function(){EC.resolve("unknown")}))}},deps:{acdnResources:Ch.ACDN_RESOURCES_TOKEN,sessionStorage:ay}}),(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.eventea;return function(){EC.promise.then((function(e){t.data({project:"supreme",payload:{effectiveType:e}})})).catch((function(){t.data({project:"supreme",payload:{effectiveType:"unknown"}})}))}},deps:{eventea:Sa.Bv}}),(0,u.J)({provide:_C,useValue:EC.promise})]}),hC(gC=function(){})||gC),SC=(mC=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:b.Ym,multi:!0,useValue:ub.Z}),(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.store,n=e.pageService,r=e.router;return function(){var e,i=null!=(e=n.getConfig())?e:{},o=i.enableChangeColorTheme,a=i.fixedTheme;if(a)"dark"===a?t.dispatch((0,ub.u)("dark")):t.dispatch((0,ub.u)("light"));else if("dark"!==r.getCurrentUrl().query.themetest){var s=r.getCurrentUrl().query,u=s.theme,c=s.darkMode,l=s.darkmode,d=s.mode;!0!==o||"dark"!==u&&"1"!==c&&"1"!==l&&"dark"!==d?t.dispatch((0,ub.u)("light")):t.dispatch((0,ub.u)("dark"))}else t.dispatch((0,ub.u)("dark"))}},deps:{store:b.kR,pageService:Zt.Y9,router:Zt.l1}})]}),mC(yC=function(){})||yC),TC=n(7777),AC=n(437),kC=n(86499),OC=n(19434),CC=n(8751),RC={trace:!0,debug:!0,info:!0,warn:!0,error:!0,fatal:!0},IC=(0,u.J)({provide:Sa.j5,useFactory:function(e){var t=e.logger,n=e.analytics,r=t({name:"eventea-logger",defaults:{remote:!0}}),i="hasNotFetchedYet";return n&&(null==n||n.waitFor("personalizedLandingMetrics").then((function(){var e=n.state.personalizedLandingMetrics,t=void 0===e?void 0:e;if(t){var o=t.state.dcoGeneralId,a=void 0===o?"":o;a&&(i=a)}else r.error("Unable to resolve personalizedLandingMetrics in analytics module.")})).catch((function(e){r.error({event:"eventea-dco-monitoring-error",error:e})}))),function(e){var t,n,o=e.event,a=e.payload,s=e.config,u=e.project,c=e.handlersData,l=(null==s?void 0:s.level)||s,d=null!==(t=null==s?void 0:s.samplingRate)&&void 0!==t?t:1;if("string"==typeof l&&RC[l]&&l in r){if(0===(n=d)||1===n?n:Math.random()<=n){var f=c?Object.assign({},c,{statist:void 0}):c;r[l]({event:o,eventeaProject:u,payload:a,handlersData:f,dcoGeneralId:i})}}else r.error({event:"eventea-wrong-logs-config",originalEvent:o,originalLevel:l})}},deps:{logger:Q.Fp,analytics:{token:Uo.t3,optional:!0}}}),NC=n(18422),MC=(0,u.J)({provide:Sa.q2,useFactory:function(e){var t=e.analytics,n=e.logger,r=n({name:"eventea-logger-tracking",defaults:{remote:!0}});if(t){var i=t.callUtil("makeEventeaHandler"),o=!1;return function(e){o?(0,NC.OR)(t,e):i.then((function(t){t(e)})).catch((function(e){o=!0,r.error({event:"Unable to resolve makeEventeaHandler. Fallback to twt-eventea-handler v"+bf,error:e})}))}}n.warn("There is no analytics module, EVENTEA_TRACKING_HANDLER WILL NOT WORK")},deps:{analytics:{token:Uo.t3,optional:!0},logger:Q.Fp}}),xC=(0,u.J)({provide:Sa.g3,useFactory:function(e){var t=e.analytics,n=e.logger,r=n({name:"eventea-logger-twt-data",defaults:{remote:!0}});if(t){var i=t.callUtil("makeEventeaDataHandler"),o=!1;return function(e){o?(0,NC.x4)(t,e):i.then((function(t){t(e)})).catch((function(e){o=!0,r.error({event:"Unable to resolve makeEventeaDataHandler util. Fallback to twt-eventea-data-handler v"+bf,error:e})}))}}n.warn("There is no analytics module, EVENTEA_TWT_DATA_HANDLER WILL NOT WORK")},deps:{analytics:{token:Uo.t3,optional:!0},logger:Q.Fp}}),PC=(0,R.y)("set routing map"),LC=(0,E.L)("eventea",{routingMap:{}}).on(PC,(function(e,t){return{routingMap:t}})),DC=[{provide:b.Ym,multi:!0,useValue:[LC]}];function jC(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var BC={routingMap:Sa.rF,errorHandlers:Sa.nM,projectHandlersList:{token:Sa.eW,multi:!0},envManager:y.vC,appInfo:g.Qo,defaultEventHandlers:{token:Sa.qq,multi:!0},defaultDataHandlers:{token:Sa.qJ,multi:!0},clientLoaderTimeout:Sa.lb,selectPreloadProjects:Sa.X9},UC=bC=function(){function e(){}return e.forRoot=function(e){var t=e.projects.map((function(e){var t=e.project,n=e.fallbackForServer;return(0,u.J)({provide:Sa.eW,multi:!0,useFactory:function(e){var r=e.logger;return n&&r("eventea-logger-module-forRoot").error(["You passed fallbackForServer to the client for project "+t+", this will bloat your client build.","See eventea documentation on how this can be avoided."].join("\n")),{project:t}},deps:{logger:Q.Fp}})}));return{mainModule:bC,providers:t}},e}();function FC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}UC=bC=(0,f.__decorate)([(0,h.Y)({imports:[],providers:[].concat(jC(i.Z,DC),[(0,u.J)({provide:Sa.X9,useFactory:function(e){var t="true"===e.envManager.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING");return function(e){return t?e:[]}},deps:{envManager:y.vC}}),{provide:Sa.Bv,useFactory:function(e){var t,n=e.routingMap,r=e.errorHandlers,o=e.projectHandlersList,a=e.envManager,s=e.appInfo,u=e.defaultEventHandlers,c=e.defaultDataHandlers,l=e.clientLoaderTimeout,d=e.selectPreloadProjects,f=(t=Object.create(null),{useEvent:function(e){var n=e.project,r=e.event;t[n]||(t[n]=Object.create(null)),t[n][r]=!0},getUsedEvents:function(){return Object.keys(t).map((function(e){return{projectName:e,eventList:Object.keys(t[e])}}))}}),p=null==a?void 0:a.get("EVENTEA_PROJECTS"),v=(p&&p.match(/[a-zA-Z0-9\-\_]+/g)||[]).map((function(e){return{project:e}})),h=([].concat(jC(i.Z,o),jC(i.Z,v))||[]).reduce((function(e,t){return e[t.project]={eventHandlers:t.eventHandlers,dataHandlers:t.dataHandlers,routing:n[t.project]},e}),{}),g=u.reduce((function(e,t){var n,r=t.name,i=t.handler;return Object.assign({},e,((n={})[r]=i,n))}),{}),m=c.reduce((function(e,t){var n,r=t.name,i=t.handler;return Object.assign({},e,((n={})[r]=i,n))}),{}),y=d(Object.keys(h)),b=a.get("EVENTEA_BEER_URL")?new CC.EventeaBeerClient({baseUrl:a.get("EVENTEA_BEER_URL")}):void 0,_=new OC.ClientLoader({preloadProjects:y,handleRequestError:function(e){var t=e.project,n=e.status;b&&b.event({project:"eventea",event:"client-loader-error",payload:{projectName:t,status:n},handlersData:{appName:s.appName}})},baseUrl:null==a?void 0:a.get("EVENTEA_LOADER_URL"),timeout:l}),E=new AC.Eventea({projectConfigurationMap:h,errorHandlers:r,beerBaseUrl:a.get("EVENTEA_BEER_URL"),handlersData:{appName:s.appName,appVersion:a.get("APP_VERSION"),appRelease:a.get("APP_RELEASE")},handleAnyEvent:function(e){f.useEvent(e)},defaultEventHandlers:g,defaultDataHandlers:m,routingClientLoader:_,batchingConfig:{batchingEnable:"true"===a.get("EVENTEA_CLIENT_BATCHING_ENABLE"),batchSize:Number(a.get("EVENTEA_CLIENT_BATCH_SIZE")),batchDelay:Number(a.get("EVENTEA_CLIENT_BATCH_DELAY"))}});return window.addEventListener("pagehide",(function(){var e=f.getUsedEvents();e.length&&e.forEach((function(e){var t=e.projectName,n=e.eventList;E.sendOnce({project:"eventea",event:"usage-stats",payload:{projectName:t,eventList:n}},t)}))})),window.__eventea=E,E},deps:BC},{provide:Sa.rF,useFactory:function(e){return e.context.getState(LC).routingMap},deps:{context:A.l}},{provide:Sa.nM,useFactory:function(e){var t=(0,e.logger)("eventea-error-handlers");return{handleMissedEvent:function(e){var n=e.event,r=e.project;t.error({event:"eventea-missed-event",project:r,eventName:n})},handleMissedEventHandler:function(e){var n=e.event,r=e.routeHandlerName,i=e.project;t.error({event:"eventea-missed-event-handler",eventName:n,project:i,routeHandlerName:r})},handleMissedProject:function(e){var n=e.event,r=e.project;t.error({event:"eventea-missed-project",project:r,eventName:n})},handleMissedRouting:function(e){var n=e.project;t.error({event:"eventea-missed-routing",project:n})},handleMissedDataHandler:function(e){var n=e.project,r=e.handlerName;t.error({event:"eventea-missed-data-handler",project:n,handlerName:r})},handleMissedDataProject:function(e){var n=e.project;t.error({event:"eventea-missed-data-project",project:n})},handleMissedRoutes:function(e){var n=e.project,r=e.event;t.error({event:"eventea-missed-routes",project:n,eventName:r})},handleDeprecatedEvent:function(e){var n=e.project,r=e.event;t.info({event:"eventea-deprecated-event",project:n,eventName:r})},handleEventHandlerError:function(e,n,r){var i=r.project,o=r.event;t.error({event:"eventea-handler-error",project:i,eventName:o,handlerName:n,error:e})}}},deps:{logger:Q.Fp}},MC,xC,IC,{provide:Sa.lb,useValue:5e3},(0,u.J)({provide:Sa.eW,multi:!0,useValue:{project:"eventea"}}),(0,u.J)({provide:Sa.Yw,useFactory:function(e){var t=e.statistClient,n=e.logger;if(t)return(0,kC.I)({statistClient:t});n.warn("There is no statist event api client, EVENTEA_STATIST_HANDLER WILL NOT WORK")},deps:{statistClient:{token:sv.se,optional:!0},logger:Q.Fp}}),(0,u.J)({provide:Sa.qq,useFactory:function(e){return{name:"statist",handler:e.statistHandler}},deps:{statistHandler:Sa.Yw},multi:!0}),(0,u.J)({provide:Sa.qq,useFactory:function(e){return{name:"logs",handler:e.logsHandler}},deps:{logsHandler:Sa.j5},multi:!0}),(0,u.J)({provide:Sa.qq,useFactory:function(e){return{name:"tracking",handler:e.trackingHandler}},deps:{trackingHandler:Sa.q2},multi:!0}),(0,u.J)({provide:Sa.qJ,useFactory:function(e){return{name:"twt",handler:e.twtDataHandler}},deps:{twtDataHandler:Sa.g3},multi:!0}),(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.di;return function(){t.get(Sa.Bv)}},deps:{di:m.Z}})])})],UC);var VC,WC=["supreme","general-web","boxy","boxyCore"],qC=[(0,u.J)({provide:_A.X,useValue:"supreme"}),(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"EVENTEA_PROJECTS",validator:function(e){for(var t,n=new Set(e.split(",")),r=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return FC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FC(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(WC,!0);!(t=i()).done;){var o=t.value;n.has(o)||r.push(o)}return 0===r.length||"there are missing projects in the value: "+r.join(", ")}}]})],HC=n(68973);function GC(){return{send:Ft(),sendOnce:function(){return!0},data:Ft()}}var ZC,KC,JC=(0,h.Y)({providers:[(0,u.J)({provide:Sa.Bv,useValue:Object.assign({},GC(),{createChild:GC})})]})(VC=function(){})||VC;function zC(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var YC=(ZC=(0,h.Y)({imports:[(0,HC.L)()?JC:UC],providers:[].concat(zC(i.Z,qC),[(0,u.J)({provide:Sa.lb,useValue:1e4}),(0,u.J)({provide:Sa.X9,useFactory:function(e){var t=e.renderMode,n=["bonuses","homer","fry","simba","luca"];return function(e){return"csr"===t?[].concat(zC(i.Z,e),n):n}},deps:{renderMode:tb}})])}),ZC(KC=function(){})||KC),QC=n(17062),XC=n(85336),$C=n(47070);function eR(e){var t;return null==e||null==(t=e.getState())||null==(t=t.router)||null==(t=t.currentRoute)?void 0:t.path}function tR(e){var t=e.eventea,n=e.store,r=e.line;null==t||t.sendOnce({project:"supreme",event:"commandLine.start",payload:{type:r,urlMask:eR(n)}},r)}function nR(e){var t=e.eventea,n=e.store,r=e.line,i=e.timings,o=(0,$C.t)();null!=i&&i.end&&o&&(null==t||t.sendOnce({project:"supreme",event:"commandLine.end",payload:{type:r,urlMask:eR(n),duration:i.end-i.start,durationOpen:i.end-o}},r))}var rR,iR=[(0,u.J)({provide:XC.X,useValue:{init:null,customer:null}})],oR=[(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.eventea,n=e.store,r=e.commandLineTimings,i=e.timingInfo;return function(){r.init||(r.init=i),tR({line:"init",eventea:t,store:n})}},deps:{eventea:(0,Y.jt)(Sa.Bv),store:b.kR,timingInfo:Rt,commandLineTimings:XC.X}}),(0,u.J)({provide:c.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.eventea,n=e.store,r=e.commandLineTimings,i=e.timingInfo;return function(){var e;r.customer||(r.customer=i),nR({line:"init",eventea:t,store:n,timings:null==(e=r.init)?void 0:e.init}),tR({eventea:t,store:n,line:"customerStart"})}},deps:{eventea:(0,Y.jt)(Sa.Bv),store:b.kR,timingInfo:Rt,commandLineTimings:XC.X}}),(0,u.J)({provide:c.Bi.resolveUserDeps,multi:!0,useFactory:function(e){var t=e.eventea,n=e.store,r=e.commandLineTimings;return function(){var e;nR({line:"customerStart",eventea:t,store:n,timings:null==(e=r.customer)?void 0:e.customer_start}),tR({eventea:t,store:n,line:"resolveUserDeps"})}},deps:{eventea:(0,Y.jt)(Sa.Bv),store:b.kR,commandLineTimings:XC.X}}),(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.eventea,n=e.store,r=e.commandLineTimings;return function(){var e;nR({line:"resolveUserDeps",eventea:t,store:n,timings:null==(e=r.customer)?void 0:e.resolve_user_deps}),tR({eventea:t,store:n,line:"resolvePageDeps"})}},deps:{eventea:(0,Y.jt)(Sa.Bv),store:b.kR,commandLineTimings:XC.X}}),(0,u.J)({provide:c.Bi.generatePage,multi:!0,useFactory:function(e){var t=e.eventea,n=e.store,r=e.commandLineTimings;return function(){var e;nR({line:"resolvePageDeps",eventea:t,store:n,timings:null==(e=r.customer)?void 0:e.resolve_page_deps}),tR({eventea:t,store:n,line:"generatePage"})}},deps:{eventea:(0,Y.jt)(Sa.Bv),store:b.kR,commandLineTimings:XC.X}}),(0,u.J)({provide:c.Bi.clear,multi:!0,useFactory:function(e){var t=e.eventea,n=e.store,r=e.commandLineTimings;return function(){var e;nR({line:"generatePage",eventea:t,store:n,timings:null==(e=r.customer)?void 0:e.generate_page})}},deps:{eventea:(0,Y.jt)(Sa.Bv),store:b.kR,commandLineTimings:XC.X}})];function aR(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var sR,uR,cR,lR,dR,fR=(0,h.Y)({providers:[].concat(aR(i.Z,iR),aR(i.Z,oR))})(rR=function(){})||rR,pR=(0,h.Y)({providers:[]})(sR=function(){})||sR,vR=(0,Y.V3)("SUPREME_PERF_MEASURE"),hR=function(e){switch(e){case"EmptyAuthStrategy":case"SessionStrategy":case"LinkStrategy":case"SsoStrategy":case"AccessTokenStrategy":case"SsoContextAuthStrategy":case"SupremeSsoAuthStrategy":case"SsoLinkAuthStrategy":return e;default:return"unknown"}},gR="auth-start",mR=function(e){return"auth-strategy-start-"+e},yR=(0,u.J)({provide:Rc.SG,useFactory:function(e){var t=e.eventea,n=e.measure;return{onAuthStart:function(){var e="page-open -> "+gR,r=n.tryMeasure(e,"page-open");n.tryClearMeasurement(e),n.tryMark(gR),null==t||t.send({project:"supreme",event:"authenticator.start",payload:{duration:r}}),void 0!==r&&r>6e4&&(null==t||t.send({project:"supreme",event:"authenticator.invalidTiming",payload:{authStage:"authenticator.start",duration:r}}))},onAuthResolved:function(e){var r=gR+" -> auth-end",i=n.tryMeasure(r,gR);n.tryClearMeasurement(r),n.tryClearMark(gR),null==t||t.send({project:"supreme",event:"authenticator.end",payload:{duration:i,isSuccessful:e}}),void 0!==i&&i>6e4&&(null==t||t.send({project:"supreme",event:"authenticator.invalidTiming",payload:{authStage:"authenticator.end",duration:i}}))},onAuthStrategyStart:function(e){n.tryMark(mR(e)),null==t||t.send({project:"supreme",event:"authenticator.strategyStart",payload:{strategyName:hR(e)}})},onAuthStrategyResolved:function(e,r){var i=mR(e),o=i+" -> auth-strategy-end-"+e,a=n.tryMeasure(o,i);n.tryClearMeasurement(o),n.tryClearMark(i),null==t||t.send({project:"supreme",event:"authenticator.strategyEnd",payload:{duration:a,strategyName:hR(e),isSuccessful:r}}),void 0!==a&&a>6e4&&(null==t||t.send({project:"supreme",event:"authenticator.invalidTiming",payload:{authStage:"authenticator.strategyEnd",duration:a}}))}}},deps:{eventea:{token:Sa.Bv,optional:!0},measure:vR}}),bR=(0,u.J)({provide:vR,useFactory:function(){return{tryMark:function(e){try{performance.mark(e)}catch(e){}},tryMeasure:function(e,t){try{var n=performance.measure(e,t);return null==n?void 0:n.duration}catch(e){return}},tryClearMark:function(e){try{performance.clearMarks(e)}catch(e){}},tryClearMeasurement:function(e){try{performance.clearMeasures(e)}catch(e){}}}}}),_R=(0,h.Y)({providers:[yR,bR]})(uR=function(){})||uR,ER=(0,h.Y)({providers:[(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useValue:{wrappers:{notifications:EA}}})]})(cR=function(){})||cR,wR=n(13410),SR=n.n(wR),TR=function(e,t){void 0===t&&(t=300);var n=null;return function(){n&&(clearTimeout(n),n=null),n=window.setTimeout((function(){e(),n&&(clearTimeout(n),n=null)}),t)}},AR="CONNECTION_NOTIFICATION_ID",kR=[(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.eventea,n=e.eventeaProject,r=e.notifier,i=e.webview;return function(){null!=i&&i.isWebView||(window.addEventListener("online",function(e){var t=e.eventea,n=e.notifier,r=e.eventeaProject;return TR((function(){n.remove({id:AR}),t.send({project:r,event:"failed-connection",payload:{event:"online"}})}))}({eventea:t,eventeaProject:n,notifier:r})),window.addEventListener("offline",function(e){var t=e.eventea,n=e.notifier,r=e.eventeaProject;return TR((function(){n.add({id:AR,children:"Проверьте подключение и попробуйте еще раз",title:"Нет интернета",type:"warning",timer:!1,showClose:!1}),t.send({project:r,event:"failed-connection",payload:{event:"offline"}})}))}({eventea:t,eventeaProject:n,notifier:r})))}},deps:{eventea:Sa.Bv,eventeaProject:_A.X,notifier:Kf.e,webview:{optional:!0,token:Hy.WEBVIEW_MANAGER_TOKEN}}})],OR=(lR=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useValue:{wrappers:{layout:function(e){return function(t){return(0,Xn.jsx)("div",{className:SR().layout_wrapper,"data-qa-type":"pwa-ib/ui-modules-layout-wrapper",children:(0,Xn.jsx)(e,Object.assign({},t))})}}}}})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,kR))}),lR(dR=function(){})||dR),CR=n(26874);function RR(e){var t=void 0===e?{}:e,n=t.sessionId,r=t.accessLevel,i=t.hasSsoToken;return!(!n||!r||r===el.t1.ANONYMOUS&&!i)}var IR,NR,MR,xR,PR,LR,DR,jR,BR=function(){function e(e){this.deps=e}var t=e.prototype;return t.onAuthComplete=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t instanceof Error)&&RR(t)){e.next=4;break}return this.deps.webview.isWebView&&(null==(r=this.deps.eventea)||r.send({project:"supreme",event:"request-end-error",payload:{initiator:"supreme",slug:"sso/supreme",url:"sso/supreme/hidden/iframe",duration:0,statusCode:"empty",error:""+JSON.stringify(t),stack:null!=(i=n?t.stack:void 0)?i:"no error stack available"}})),e.abrupt("return",Promise.reject());case 4:if("true"!==this.deps.envManager.get("FF_DONT_WAIT_SESSION_STATUS_REQUEST")){e.next=10;break}return e.next=7,this.deps.sessionManager.saveAndDispatchSession({sessionId:t.sessionId,accessLevel:t.accessLevel,ssoId:t.ssoId,juniorFlg:t.juniorFlg,prepaidFlg:t.prepaidFlg,hasSsoSession:t.hasSsoToken,millisLeft:3e5,userId:this.deps.cookieManager.get(CR.It)});case 7:this.deps.sessionManager.updateSessionStatus(t.sessionId).then((function(e){var n,r;if(o.deps.webview.isWebView){var i=o.deps.sessionManager.getSessionId();null==(n=o.deps.eventea)||n.send({project:"supreme",event:"webview.initialSessionId",payload:{fromIframe:Gv(t.sessionId),fromCookie:i?Gv(i):"",millisLeft:null!=(r=null==e?void 0:e.millisLeft)?r:0}})}})).catch(console.error),e.next=11;break;case 10:return e.abrupt("return",this.deps.sessionManager.updateSessionStatus(t.sessionId));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.authenticate=function(e){var t,n=this,r=e.success,i=e.pass;if(!0===window.__isNotIframeStrategy__)return i();var o=function(e){var t;n.deps.webview.isWebView&&e&&(null==(t=n.deps.eventea)||t.send({project:"supreme",event:"request-end-error",payload:{initiator:"supreme",slug:"sso/supreme",url:"sso/supreme/hidden/iframe",duration:0,statusCode:"empty",error:""+JSON.stringify(e),stack:"PassWithCatch"}})),i()},a=window.__ssoSession__;if(a&&"used"!==a)return delete window.__ssoSession__,this.onAuthComplete(a).then(r).catch(o);var s=this.addMessageHandler(),u=s.promise,c=s.unsubscribe;window.__ssoSession__="used";var l,d=Number(null!=(t=this.deps.envManager.get("SSO_CONTEXT_AUTH_TIMEOUT"))?t:1e4);return Promise.race([u,(l=d,new Promise((function(e,t){return setTimeout((function(){return t(Object.assign(new Error("SSO timeout"),{type:"SsoTimeout"}))}),l)})))]).then(this.onAuthComplete.bind(this)).then(r).catch(o).finally(c)},t.addMessageHandler=function(){var e=function(){};return{promise:new Promise((function(t){var n=function(e){var n;return!(n=e.data)||n.data||"string"!=typeof n.messageCode||"authComplete"!==n.messageCode&&"authError"!==n.messageCode&&"authPrepareError"!==n.messageCode||t(e.data),null};e=function(){return window.removeEventListener("message",n)},window.addEventListener("message",n)})),unsubscribe:e}},(0,Pl.Z)(e,[{key:"name",get:function(){return"SupremeSsoAuthStrategy"}}]),e}(),UR=[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"FF_DONT_WAIT_SESSION_STATUS_REQUEST",optional:!0}]})],FR=(IR=(0,h.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,UR),[(0,u.J)({provide:Rc.sI,useClass:BR,deps:{sessionManager:Rc.db,cookieManager:k.T,envManager:y.vC,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN,eventea:Sa.Bv},multi:!0})])}),IR(NR=function(){})||NR),VR=(MR=(0,h.Y)({providers:[(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.store,n=e.statistApiClient,r=e.cookieManager;return function(){var e,i=r.get("sso_user_id")||(null==(e=window)?void 0:e.__ssoId__)||t.getState(il.p).ssoId;n.updateClientParameters({ssoId:i})}},deps:{store:b.kR,statistApiClient:sv.E,cookieManager:k.T}})]}),MR(xR=function(){})||xR),WR=n(52967),qR=(PR=(0,h.Y)({providers:[(0,u.J)({provide:Rc.i6,useFactory:function(e){var t=e.sessionManager,n=e.strategies,r=e.timingCallbacks,i=e.webview,o=function(e){var t=e.strategies,n=e.envManager,r=e.webview,i=e.sessionStrategy,o=Qe()(t||[]);return r.isWebView&&"true"===n.get("FF_WEBVIEW_NO_SESSION_STRATEGY")?o:o.concat(i)}({strategies:n,envManager:e.envManager,webview:i,sessionStrategy:new Ll({sessionManager:t})});return new Dl({sessionManager:t,strategies:(0,HC.L)()?[]:o,timingCallbacks:r})},deps:{sessionManager:Rc.db,strategies:(0,Y.jt)(Rc.sI),timingCallbacks:(0,Y.jt)(Rc.SG),webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN,envManager:y.vC}})]}),PR(LR=function(){})||LR),HR=(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.eventea,n=e.userAgent;return function(){var e="https:"===window.location.protocol;(function(e){void 0===e&&(e=!1);var t="supreme-test-cookies-enabled=",n=e?t+"; SameSite=None; Secure":t;return document.cookie=n,document.cookie.indexOf(t)>-1&&(document.cookie=n+"; expires=Thu, 01 Jan 1970 00:00:01 GMT",!0)})("none"==(n.sameSiteNoneCompatible&&e?"none":"lax"))||t.sendOnce({project:"supreme",event:"errors.cookiesUnavailable"})}},deps:{eventea:Sa.Bv,userAgent:L.N}}),GR=function(){function e(e){this.deps=e,this.name="AccessTokenStrategy"}var t=e.prototype;return t.authenticate=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.deps.webview.isWebView&&this.shouldUseStrategy()){e.next=2;break}return e.abrupt("return",t.pass());case 2:return r=Date.now(),e.prev=3,e.next=6,this.fetchApiAuthResult();case 6:n=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),null==(i=this.deps.eventea)||i.send({project:"supreme",event:"request-end-error",payload:{slug:"accessTokenAuthStrategy/createPortalSession",error:JSON.stringify(e.t0),stack:"stack"in e.t0?String(e.t0.stack):"",initiator:"supreme",statusCode:"empty",duration:Date.now()-r,url:"accessTokenAuthStrategy/createPortalSession"}}),this.deps.webviewManager.sendEndAuthenticate(),e.abrupt("return",t.pass());case 14:return o=Date.now(),e.prev=15,e.next=18,this.updateSession(n);case 18:e.next=24;break;case 20:return e.prev=20,e.t1=e.catch(15),null==(s=this.deps.eventea)||s.send({project:"supreme",event:"request-end-error",payload:{slug:"accessTokenAuthStrategy/updateSession",error:JSON.stringify(e.t1),stack:"stack"in e.t1?String(e.t1.stack):"",initiator:"supreme",statusCode:"empty",duration:Date.now()-o,url:"accessTokenAuthStrategy/updateSession"}}),e.abrupt("return",t.pass());case 24:t.success();case 25:case"end":return e.stop()}}),e,this,[[3,9],[15,20]])})));return function(t){return e.apply(this,arguments)}}(),t.shouldUseStrategy=function(){var e=this.deps.cookieManager.get(cO);return!!e&&(e.startsWith("1")?"true"===this.deps.envManager.get("FF_ENABLE_ACCESS_TOKEN_STRATEGY_FOR_V1"):"true"===this.deps.envManager.get("FF_ENABLE_ACCESS_TOKEN_STRATEGY_FOR_V2"))},t.authenticateAsync=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),e.next=3,this.deps.sessionManager.saveAndDispatchSession({sessionId:"",accessLevel:"CLIENT",ssoId:this.deps.cookieManager.get(lO),juniorFlg:!1,prepaidFlg:!1,hasSsoSession:!0,millisLeft:864e5,userId:this.deps.cookieManager.get(CR.It)});case 3:return this.fetchApiAuthResult().then(this.updateSession.bind(this)).catch((function(e){var t;null==(t=r.deps.eventea)||t.send({project:"supreme",event:"request-end-error",payload:{slug:"accessTokenAuthStrategy/createPortalSession",error:JSON.stringify(e),stack:"stack"in e?String(e.stack):"",initiator:"supreme/async",statusCode:"empty",duration:Date.now()-n,url:"accessTokenAuthStrategy/createPortalSession/async"}})})),e.abrupt("return",t.success());case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fetchApiAuthResult=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="true"===this.deps.envManager.get("FF_INLINE_ACCESS_TOKEN_STRATEGY"),n=Boolean(window.__ssoAccessTokenSession__||window.__accessTokenPromise__),t&&n){e.next=4;break}return e.abrupt("return",this.createPortalSession());case 4:return e.next=6,this.inlineCreatePortalSession();case 6:return r=e.sent,delete window.__ssoAccessTokenSession__,delete window.__accessTokenPromise__,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.inlineCreatePortalSession=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.__ssoAccessTokenSession__){e.next=7;break}return r=Number(null!=(t=this.deps.envManager.get("ACCESS_TOKEN_STRATEGY_TIMEOUT_PER_TRY_MS"))?t:5e3),i=1+Number(null!=(n=this.deps.envManager.get("ACCESS_TOKEN_STRATEGY_RETRIES"))?n:2),o=r*i,s=window.__accessTokenPromise__,e.next=7,Promise.race([s,eb(o)]);case 7:if(window.__ssoAccessTokenSession__&&"string"!=typeof window.__ssoAccessTokenSession__){e.next=9;break}throw new Error(window.__ssoAccessTokenSession__||"SSO timeout get by token");case 9:return e.abrupt("return",window.__ssoAccessTokenSession__);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createPortalSession=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=0),r=Number(null!=(n=this.deps.envManager.get("ACCESS_TOKEN_STRATEGY_RETRIES"))?n:2),e.prev=2,e.next=5,this.deps.apiClient.request({method:"GET",path:"session/webview/get_by_token",timeout:Number(null!=(i=this.deps.envManager.get("ACCESS_TOKEN_STRATEGY_TIMEOUT_PER_TRY_MS"))?i:5e3),silent:!0,cache:!1,credentials:"include"});case 5:if(u=e.sent,(null==(o=u.payload)?void 0:o.accessLevel)!==el.t1.ANONYMOUS){e.next=8;break}throw new Error("Somehow accessLevel after auth received ANONYMOUS");case 8:if(null!=(s=u.payload)&&s.sessionId){e.next=10;break}throw new Error("Somehow sessionId after auth received "+u.payload.sessionId);case 10:return e.abrupt("return",u.payload);case 13:if(e.prev=13,e.t0=e.catch(2),!(t<r)){e.next=17;break}return e.abrupt("return",this.createPortalSession(t+1));case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),t.updateSession=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deps.sessionManager.saveAndDispatchSession({sessionId:t.sessionId,accessLevel:t.accessLevel,ssoId:this.deps.cookieManager.get(lO),juniorFlg:t.juniorFlg,prepaidFlg:t.prepaidFlg,hasSsoSession:!0,millisLeft:t.sessionMillisLeft,userId:this.deps.cookieManager.get(CR.It)});case 2:n=Date.now(),this.deps.sessionManager.updateSessionStatus(t.sessionId).catch((function(e){var t;null==(t=r.deps.eventea)||t.send({project:"supreme",event:"request-end-error",payload:{slug:"accessTokenAuthStrategy/updateSessionStatus",error:JSON.stringify(e),stack:"stack"in e?String(e.stack):"",initiator:"supreme",statusCode:"empty",duration:Date.now()-n,url:"accessTokenAuthStrategy/updateSessionStatus"}})}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),ZR=(0,h.Y)({providers:[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"FF_ENABLE_ACCESS_TOKEN_STRATEGY_FOR_V1",optional:!0},{key:"FF_ENABLE_ACCESS_TOKEN_STRATEGY_FOR_V2",optional:!0},{key:"ACCESS_TOKEN_STRATEGY_RETRIES",optional:!0},{key:"ACCESS_TOKEN_STRATEGY_TIMEOUT_PER_TRY_MS",optional:!0},{key:"FF_INLINE_ACCESS_TOKEN_STRATEGY",optional:!0}]}),(0,u.J)({provide:Rc.sI,useClass:GR,deps:{sessionManager:Rc.db,cookieManager:k.T,envManager:y.vC,eventea:Sa.Bv,apiClient:mo,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN,webviewManager:Hy.WEBVIEW_MANAGER_TOKEN},multi:!0})]})(DR=function(){})||DR,KR=n(37624),JR=n.n(KR);function zR(e){var t=e.hidden,n=e.disabled,r=e.children,i=(0,$n.useState)(!1),o=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,i,2),a=o[0],s=o[1],u=(0,$n.useCallback)((function(){s(!0)}),[]);if(t&&(n||a))return null;var c=[JR().fadeOutOverlay,t?JR().hide:void 0].filter(Boolean).join(" ");return(0,Xn.jsx)("div",{className:c,onAnimationEnd:u,children:r})}var YR,QR,XR,$R,eI,tI,nI=function(e){var t=e.children,n=(0,$n.useState)(!1),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(pe.Z,n,2),i=r[0],o=r[1],a=(0,tr.x)({pageService:Zt.Y9,renderMode:Wn.TRAMVAI_RENDER_MODE}),s=a.pageService,u=a.renderMode,c=(0,_r.y)(),l=function(e){var t,n=e.pageService,r=e.defaultRenderMode,i=n.getConfig(),o=i.pageComponent,a=i.pageRenderMode,s=(null!=(t=n.getComponent(o||""))?t:{}).renderMode,u=a||s||r;return"function"==typeof u?u():u}({pageService:s,defaultRenderMode:u});if((0,$n.useEffect)((function(){"client"===l&&o(!0)}),[]),"client"!==l)return(0,Xn.jsx)(Xn.Fragment,{children:t});var d="/mybank/auth/"===c.path;return(0,Xn.jsxs)(Xn.Fragment,{children:[(0,Xn.jsx)(zR,{hidden:i,disabled:d,children:jR||(jR=(0,Xn.jsx)(Ph.c,{}))}),i?t:null]})},rI=function(e){return function(t){return(0,Xn.jsx)(nI,{children:(0,Xn.jsx)(e,Object.assign({},t))})}},iI=(YR=(0,h.Y)({providers:[(0,u.J)({provide:y.sQ,multi:!0,useValue:[{key:"FF_FALLBACK_COMPONENT_HIDE_ANIMATION",optional:!0}]}),(0,u.J)({provide:Wn.LAYOUT_OPTIONS,multi:!0,useFactory:function(e){var t,n=e.wrapperType;return"true"===e.envManager.get("FF_FALLBACK_COMPONENT_HIDE_ANIMATION")?{wrappers:(t={},t[n]=rI,t)}:{}},deps:{wrapperType:Gn,envManager:y.vC}})]}),YR(QR=function(){})||QR),oI=[(0,u.J)({provide:Ia,multi:!0,useFactory:function(e){return"true"===e.envManager.get("FF_ENABLE_FORMAT_DETECTION")?function(e){e.updateMeta(10,{formatDetection:{tag:"meta",attributes:{name:"format-detection",content:"telephone=no"}}})}:function(){}},deps:{envManager:y.vC}})],aI=(XR=(0,h.Y)({imports:[],providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,oI)}),XR($R=function(){})||$R);function sI(e){if(e)return e.split(".").slice(-2).map((function(e){return"."+e})).join("")}var uI,cI,lI,dI,fI,pI=(eI=(0,h.Y)({providers:[(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.eventea,n=e.envManager,r=e.cookieManager,i=e.webview;return function(){var e=n.get("ASSETS_PREFIX"),o=e?function(e){var t=new RegExp(e+"platform(.[0-9a-f]{16})?.js"),n=Array.from(document.querySelectorAll("head script[src]")).find((function(e){return t.test(e.src)}));return function(e,t){var n;if(e){var r=null==(n=e.match(t))?void 0:n[1];return r?r.slice(1):void 0}}(null==n?void 0:n.src,t)}(e):void 0;if(o)if((0,HC.L)()){var a={name:cC.B1,value:o,expires:31536e3,domain:sI(window.location.hostname)};r.set(a),window.supremeLogger.sendEventeaEvent(new XMLHttpRequest)("webview.cacheWarmupCookieSet")}else if(i.isWebView){var s=r.get(cC.B1);t.send({project:"supreme",event:"webview.cacheWarmup",payload:{isCached:s===o,currentHash:o,hashFromCookie:s}})}}},deps:{eventea:Sa.Bv,envManager:y.vC,cookieManager:k.T,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN}})]}),eI(tI=function(){})||tI),vI=(0,h.Y)({providers:[]})(uI=function(){})||uI,hI=(0,R.y)("toggleFinancialDataView"),gI=(0,E.L)("FinancialDataView",{hidden:!1}).on(hI,(function(e,t){return{hidden:null!=t?t:!e.hidden}})),mI=function(){function e(e){var t=e.store,n=e.pubsub;this.store=void 0,this.pubsub=void 0,this.store=t,this.pubsub=n,this.addToggleViewHandler()}var t=e.prototype;return t.addToggleViewHandler=function(){var e=this;this.pubsub.subscribe(Om.WebViewResponseType.onMaskedBalancesChanged,(function(t){"unmasked"===t?e.store.dispatch(hI(!1)):"masked"===t&&e.store.dispatch(hI(!0))}))},t.get=function(){return this.store.getState(gI)},t.watch=function(e){var t=this.store.getState(gI);return this.store.subscribe(gI,(function(n){e(n,t),t=n}))},e}(),yI=(cI=(0,h.Y)({imports:[],providers:[(0,u.J)({provide:b.Ym,multi:!0,useValue:gI}),(0,u.J)({provide:Ng.MICRO_DI_FINANCIAL_DATA_VIEW_TOKEN,useClass:mI,deps:{store:b.kR,pubsub:se.k3}}),(0,u.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.store,n=e.router;return function(){"true"===n.getCurrentUrl().query.masked&&t.dispatch(hI(!0))}},deps:{store:b.kR,router:Zt.l1}})]}),cI(lI=function(){})||lI),bI=(0,h.Y)({providers:[]})(dI=function(){})||dI,_I=(0,h.Y)({providers:[]})(fI=function(){})||fI,EI=n(53188);function wI(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(0,s.r)({name:"supreme",modules:[uv.forRoot({trackAndUpdateSsoId:!0}),VR,WE,bI,TC.a,qE.xk,dC,cd,Bn,dc,Cc,lC,Bo,wa,qr,ss,qs,or,iI,Nb,gc,Qc,Hy.WebViewModule,zw,pR,pI,ad,qR,fh,Op,aE,ZR,pA,FR,vd,zE,Ed,GO,Ff.forRoot({atmContainer:"inhouse",mode:"client"}),YC].concat(wI(i.Z,[]),[tp,ER,OR,ld,hd,yf,cf,ph.Sd,vh.Se,Zb,Kb,W_,Vf,Vn,qf,TS,NO,Hf,wA,Zf.forRoot(["https://cdn.tbank.ru","www.tinkoff.ru/api/cfg/","https://media.tinkoff.ru","https://imgproxy.cdn-tinkoff.ru"]),tE,Jb,xh,Gf,p_,Nh,XA,SC,yI,mE,nw],wI(i.Z,[WR.r8]),[yE.p,nb,np,bE,DE,Oh.Az,_I,KO,vI],wI(i.Z,"true"===EI.env.MOCKER_ENABLED?[n(26442).AO.forRoot({config:{allowInjection:!0,debug:!0,log:{level:"info",transports:{console:{colorize:!0,format:"%level: %message"},file:{path:"mb.log",format:"json"}}}}})]:[]),[SE,TE,Zm.Wr,k_,BE,pS,dw,ww,vS,CA,mO,HO,rC,JO,uC,wC,fR,_R,aI]),providers:[(0,u.J)({provide:c.Bi.resolvePageDeps,useFactory:function(e){var t=e.responseManager,n=e.envManager;return function(){if("false"!==n.get("FF_SERVICE_WORKER_HTML_HANDLER"))return t.setHeader("Access-Control-Allow-Origin","https://www-f2.tbank.ru")}},deps:{envManager:y.vC,responseManager:dt.r},multi:!0})].concat(wI(i.Z,Ch.supremeEnvsProvider),wI(i.Z,"true"===EI.env.MOCKER_ENABLED?[(0,u.J)({provide:Fs,multi:!0,useFactory:function(e){var t,n,i=e.envManager;return t={method:"post",path:"/env-manager",handler:function(e){return(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.update(e.body),t.abrupt("return",i.getAll());case 2:case"end":return t.stop()}}),t)})))()}},Object.assign(t.handler,((n={}).__papi_parameters__=Object.assign({},t,{options:Object.assign({timeout:1e4},t.options),method:t.method||"all"}),n))},deps:{envManager:y.vC}})]:[]),wI(i.Z,Ch.userAgentProvider),wI(i.Z,Ch.fontsProvider),wI(i.Z,Ch.microDiEnvsProvider),wI(i.Z,rE),wI(i.Z,Ch.inMemoryCacheProvider),[IA],wI(i.Z,Ch.routeResolveExtendProvider),[Ch.satisfiesBrowserProvider,Ch.installTypeProvider],wI(i.Z,Ch.supremeUrlsProvider),[(0,u.J)({provide:Zn,scope:l.s.SINGLETON,useFactory:function(e){return"true"===e.envManager.get("FF_FALLBACK_COMPONENT_HIDE_ANIMATION")?function(){return null}:Ph.c},deps:{envManager:y.vC}}),(0,u.J)({provide:yd,useValue:!0}),(0,u.J)({provide:Gn,useValue:"layout"}),(0,u.J)({provide:b.Ym,useValue:[WR.kz]}),(0,u.J)({provide:c.Bi.init,multi:!0,useFactory:function(e){var t=e.eventea;return function(){t&&t.send({project:"supreme",event:"init-tramvai-app"})}},deps:{eventea:{token:Sa.Bv,optional:!0}}})],wI(i.Z,[HR,(0,u.J)({provide:c.Bi.customerStart,useFactory:function(e){var t=e.router,n=e.eventea,i=e.isContextAuthPage,o=e.networkEffectiveType;return function(){t.registerHook("afterNavigate",function(){var e=(0,r.Z)(a().mark((function e(t){var r,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.from,u=t.to,null==n||n.send({project:"supreme",event:"page-opened",payload:{transitionType:"spa",navigationType:(0,QC.Y)(),path:null!=(r=null==u?void 0:u.path)?r:"unknown"}}),i(null==s?void 0:s.path)&&(c=performance.measure("time-to-redirect-from-context-auth",DT),o.then((function(e){null==n||n.send({project:"supreme",event:"iframeAuthRedirectToApp",payload:{duration:(null==c?void 0:c.duration)||0,effectiveType:e}})})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},deps:{router:Zt.l1,eventea:{token:Sa.Bv,optional:!0},isContextAuthPage:Ch.IS_CONTEXT_AUTH_PAGE_TOKEN,networkEffectiveType:_C}})]),[{provide:"additionalLabelNames",useValue:["render_mode"],multi:!0},{provide:"getAdditionalLabelValues",useValue:function(e,t){var n=t.getHeader("ib_render_mode");return n?{render_mode:n}:{}},multi:!0}],wI(i.Z,1==!!EI.env.TRAMVAI_FORCE_CLIENT_SIDE_RENDERING?[(0,u.J)({provide:"router bundleInfoAdditional",useFactory:function(){return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})))}})]:[]),[(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.envManager,n=e.metricsRegistry;return function(){var e=t.get("CONFIG_API"),r=t.get("RESOURCES_API");null==n||n.register(e+"/web-gateway/getResponse","CONFIG_API_GET_RESPONSE"),null==n||n.register(e+"/api-gateway/getResponse","CONFIG_API_GET_RESPONSE"),null==n||n.register(e+"/web-gateway/getPreview","CONFIG_API_GET_PREVIEW"),null==n||n.register(e+"/api-gateway/getPreview","CONFIG_API_GET_PREVIEW"),null==n||n.register(e+"/resources","CONFIG_API_RESOURCES_API"),null==n||n.register(r+"/resources","CDN_RESOURCES_API"),null==n||n.register(e+"/api-gateway/travel/getToggles","CONFIG_API_GET_TOGGLES"),null==n||n.register(e+"/api-gateway/v2/getToggles","CONFIG_API_GET_TOGGLES"),null==n||n.register(e+"/api-gateway/getToggles","CONFIG_API_GET_TOGGLES")}},deps:{envManager:y.vC,metricsRegistry:{token:ls,optional:!0}}}),(0,u.J)({provide:Wn.RESOURCE_INLINE_OPTIONS,useValue:{threshold:61440,types:[Hr.LO.style]}}),Ch.localStorageServiceProvider,dy,(0,u.J)({provide:Hy.WEBVIEW_OPTIONS_TOKEN,useFactory:function(){return{isSendOnLoadPage:!1}}}),(0,u.J)({provide:Rc.C7,useFactory:function(e){var t=e.envManager,n=e.renderModeFactory,r=e.webview;return function(){var e="function"==typeof n?n():n;return"true"===t.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")||"client"===e||r.isWebView}},deps:{envManager:y.vC,renderModeFactory:Wn.TRAMVAI_RENDER_MODE,webview:Hy.WEBVIEW_INIT_PARAMS_TOKEN}})]),bundles:{mainDefault:function(){return Promise.resolve({default:Db})}}})},65341:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},u:function(){return o}});var r=n(42353),i=n(58426),o=(0,r.y)("set ColorScheme"),a=(0,i.L)("ColorScheme","light").on(o,(function(e,t){return t}))},85048:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(35207),i=n(44121),o=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}(0,r.Z)(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e,t){this.props.onError&&this.props.onError(e,t)},n.render=function(){return this.state.hasError?this.props.fallback:this.props.children},t}(n.n(i)().Component)},84011:function(e,t,n){"use strict";n.d(t,{A$:function(){return s},Zi:function(){return a},gu:function(){return o}});var r=n(42353),i=n(58426),o=(0,r.y)("open iosPwa"),a=(0,r.y)("close iosPwa"),s=(0,i.L)("iosPwa",{isOpen:!1}).on(o,(function(e){return Object.assign({},e,{isOpen:!0})})).on(a,(function(e){return Object.assign({},e,{isOpen:!1})}))},82535:function(e,t,n){"use strict";n.d(t,{WY:function(){return r},k4:function(){return o},y7:function(){return i}});var r="showPwa",i=5e3,o="ib_ios_pwa_close"},47997:function(e,t,n){"use strict";n.d(t,{B2:function(){return u},Hs:function(){return i},Kl:function(){return d},M2:function(){return c},Nn:function(){return o},PT:function(){return f},Uh:function(){return p},j8:function(){return a},n8:function(){return v},pr:function(){return s},qp:function(){return l}});var r=n(59999),i=(0,r.V3)("boxyService"),o=(0,r.V3)("microfrontsRenderer"),a=(0,r.V3)("microfrontsMetrics"),s=(0,r.V3)("SEND_LOGOUT_REQUEST_TOKEN"),u=(0,r.V3)("LOGOUT_CALLBACK_TOKEN"),c=(0,r.V3)("divalToken"),l=(0,r.V3)("ssoHttpClient"),d=(0,r.V3)("adaptivePrefetchToken"),f=(0,r.V3)("globalQueryClientToken"),p=(0,r.V3)("LAYOUT_TOKEN"),v=(0,r.V3)("MOBILE_PLATFORM_TOKEN")},54883:function(e,t,n){"use strict";n.d(t,{p:function(){return h}});var r=n(66598),i=n(97570),o=n(80772),a=n(37621),s=n(67570),u=n(56873),c=n(42353),l=n(58426),d=(0,c.y)("start_page_loading"),f=(0,l.L)("loadingSpeed",{timeStart:void 0}).on(d,(function(e){return Object.assign({},e,{timeStart:new Date})})),p=n(17062),v=[(0,i.J)({provide:o.Bi.init,useFactory:function(e){var t=e.store;return function(){t.dispatch(d())}},multi:!0,deps:{store:a.kR}}),(0,i.J)({provide:o.Bi.generatePage,useFactory:function(e){var t=e.store,n=e.eventea,r=e.router;return function(){var e,i=t.getState(f).timeStart,o=(new Date).getTime()-((null==i?void 0:i.getTime())||(new Date).getTime());null==n||n.send({project:"supreme",event:"page-opened",payload:{transitionType:"hard",navigationType:(0,p.Y)(),path:null!=(e=r.getCurrentRoute().path)?e:"unknown"}}),null==n||n.send({project:"supreme",event:"loadingTime",payload:{timeToLoad:o,timeInterval:"unknown"}})}},multi:!0,deps:{eventea:{token:s.Bv,optional:!0},store:a.kR,router:u.l1}}),(0,i.J)({provide:a.Ym,multi:!0,useValue:f})],h=(0,r.J)({name:"PageMetrics",providers:v})},47070:function(e,t,n){"use strict";function r(){var e=window.performance.getEntriesByName("page-open","mark")[0];return null==e?void 0:e.startTime}n.d(t,{t:function(){return r}})},85336:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=(0,n(59999).V3)()},97937:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(44121),i=n(47070);function o(e){var t=e.commandLineTimings,n=e.eventea,o=e.urlMask;(0,r.useEffect)((function(){var e,r,a,s=performance.now(),u=null!=(e=null==t||null==(r=t.customer)||null==(r=r.generate_page)?void 0:r.start)?e:0,c=null!=(a=(0,i.t)())?a:0;null==n||n.sendOnce({project:"supreme",event:"metrics.pageRenderTime",payload:{urlMask:o,duration:s-u,durationOpen:s-c}})}),[])}},23021:function(e,t,n){"use strict";n.r(t),n(47035),n(96873);var r="text/plain",i=function(e){var t=document.getSelection();if(t){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}},o=function(){var e=document.getSelection();e&&e.removeAllRanges()},a=function(e){var t={success:!1},n=function(n){return function(e,t,n){var i=n.clipboardData;if(i){for(var o in e.success=!0,t){var a=t[o];i.setData(o,a),o===r&&i.getData(o)!==a&&(e.success=!1)}n.preventDefault()}else n.preventDefault()}(t,e,n)};document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success};function s(e,t){i(e);var n=a(t);return o(),n}navigator.clipboard||(navigator.clipboard={read:function(){throw new Error("clipboard.read is not implemented")},readText:function(){throw new Error("clipboard.readText is not implemented")},write:function(){throw new Error("clipboard.readWrite is not implemented")}}),navigator.clipboard.writeText=navigator.clipboard.writeText||function(e){return t=function(e){var t={};return t[r]=e,t}(e),a(t)||s(document.body,t)||function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=s(t,e);return document.body.removeChild(t),n}(t)||function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(n=t.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=e,n.appendChild(r),document.body.appendChild(t),i(r);var a=document.execCommand("copy");return o(),document.body.removeChild(t),a}(t[r])?Promise.resolve():Promise.reject();var t},n(34336),n(41393),window.ResizeObserver||(window.ResizeObserver=n(95219).Z)},41393:function(){Object.hasOwn=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},34336:function(){window.requestIdleCallback=window.requestIdleCallback||function(e,t){var n=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-n))}})}),(null==t?void 0:t.timeout)||1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},80873:function(e,t,n){"use strict";n.d(t,{H:function(){return i},V:function(){return r}});var r="supreme_prefetch",i=4e4},52967:function(e,t,n){"use strict";n.d(t,{AT:function(){return S.AT},r8:function(){return I},kz:function(){return O},hT:function(){return k}});var r,i,o=n(45232),a=n(17935),s=n.n(a),u=n(67570),c=n(80283),l=n(97570),d=n(80772),f=n(56873),p=n(21159),v=n.n(p),h=n(71833),g=n(43732),m=n(82571),y=n(49076),b=n(37621),_=n(14908),E=n(33464),w=n(48510),S=n(21549),T=n(42353),A=n(58426),k=(0,T.y)("setNaqvigationInitiator"),O=(0,A.L)("blockNavigationPayloadInfo",null).on(k,(function(e,t){return t})),C=n(80873),R=n(29956),I=(r=(0,c.Y)({providers:[(0,l.J)({provide:S.e,useValue:new Set}),(0,l.J)({provide:m.sQ,multi:!0,useValue:[{key:"APP_ID",optional:!0}]}),(0,l.J)({provide:S.hx,useFactory:function(e){var t=e.router,n=e.pageService,r=e.linkPrefetchManager,i=e.context,a=e.envManager,u=e.prefetchedPathCache,c=e.getRetryUrl;return function(e,l){var d,f,p=a.get("APP_ID"),m=(null!=(d=null!=l?l:p)?d:"unknown_app")+"_prefetch";e.map((function(e){return e.replaceAll(":","")})).forEach((function(e){window.requestIdleCallback((function(){return r.prefetch(e+"?"+m+"=true").then((0,o.Z)(s().mark((function r(){var o,a,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.resolve(e)){r.next=3;break}return r.abrupt("return");case 3:if(a=n.getContent(o)){r.next=6;break}return r.abrupt("return");case 6:return u.add(o.path),f||(f=new h.z({baseMappingExtensions:i.di.get(g.kE),overwritingMappingExtension:i.di.get(g.N3)})),f.registerTree(a),r.next=11,f.transformTree();case 11:if(!(l=f.getTree())){r.next=15;break}return r.next=15,v()({tree:l,baseUrl:"",getRetryUrl:c});case 15:case"end":return r.stop()}}),r)}))))}))}))}},deps:{router:f.l1,pageService:f.Y9,linkPrefetchManager:f.fw,context:y.l,envManager:m.vC,prefetchedPathCache:S.e,getRetryUrl:w.Jc}}),(0,l.J)({provide:S.QK,useFactory:function(e){var t=e.router,n=e.pageService,r=e.prefetchPages,i=e.prefetchNavScope;return function(e){var o,a,s=n.getConfig();if(t.getCurrentUrl().path.startsWith(i)){var u=null!=(o=null==s||null==(a=s.prefetchUrls)?void 0:a.split(";"))?o:[],c=u.filter((function(e){return e.includes(i)}));if(r(c,e),!new URL(window.location.href).searchParams.get("prerender")){var l,d=u.filter((function(e){return!e.includes(i)}));if(0===d.length)return;var f=null!=(l=d.reverse().map((function(e){var t=new URL(e,window.location.origin);return t.searchParams.set("prerender","true"),t.href})))?l:[],p=function(){var e=document.createElement("iframe");return e.setAttribute("id","ib_prerender"),e.setAttribute("title","ib_prerender"),e.style.cssText="width: 0px; height: 0px; position: absolute; left: -9999px; visibility: hidden; pointer-events: none;",e.setAttribute("sandbox","allow-scripts allow-same-origin"),document.body.appendChild(e),e}();!function e(){var t=f.pop();t?(p.setAttribute("src",t),p.onload=function(){setTimeout((function(){e()}),C.H)}):p.remove()}()}}}},deps:{router:f.l1,pageService:f.Y9,prefetchPages:S.hx,prefetchNavScope:S.AT}}),(0,l.J)({provide:d.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.router,n=e.envManager,r=e.prefetchedPathCache,i=e.eventea,a=e.eventeaProject,u=e.store,c=e.userAgent;return function(){var e=n.get("APP_ID"),l=(null!=e?e:"unknown-app")+"-before-resolve",d=function(){var e=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:performance.mark(l);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.registerHook("beforeResolve",d),t.registerHook("beforeUpdateCurrent",d);var f=t.getCurrentRoute();f&&r.add(f.path),t.registerSyncHook("change",(function(e){var t,n,o,s,d,f=u.getState(_.sH),p=(null==(t=e.from)?void 0:t.path)||(null==(n=f.previousRoute)?void 0:n.path),v=null==(o=f.currentRoute)?void 0:o.path,h=u.getState(O),g=(null==(s=e.fromUrl)?void 0:s.pathname)===(null==(d=e.url)?void 0:d.pathname);if(i&&p&&v&&!g){var m=r.has(v);r.add(v),requestAnimationFrame((function(){var e=performance.measure("before-resolve-to-after-spa-transition",l),t="mobile"===c.device.type;setTimeout((function(){i.send({project:a,event:"router-navigate-to",payload:{from:p,to:v,isPrefetch:m,duration:null==e?void 0:e.duration,initiator:null==h?void 0:h.blockType,isMobile:t}}),u.dispatch(k(null))}),0)}))}}))}},deps:{router:f.l1,envManager:m.vC,prefetchedPathCache:S.e,eventea:{token:u.Bv,optional:!0},eventeaProject:R.X,store:b.kR,userAgent:E.N}})]}),r(i=function(){})||i)},21549:function(e,t,n){"use strict";n.d(t,{AT:function(){return a},QK:function(){return i},e:function(){return s},hx:function(){return o}});var r=n(59999),i=(0,r.V3)("prefetchToken"),o=(0,r.V3)("prefetchPagesToken"),a=(0,r.V3)("prefetch nav scope token"),s=(0,r.V3)("prefetchedPathCache")},7777:function(e,t,n){"use strict";n.d(t,{S:function(){return l},a:function(){return p}});var r,i=n(80283),o=n(97570),a=n(37621),s=n(82912),u=n(83351),c=n(10776),l=(0,n(59999).V3)("pwaDco"),d=n(32507),f="isSubscribedToPush",p=(0,i.Y)({providers:[(0,o.J)({provide:l,useFactory:function(e){var t=e.isPwa,n=e.store,r=e.cookieManager,i=e.requestManager,o=function(e){var t,n=new Date("31 Dec 9999 23:59:59 GMT"),o=(null==(t=i.getParsedUrl().host.match(/(.tbank.ru)|(.tinkoff.ru)/))?void 0:t[0])||".tbank.ru";r.set({name:f,value:e,expires:n,domain:o})};r.get(f)||o("false");var a="true"===r.get(f);return n.subscribe(u.vZ,(function(e){var t=e.subscribed,n=e.permissionState,r=e.status;switch(!0){case t&&a:break;case t&&!a:o("true"),a=!0;break;case!t&&"UNSUBSCRIBED"===r&&a:case a&&"default"===n:o("false"),a=!1}})),function(){return{isPwa:t(),isPushAllowed:a}}},deps:{store:a.kR,isPwa:d.I,cookieManager:c.T,requestManager:s.G}})]})(r=function(){})||r},33411:function(e,t,n){"use strict";n.d(t,{Rk:function(){return s},Im:function(){return a.I},Az:function(){return p}});var r,i=n(80283),o=n(82571),a=n(32507),s=(0,n(59999).V3)("IS_IFRAME_AUTH_ON_PWA"),u={provide:s,useFactory:function(e){return function(){var t=e.isPwa,n="true"===e.envManager.get("IS_CONTEXT_AUTH_ENABLED");return t()&&n}},deps:{envManager:o.vC,isPwa:a.I}},c=n(15688),l=(n(86927),n(10776)),d=n(82912),f=(a.I,l.T,d.G,{provide:a.I,useFactory:function(e){var t=e.displayMode,n=e.requestManager,r=e.cookieManager;return function(){var e=n.getParsedUrl().query,i="pwa"===r.get("ib-app-type");return function(e){if(!e)return!1;var t=e.startFrom,n=e.utm_source;return"pwa"===t||"pwaStandaloneApp"===n}(e)||"standalone"===t||i}},deps:{displayMode:c.DISPLAY_MODE_TOKEN,requestManager:d.G,cookieManager:l.T}}),p=(0,i.Y)({providers:[f,u]})(r=function(){})||r},32507:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var r=(0,n(59999).V3)("is_pwa")},83051:function(e,t,n){"use strict";n.d(t,{Xi:function(){return r.Xi},dP:function(){return r.dP},f$:function(){return r.f$},kP:function(){return r.kP}}),n(54540);var r=n(39255)},54540:function(e,t,n){"use strict";n.d(t,{yP:function(){return b},Sd:function(){return A},ST:function(){return y}});var r,i=n(80283),o=n(97570),a=n(37621),s=n(17173),u=n(82571),c=n(17638),l=n(69736),d=n(83092),f=n(56873),p=n(42353),v=n(58426),h=n(5881),g=n.n(h),m=(0,p.y)("update role model"),y=(0,v.L)("roleModel",{role:{accessLevel:null,authorizationLevel:null,mode:null,subscription:null,meta:null},subscriptionLoadStatus:c.yL.notRequested}).on(m,(function(e,t){var n={accessLevel:t.accessLevel,authorizationLevel:t.authorizationLevel,mode:t.mode,subscription:t.subscription,meta:t.meta};return g()(n,e.role)&&(n=e.role),{role:n,subscriptionLoadStatus:t.subscriptionLoadStatus}})),b=(0,n(59999).V3)("roleModelToken"),_=n(24240),E=n(92105),w=function(){function e(e,t,n,r,i){var o=this;this.accessLevel=null,this.authorizationLevel=null,this.mode=null,this.subscription=null,this.meta=null,this.subscriptionLoadStatus=c.yL.notRequested,this.current={accessLevel:this.accessLevel,authorizationLevel:this.authorizationLevel,mode:this.mode,subscription:this.subscription,meta:this.meta,subscriptionLoadStatus:this.subscriptionLoadStatus},this.store=void 0,this.bundlesApiService=void 0,this.excludeSubscription=void 0,this.store=t,this.bundlesApiService=r,this.excludeSubscription=i,this.init(),e.subscribe("module:authenticate:auth",(function(e){o.accessLevel=e.session.accessLevel,o.setAuthorizationLevel(e.session.campaign),o.setMode(e.session),o.update(),o.getSubscription()}))}var t=e.prototype;return t.getValueSync=function(){return{role:{accessLevel:this.accessLevel,authorizationLevel:this.authorizationLevel,mode:this.mode,subscription:this.subscription,meta:this.meta},subscriptionLoadStatus:this.subscriptionLoadStatus}},t.init=function(){var e=this.store.getState(E.p);this.accessLevel=e.accessLevel||c.uv.anonymous,this.setAuthorizationLevel(""),this.setMode(e),this.getSubscription(),this.update()},t.hasPermission=function(e){return Promise.resolve(!0)},t.update=function(){var e={accessLevel:this.accessLevel,authorizationLevel:this.authorizationLevel,mode:this.mode,subscription:this.subscription,meta:this.meta,subscriptionLoadStatus:this.subscriptionLoadStatus};JSON.stringify(e)!==JSON.stringify(this.current)&&(this.current=e,this.store.dispatch(m(this.current)))},t.setAuthorizationLevel=function(e){e?(this.authorizationLevel=c.EP.link,this.meta={authorizationLevel:{link:{campaign:{id:e}}}}):this.authorizationLevel=c.EP.full},t.setMode=function(e){switch(!0){case e.prepaidFlg:this.mode=c.AR.prepaid;break;case e.juniorFlg||e.isJunior:this.mode=c.AR.junior;break;default:this.mode=c.AR.ordinary}},t.getSubscription=function(){var e,t=this;null!=(e=this.excludeSubscription)&&e.call(this,this.authorizationLevel,this.accessLevel)||(this.subscriptionLoadStatus=c.yL.loading,this.bundlesApiService.request({path:"allBundles"}).then((function(e){var n=e.payload;t.subscriptionLoadStatus=c.yL.success,t.setSubscription(n),t.update()})).catch((function(e){t.subscriptionLoadStatus=c.yL.fail,t.update()})))},t.setSubscription=function(e){var t=this,n=e.filter((function(e){return e.active})).map((function(e){return e.code}));n.length?Object.values(c.w0).forEach((function(e){n.includes(e)&&(t.subscription=e)})):this.subscription=null},e}(),S=n(28531),T=n(68973),A=(0,i.Y)({imports:[],providers:[(0,o.J)({provide:a.Ym,multi:!0,useValue:[y]}),(0,o.J)({provide:b,useFactory:function(e){var t=e.pubsub,n=e.store,r=e.sessionManager,i=e.bundlesApiService,o=e.router,a=e.webview;return new w(t,n,r,i,(function(e){return!(null==a||!a.isWebView)||!!(0,T.L)()||!(!o.getCurrentUrl().query[_.yP]&&e!==c.EP.link)}))},deps:{sessionManager:l.db,pubsub:s.k3,store:a.kR,bundlesApiService:d.h,router:f.l1,envManager:u.vC,webview:S.WEBVIEW_INIT_PARAMS_TOKEN}})]})(r=function(){})||r},39255:function(e,t,n){"use strict";n.d(t,{dP:function(){return T},Se:function(){return D},f$:function(){return A},Xi:function(){return g},kP:function(){return w}});var r,i=n(80283),o=n(97570),a=n(37621),s=n(17173),u=n(82571),c=n(83092),l=n(69736),d=n(56873),f=n(43732),p=n(42353),v=n(58426),h=(0,p.y)("update role model V2"),g=(0,v.L)("roleModelV2",{role:{name:"unauthorized"}}).on(h,(function(e,t){return JSON.stringify(t)===JSON.stringify(e.role)?e:{role:t}})),m=n(5881),y=n.n(m),b=(0,p.y)("update subscription V2 status to loading"),_=(0,p.y)("update subscription V2 status to fail"),E=(0,p.y)("update subscription V2 status to success"),w=(0,v.L)("subscription",{type:"not-requested"}).on(b,(function(e){return Object.assign({},e,{type:"loading"})})).on(_,(function(e){return Object.assign({},e,{type:"fail"})})).on(E,(function(e,t){return y()(t,e)?e:Object.assign({},e,{type:"success",value:t})})),S=n(59999),T=(0,S.V3)("roleModelTokenV2"),A=(0,S.V3)("subscriptionTokenV2"),k=n(92105),O=n(78944),C=n(29376),R=function(){function e(e){var t=this,n=e.store,r=e.pubsub,i=e.eventea;this.store=void 0,this.eventea=void 0,this.store=n,this.eventea=i;var o=n.getState(k.p);this.store.dispatch(h(this.calculateRoleModel(o))),r.subscribe(O.qD,(function(e){t.store.dispatch(h(t.calculateRoleModel(e.session)))}))}var t=e.prototype;return t.getValueSync=function(){return this.store.getState(g)},t.watch=function(e){var t=this.store.getState(g);return this.store.subscribe(g,(function(n){e(n,t),t=n}))},t.calculateRoleModel=function(e){var t,n,r;switch(!0){case e.accessLevel===C.t1.ANONYMOUS:return{name:"unauthorized"};case e.accessLevel===C.t1.REGISTERED&&!e.juniorFlg:return{name:"lightClient",authorizationLevel:this.getAuthorizationLevel(e.campaign)};case e.accessLevel===C.t1.REGISTERED&&e.juniorFlg:return{name:"junior",authorizationLevel:this.getAuthorizationLevel(e.campaign)};case e.accessLevel===C.t1.CLIENT&&!e.juniorFlg:return{name:"client",authorizationLevel:this.getAuthorizationLevel(e.campaign)};default:return null==(t=this.eventea)||t.send({event:"roleModel.unknown",project:"supreme",payload:{accessLevel:null!=(n=e.accessLevel)?n:"undefined",juniorFlg:null!=(r=e.juniorFlg)&&r}}),{name:"unauthorized"}}},t.getAuthorizationLevel=function(e){return{type:e?"link":"full"}},e}(),I=n(92584),N=["pro","premium","private","team_select","team_pro","team_premium","team_private"],M=function(){function e(e,t,n,r,i,o,a){var s=this;this.store=t,this.roleModel=n,this.bundlesApiService=r,this.requestLogger=i,this.envManager=o,this.excludeSubscription=a,this.abortController=null,this.loadSubscription(),e.subscribe(I.qD,(function(){s.loadSubscription()}))}var t=e.prototype;return t.getValueSync=function(){return this.store.getState(w)},t.watch=function(e){var t=this.store.getState(w);return this.store.subscribe(w,(function(n){e(n,t),t=n}))},t.loadSubscription=function(){var e,t,n=this;if(null==(e=this.excludeSubscription)||!e.call(this,this.roleModel.getValueSync())){null==(t=this.abortController)||t.abort(),this.abortController=new AbortController;var r=this.envManager.get("BUNDLES_API")+"allBundles";this.store.dispatch(b());var i=Date.now();this.requestLogger.requestStart({url:r,slug:"allbundles"}),this.bundlesApiService.request({path:"allBundles",signal:this.abortController.signal}).then((function(e){var t=e.payload;n.store.dispatch(E(n.bundlesToSubscription(t))),n.requestLogger.requestEnd({url:r,result:"success",slug:"allbundles",statusCode:"200",duration:Date.now()-i})})).catch((function(e){n.store.dispatch(_()),n.requestLogger.requestEnd({url:r,result:"error",slug:"allbundles",statusCode:null==e?void 0:e.code,stack:null==e?void 0:e.stack,duration:Date.now()-i})}))}},t.bundlesToSubscription=function(e){var t;return null!=(t=e.filter((function(e){return e.active&&e.primary})).map((function(e){return e.code})).find((function(e){return e&&N.includes(e)})))?t:null},e}(),x=n(24240),P=n(28531),L=n(68973),D=(0,i.Y)({imports:[],providers:[(0,o.J)({provide:a.Ym,multi:!0,useValue:[g]}),(0,o.J)({provide:a.Ym,multi:!0,useValue:[w]}),(0,o.J)({provide:T,useClass:R,deps:{sessionManager:l.db,pubsub:s.k3,store:a.kR,bundlesApiService:c.h}}),(0,o.J)({provide:A,useFactory:function(e){var t=e.pubsub,n=e.store,r=e.bundlesApiService,i=e.router,o=e.roleModelV2,a=e.envManager,s=e.requestLogger,u=e.webview;return new M(t,n,o,r,s,a,(function(e){return!(null==u||!u.isWebView)||!!(0,L.L)()||!!(i.getCurrentUrl().query[x.yP]||e&&"unauthorized"!==e.role.name&&"link"===e.role.authorizationLevel.type)}))},deps:{pubsub:s.k3,store:a.kR,bundlesApiService:c.h,router:d.l1,roleModelV2:T,requestLogger:f.gp,envManager:u.vC,webview:P.WEBVIEW_INIT_PARAMS_TOKEN}})]})(r=function(){})||r},32263:function(e,t,n){"use strict";n.d(t,{G2:function(){return a},Q1:function(){return i},Zq:function(){return o}});var r=n(59999),i="banner-closed-time",o=(0,r.V3)("bannerConfigService"),a="ios-pwa-closed-time"},42061:function(e,t,n){"use strict";n.d(t,{ch:function(){return c},xk:function(){return A}});var r,i,o=n(4504),a=n.n(o),s=n(90130),u=function(){return r||(r=(0,s.jsxs)("svg",{width:"192",height:"192",viewBox:"0 0 192 192",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M32 32H160V96.3879C160 112.884 151.193 128.148 136.91 136.385L96 160L55.0902 136.385C40.8071 128.125 32 112.884 32 96.3879V32Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67.1372 65.8823V85.9151C69.8752 82.8121 74.8492 80.7358 80.5533 80.7358H86.7365V104.009C86.7365 110.192 85.0481 115.622 82.5611 118.611H109.462C106.975 115.622 105.286 110.215 105.286 104.031V80.7358H111.469C117.151 80.7358 122.148 82.8349 124.886 85.9151V65.8823H67.1372Z",fill:"#333333"})]}))},c=function(){return(0,s.jsx)("div",{className:"supreme-splash-screen "+a().splash_screen,children:(0,s.jsx)("div",{className:a().splash_screen_logo_wrapper,id:"splashscreen_logo",children:i||(i=(0,s.jsx)(u,{}))})})},l=n(59999),d=n(97570),f=n(33464),p=n(33411),v=(0,l.V3)("shouldShowSplashScreen"),h=(0,d.J)({provide:v,useFactory:function(e){var t=e.userAgent,n=e.isPwa;return"mobile"===t.device.type&&n()},deps:{isPwa:p.Im,userAgent:f.N}}),g=n(80283),m=n(8479),y=n(23436),b=n(73212);function _(){var e,t,n,r,i=window.matchMedia("(display-mode: standalone)").matches;if(n=(t=new URL(window.location.toString()).searchParams).get("startFrom"),r=t.get("utm_source"),"pwa"===n||"pwaStandaloneApp"===r||i){var o=!1;try{o="false"!==window.sessionStorage.getItem("is_first_load")}catch(e){var a=new XMLHttpRequest;window.supremeLogger.sendEventeaEvent(a)("sessionstorage.unavailable",{errorMessage:"Cannot define if is first load",errorStack:"updateSplashScreenVisibility.inline.ts"})}var s=document.createElement("style");s.setAttribute("id","splashscreen-style");var u=o?"supreme-loader":"supreme-splash-screen";s.textContent="."+u+" { display: none; }",document.head.appendChild(s);var c=o?"#ffdd2d":"rgb(255, 255, 255)";null==(e=document.querySelector("meta[name=theme-color]"))||e.setAttribute("content",c)}}var E=n(54883);function w(){var e,t,n,r=window.matchMedia("(display-mode: standalone)").matches;if(t=(e=new URL(window.location.toString()).searchParams).get("startFrom"),n=e.get("utm_source"),"pwa"===t||"pwaStandaloneApp"===n||r){var i=document.createElement("style"),o=window.screen.height,a=852===o||932===o?30:24;i.textContent="#splashscreen_logo{transform:translateY(-"+a+"px)}",document.head.appendChild(i)}}var S,T=n(28531),A=(0,g.Y)({imports:[E.p],providers:[h,(0,d.J)({provide:m.RENDER_SLOTS,multi:!0,useFactory:function(e){var t=e.webview;return null!=t&&t.isWebView?[]:{slot:y.HEAD_CORE_SCRIPTS,type:b.LO.inlineScript,payload:"("+w+")()"}},deps:{webview:T.WEBVIEW_INIT_PARAMS_TOKEN}}),(0,d.J)({provide:m.RENDER_SLOTS,multi:!0,useFactory:function(e){var t=e.webview;return null!=t&&t.isWebView?[]:{slot:y.HEAD_CORE_SCRIPTS,type:b.LO.inlineScript,payload:"("+_+")()"}},deps:{webview:T.WEBVIEW_INIT_PARAMS_TOKEN}})]})(S=function(){})||S},84117:function(e,t,n){"use strict";n.d(t,{$5:function(){return N},kg:function(){return F.kg},Wp:function(){return F.Wp},Wr:function(){return K},RF:function(){return D}});var r=n(52723),i=n(58903),o=n(33926),a=n(54143),s=n(81935),u=["query","toString"];function c(e,t){if(e)return{name:e.name,pattern:e.path,path:e.actualPath,params:e.params,navigateState:e.navigateState,failRoute:t}}function l(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=e[i];Array.isArray(o)?t[i]=o.join(","):t[i]=o}return t}function d(e){if(e){var t=e.query,n=e.toString,r=(0,o.Z)(e,u);return Object.assign({},r,{toString:function(){return n()},query:l(t)})}}function f(e,t,n){var r=function(e){var t,n,r=null!=(t=null==(n=e.match(/:(\w+)/g))?void 0:n.map((function(e){return e.slice(1)})))?t:[];return function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(i.Z,new Set(r))}(e),o=r.filter((function(e){return!t[e]}));return o.length&&n(o),r.reduce((function(e,n){var r=t[n];return r?e.replace(new RegExp(":"+n,"g"),""+r):e}),e)}var p=n(52967),v=["query","preserveQuery"];function h(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return g(t,void 0!==n&&n<r?n:r)}return e(t,n)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=("string"==typeof e?{url:e}:e).url,r=t.router.getCurrentUrl();return n?new URL(n,r.origin):void 0}var y,b,_,E=n(45232),w=n(17935),S=n.n(w),T=n(80283),A=n(97570),k=n(37621),O=n(56873),C=n(16254),R=n(59999),I=(0,R.V3)("ibFailRouteToken"),N=(0,R.V3)("ibFailRouteCbToken"),M=n(42353),x=n(58426),P=(0,M.y)("handleRouteFail"),L=(0,M.y)("clearError"),D=(0,x.L)("failRouteStore",null).on(P,(function(e,t){return Object.assign({},t)})).on(L,(function(){return null})),j=(0,T.Y)({providers:[(0,A.J)({provide:I,useFactory:function(e){var t=e.store,n=e.pageService,r=e.callBack;return{handleFailRoute:function(e,i){var o,a=n.getConfig();null!=r&&r({pageConfig:a,type:e,options:i})||"enableFailRoute"in(o=a)&&"boolean"==typeof o.enableFailRoute&&a.enableFailRoute&&t.dispatch(P(Object.assign({type:e},i)))}}},deps:{store:k.kR,pageService:O.Y9,callBack:{token:N,optional:!0}}}),(0,A.J)({provide:C.jB,multi:!0,useFactory:function(e){var t=e.store;return(0,E.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getState(D)&&t.dispatch(L());case 1:case"end":return e.stop()}}),e)})))},deps:{store:k.kR}}),(0,A.J)({provide:k.Ym,useValue:[D],multi:!0})]})(y=function(){})||y,B=n(17173),U=n(67570),F=n(46858),V=n(33411),W=n(7027),q=n(46636),H=n(20719),G=function(){function e(e){var t=this;this.router=void 0,this.pubsub=void 0,this.isWebviewNavigation=void 0,this.navScope=void 0,this.isNoHardNavigate=void 0,this.isPwa=void 0,this.mainPageUrl=void 0,this.previousPageUrl=void 0,this.previousPageRoute=void 0,this.handleFailRoute=void 0,this.isPwa=e.isPwa,this.router=e.router,this.pubsub=e.pubsub,this.isWebviewNavigation=e.isWebviewNavigation,this.navScope=e.navScope,this.isNoHardNavigate=e.isNoHardNavigate,this.handleFailRoute=e.routeFail.handleFailRoute,this.mainPageUrl=e.mainPageUrl,this.subscribe((function(e){var n=e.from,r=e.to,i=e.fromUrl;n&&(!t.previousPageRoute&&n||r&&r.name!==n.name)&&(t.previousPageRoute=n,t.previousPageUrl=i)}))}var t=e.prototype;return t.subscribe=function(e){var t=this;return this.router.registerSyncHook("change",(function(n){e({from:c(n.from,t.handleFailRoute),to:c(n.to,t.handleFailRoute),fromUrl:d(n.fromUrl),url:d(n.url),replace:n.replace})}))},t.navigate=function(){var e=(0,E.Z)(S().mark((function e(t){var n,r,i,o,a,s,u,c,l,d,f,p,v,h;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u="string"==typeof t?{url:t}:t,c=this.router.getCurrentUrl(),l=u.url,d=u.target,null==(n=this.isWebviewNavigation)||!n.call(this,u,c.query)){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:if(f=null==l?void 0:l.endsWith(".pdf"),d!==q.$.blank&&d!==q.$.top&&!f){e.next=11;break}return f&&(d=q.$.blank),window.open(this.buildUrl({url:l||"",query:u.query,preserveQuery:u.preserveQuery},c),d),e.abrupt("return",Promise.resolve());case 11:if(p=l?new URL(l,c.origin):void 0,v=!(null!=p&&p.searchParams.has("redirectToNewDomain")),h=(null==p?void 0:p.host)&&/tbank.ru|tinkoff.ru/.test(p.host)&&p.host!==c.host,v&&this.isPwa()&&h&&(p.host=c.host,u.url=p.toString()),!(!l||!p||p.pathname.startsWith(this.navScope)&&p.origin===c.origin||null!=(r=this.isNoHardNavigate)&&r.call(this,u))){e.next=17;break}return e.abrupt("return",this.router.navigate(u));case 17:if(null==(i=this.pubsub)||i.publish(H.$l),!u.params){e.next=20;break}throw new Error("navigate: params доступен только для "+this.navScope);case 20:return null==(o=u.url)||!o.match("login")||null!=(a=u.url)&&a.includes("redirectTo")||null!=(s=u.query)&&s.redirectTo||(u.query=Object.assign({},u.query||{},{redirectTo:c.path})),window.location.href=this.buildUrl({url:l,query:u.query,preserveQuery:u.preserveQuery},c),e.abrupt("return",Promise.resolve());case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.navigateBack=function(e){var t;if(null!=(t=window.history)&&null!=(t=t.state)&&null!=(t=t.navigateState)&&t.previousRoute){var n=window.history.state.navigateState.previousRoute;if(!this.isBackNavigationBlackListed(n))return window.history.back(),Promise.resolve()}var r=(null==e?void 0:e.fallbackPage)||this.mainPageUrl,i="string"==typeof r?{url:r,closeWebview:!0}:Object.assign({},r,{closeWebview:!0});return this.navigate(Object.assign({},i,{replace:!0}))},t.getPreviousPageUrl=function(){return this.previousPageUrl},t.getPreviousPageRoutePattern=function(){var e;return null==(e=this.previousPageRoute)?void 0:e.pattern},t.isBackNavigationBlackListed=function(e){var t=e.path;return[/\/auth\//].some((function(e){return e.test(t)}))},t.buildUrl=function(e,t){var n=e.url,r=e.query,i=e.preserveQuery,o=new URL(n,t.origin);if(i)for(var a=0,s=Object.keys(t.query);a<s.length;a++){var u=s[a];o.searchParams.set(u,""+t.query[u])}if(r)for(var c=0,l=Object.keys(r);c<l.length;c++){var d=l[c];o.searchParams.set(d,""+r[d])}return o.toString()},(0,W.Z)(e,[{key:"rootRoterNavScope",get:function(){return this.navScope}}]),e}(),Z=n(62426),K=(b=(0,T.Y)({imports:[j],providers:[(0,A.J)({provide:F.ym,useClass:G,deps:{router:O.l1,isNoHardNavigate:{optional:!0,token:F.vY},isWebviewNavigation:{optional:!0,token:F.Wp},pubsub:B.k3,routeFail:I,navScope:Z.NAV_SCOPE_TOKEN,isPwa:V.Im,mainPageUrl:Z.MAIN_PAGE_URL_TOKEN}}),(0,A.J)({provide:F.kg,useFactory:function e(t,n){var u=t.rootRouter,l=t.eventea,y=t.routeFail,b=t.store;return void 0===n&&(n="supreme"),{subscribe:function(e){return u.subscribe(e)},navigate:function(e){return function(e,t){var n=t.router.getCurrentUrl(),r=m(e,t);return!r||r.pathname.startsWith(t.rootRoterNavScope)&&r.origin===n.origin}(e,u)&&!function(e,t){var n=t.router.getCurrentUrl(),r=m(e,t);return(null==r?void 0:r.pathname)===n.pathname}(e,u)&&(b.dispatch((0,p.hT)({blockType:n})),null==l||l.send({project:"supreme",event:"router.navigateStart",payload:{initiator:n,to:"string"==typeof e?e:e.url||"unknown"}})),u.navigate(e)},navigateBack:function(e){return b.dispatch((0,p.hT)(null)),u.navigateBack(e)},createChild:function(t){return e({rootRouter:u,eventea:l,routeFail:y,store:b},t)},updateRoute:function(e){var t=e.query,n=e.preserveQuery,a=(0,o.Z)(e,v);if(t instanceof URLSearchParams){var s=new URL(u.router.getCurrentUrl().href),c=s.searchParams;if(!n)for(var l=0,d=h(i.Z,c.keys());l<d.length;l++){var f=d[l];c.delete(f)}for(var p,m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.entries(),!0);!(p=m()).done;){var y=h(r.Z,p.value,2),b=y[0],_=y[1];c.append(b,_)}return u.router.updateCurrentRoute(Object.assign({},a,{url:s.toString()}))}return u.router.updateCurrentRoute(Object.assign({query:t,preserveQuery:n},a))},getCurrentRoute:function(){return c(u.router.getCurrentRoute(),y.handleFailRoute)},getCurrentUrl:function(){return d(u.router.getCurrentUrl())},getPreviousPageUrl:function(){return u.getPreviousPageUrl()},getPreviousPageRoutePattern:function(){return u.getPreviousPageRoutePattern()},getRoute:function(e){return u.router.resolve(e)},resolveUrl:function(e,t){return f(e,t,(function(t){return null==l?void 0:l.sendOnce({project:"supreme",event:"error.template.string",payload:{blockType:n,tool:"Функция router.resolveUrl",errorMessage:"Не переданы обязательные для шаблона параметры: "+JSON.stringify(t)+". Шаблон URL: '"+e+"'."}},e)}))},useRoute:function(){return c((0,a.y)(),y.handleFailRoute)},useUrl:function(){return d((0,s.w)())}}},deps:{eventea:{token:U.Bv,optional:!0},rootRouter:F.ym,routeFail:I,store:k.kR}}),(0,A.J)({provide:F.Nf,useFactory:function(e){var t=e.router;return{useFactory:function(e){var n=e.blockType;return t.createChild(n)}}},deps:{router:F.kg}})]}),b(_=function(){})||_)},46858:function(e,t,n){"use strict";n.d(t,{Nf:function(){return o},Wp:function(){return u},kg:function(){return a},vY:function(){return s},ym:function(){return i}});var r=n(59999),i=(0,r.V3)("ib root router token"),o=(0,r.V3)("ib router factory token"),a=(0,r.V3)("ib router token"),s=(0,r.V3)("ib router is no hard navigate"),u=(0,r.V3)("ib router webview navigate")},98877:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r=(0,n(59999).V3)("SUPREME_SSO_AUTH_COMPONENT_TOKEN")},68973:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(80882),i=n(28531);function o(){var e=window.location.pathname,t=new URLSearchParams(window.location.search);return"/mybank/wvpreload/"===e&&"true"===t.get(i.IS_WEB_VIEW)||e.startsWith(r.$N)}},80882:function(e,t,n){"use strict";n.d(t,{$N:function(){return r},B1:function(){return o},ds:function(){return i}});var r="/supreme/webview-preload/",i=r+"*/",o="webview-preload-hash"},28531:function(e,t,n){"use strict";n.d(t,{IS_WEB_VIEW:function(){return T},WEBVIEW_INIT_PARAMS_TOKEN:function(){return _.VO},WEBVIEW_MANAGER_TOKEN:function(){return _.o3},WEBVIEW_OPTIONS_TOKEN:function(){return _.Dv},WebViewModule:function(){return Y}});var r=n(45232),i=n(17935),o=n.n(i),a=n(80283),s=n(97570),u=n(29772),c=n(37621),l=n(82571),d=n(17173),f=n(56873),p=n(33464),v=n(20076),h=n(67570),g=n(78047),m=n(16254),y=n(92105),b=n(21789),_=n(99186),E=n(2576),w=n(17638),S={isSendOnLoadPage:!0,isNavigation:!0},T="iswebview",A=[/TCSMB/,/\/WF\//],k=/iOS\(([\d.]+)\)\/TCSMB\/([\d.]+)/i,O=/android[: ]+([\d.]+)\/TCSMB\/([\d.]+)/i,C=["/login","auth"],R=[E.WebViewMessageType.close,E.WebViewMessageType.error,E.WebViewMessageType.authenticateEnd,E.WebViewMessageType.navigate],I=n(52723);function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return x(t,void 0!==n&&n<r?n:r)}return e(t,n)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){return/custom_.+_.+/i.test(null==e?void 0:e.type)?"***":JSON.stringify(null==e?void 0:e.value)},L=n(58232),D=n(65341);var j,B,U=n(47070),F=function(){function e(e){var t,n=e.pubsub,r=e.router,i=e.options,o=e.eventea,a=e.initParams,s=e.statistClient,u=e.oldWebviewUrl,c=e.pageService,l=e.roleModelV2,d=e.store,f=e.envManager;this.pubsub=void 0,this.router=void 0,this.eventea=void 0,this.statistClient=void 0,this.pageService=void 0,this.roleModelV2=void 0,this.store=void 0,this.envManager=void 0,this.config=void 0,this.oldWebviewUrl=void 0,this.isSendAuthEnd=!1,this.spaEnrichmentParameters=void 0,this.isSendPageLoaded=!1,this.savedMobileMessages={},this.isWebView=!1,this.version=void 0,this.osVersion=void 0,this.platform=void 0,this.initialState=void 0,this.pubsub=n,this.router=r,this.eventea=o,this.statistClient=s,this.initialState=a?a.initParams:{},this.config=Object.assign({},S,i),this.isSendAuthEnd=!1,this.oldWebviewUrl=u,this.pageService=c,this.roleModelV2=l,this.store=d,this.envManager=f,this.spaEnrichmentParameters=Object.values(E.WebViewParamType),null!=(t=window)&&null!=(t=t.inlineWebview)&&t.savedMobileMessages&&(this.savedMobileMessages=window.inlineWebview.savedMobileMessages),null!=a&&a.isWebView&&(this.isWebView=null==a?void 0:a.isWebView,this.platform=null==a?void 0:a.type,this.osVersion=null==a?void 0:a.osVersion,this.version=null==a?void 0:a.version,"1"!==this.initialState.darkMode&&"1"!==this.initialState.darkmode&&"dark"!==this.initialState.mode||(this.initialState.theme="dark")),this.isWebView&&this.subscriptions()}var t=e.prototype;return t.subscriptions=function(){var e=this;this.config.isNavigation&&this.pubsub.subscribe(E.WebViewResponseType.failedNavigation,(function(){e.sendPostMessageToMobile({type:E.WebViewMessageType.error,value:{title:"Что-то пошло не так",subtitle:"Не смогли открыть страницу"}})})),this.config.isSendOnLoadPage&&window.addEventListener("load",(function t(){e.pageLoad(),window.removeEventListener("load",t)})),this.pubsub.subscribe(E.WebViewResponseType.onThemeChanged,(function(t){var n,r,i,o;null!=(n=null!=(r=e.pageService.getConfig())?r:{})&&n.fixedTheme||!0===(null==(i=null!=(o=e.pageService.getConfig())?o:{})?void 0:i.enableChangeColorTheme)&&(e.store.dispatch((0,D.u)(t)),e.initialState.theme=t)}))},t.sendEndAuthenticate=function(){this.sendPostMessageToMobile({type:E.WebViewMessageType.authenticateEnd,value:null})},t.sendPostMessageToMobile=function(e){var t,n,r,i,o,a,s,u=this;R.some((function(t){return t===e.type}))&&(null==(t=this.statistClient)||t.forceSend());var c,l=null==(n=null!=(r=this.pageService.getConfig())?r:{})?void 0:n.notSendAuthenticateEnd,d={},f=P(e);if(e.type===E.WebViewMessageType.authenticateEnd){if(!0===this.isSendAuthEnd)return;this.isSendAuthEnd=!0,l&&(d.withoutNative=!0)}e.type!==E.WebViewMessageType.authenticateEnd&&e.type!==E.WebViewMessageType.pageLoad||(d.durationFromPageOpened=Date.now()-(void 0===(c=(0,U.t)())&&(c=0),Math.round((window.performance.timeOrigin||window.performance.timing.navigationStart||window.performance.timing.fetchStart)+c)));var p,v,h,g,m,y=null==(i=window.webkit)||null==(i=i.messageHandlers)||null==(i=i.nativeApp)||null==(i=i.postMessage)?void 0:i.bind(window.webkit.messageHandlers.nativeApp),b=null==(o=window.webkit)||null==(o=o.messageHandlers)||null==(o=o.mbWebViewMessage)||null==(o=o.postMessage)?void 0:o.bind(window.webkit.messageHandlers.mbWebViewMessage),_=null==(a=window.nativeApp)||null==(a=a.postMessage)?void 0:a.bind(window.nativeApp),w=null==(s=window.mbWebViewMessage)||null==(s=s.postMessage)?void 0:s.bind(window.mbWebViewMessage),S=y||b||_||w;if(S){if(e.type===E.WebViewMessageType.error&&(null==(p=this.eventea)||p.send({project:"supreme",event:"webview.webError",payload:{error:JSON.stringify(e.value)}})),"true"===this.envManager.get("FF_WEBVIEW_SEND_METRIC_NOEVENTEA")?window.supremeLogger.sendAll("webview.sendPostMessageToMobile",Object.assign({type:e.type,value:f,accessLevel:null==(v=this.roleModelV2)||null==(v=v.getValueSync())||null==(v=v.role)?void 0:v.name},d)):null==(h=this.eventea)||h.send({project:"supreme",event:"webview.sendPostMessageToMobile",payload:Object.assign({type:e.type,value:f,accessLevel:null==(g=this.roleModelV2)||null==(g=g.getValueSync())||null==(g=g.role)?void 0:g.name},d)}),e.type!==E.WebViewMessageType.authenticateEnd||!l){var T=Boolean(b||w),A=e;T&&"creditcardsonlinesign"===this.initialState.oldscheme&&(A=function(e){var t=e.type,n=e.value;return e.type===E.WebViewMessageType.pageLoad?t="success":e.type===E.WebViewMessageType.openDocument?(t="pdf",n={url:n}):e.type===E.WebViewMessageType.error?(t="error",n=null):e.type===E.WebViewMessageType.close&&(n=null),{type:t=t.replace(/^custom_\w+_/,""),value:n}}(e));try{S(JSON.stringify(A))}catch(e){var k;null==(k=this.eventea)||k.send({project:"supreme",event:"webview.failedToSendPostMessage",payload:{error:(0,L.n)(e)?e.message:""+e}})}}}else this.oldWebviewUrl.every((function(e){return e!==u.router.getCurrentUrl().pathname}))&&(null==(m=this.eventea)||m.send({project:"supreme",event:"webview.noPostMessageMethod",payload:{type:e.type,value:f}}))},t.sendToWeb=function(e){var t,n;null!=e&&e.type&&(this.savedMobileMessages[null==e?void 0:e.type]=null==e?void 0:e.value),null==(t=this.eventea)||t.send({project:"supreme",event:"webview.sendToWeb",payload:{type:null==e?void 0:e.type,value:P(e)}}),null==(n=this.pubsub)||n.publish(null==e?void 0:e.type,null==e?void 0:e.value)},t.pageLoad=function(e){var t,n=this;if(void 0===e&&(e=!1),!this.isSendPageLoaded){var r=null==(t=this.pageService.getConfig())?void 0:t.isSendWebviewPageLoadedMF;r&&!e&&setTimeout((function(){n.pageLoad(!0)}),2e3),!r&&e||(this.isSendPageLoaded=!0,this.sendPostMessageToMobile({type:E.WebViewMessageType.pageLoad,value:null}))}},t.closeWebView=function(){this.sendPostMessageToMobile({type:E.WebViewMessageType.close,value:null})},t.sendError=function(e){this.sendPostMessageToMobile({type:E.WebViewMessageType.error,value:e})},t.navigate=function(e){return this.router.navigate(e)},t.deepLinkNavigate=function(e){this.sendPostMessageToMobile({type:E.WebViewMessageType.navigate,value:e})},t.openFileNavigate=function(e){this.sendPostMessageToMobile({type:E.WebViewMessageType.openDocument,value:e})},t.openNewTabNavigate=function(e){this.sendPostMessageToMobile({type:E.WebViewMessageType.openLinkInBrowser,value:e})},t.openNewTabInsideAppNavigate=function(e){this.sendPostMessageToMobile({type:E.WebViewMessageType.openLinkInApp,value:e})},t.askNavigate=function(e,t){var n,r,i,o=(null==(n=e.url)?void 0:n.href)||"",a=(null==(r=e.url)?void 0:r.path)||"";return t===w.uv.anonymous&&C.some((function(e){return a.startsWith(e)}))&&this.sendEndAuthenticate(),e.url=(0,g.DI)(o,function(e,t,n){for(var r,i={iswebview:"true"},o=N(t,!0);!(r=o()).done;){var a=r.value;e[a]&&(i[a]=e[a])}if(n)for(var s,u=N(n,!0);!(s=u()).done;){var c=s.value.trim();e[c]&&(i[c]=e[c])}return i}(this.initialState,this.spaEnrichmentParameters,null==(i=this.pageService.getConfig())||null==(i=i.webviewSpaPassedParams)?void 0:i.split(","))),this.savedMobileMessages={},Promise.resolve()},t.getOption=function(e){return function(e,t){var n=t[e];return n&&"string"!=typeof n?n.length?n[0]:void 0:n}(e,this.initialState)},e}(),V=n(60028),W=n.n(V),q={mobile:!0,wearable:!0},H=n(42353),G=n(58426),Z=(0,H.y)("set webviewParameters"),K=(0,G.L)("WebView",null).on(Z,(function(e,t){return Object.assign({},e,t)})),J=n(62426),z=n(83051),Y=(n(46210),j=(0,a.Y)({providers:[(0,s.J)({provide:c.Ym,multi:!0,useValue:K}),(0,s.J)({provide:_.Dv,useValue:S}),(0,s.J)({provide:_.VO,useFactory:function(e){var t=e.store;if(e.envManager.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")){var n=window.navigator.userAgent,r={isWebView:!1,initParams:(0,g.Qc)(window.location.href).query};if(function(e,t){return!(!A.some((function(t){return e.match(t)}))&&!t[T])}(n,r.initParams)){var i=function(e){if(e.match(/ios/i)){var t=e.match(k);if(t){var n=M(I.Z,t,3);return n[0],{osVersion:n[1],version:n[2],type:"iOS"}}}else{var r=e.match(O);if(r){var i=M(I.Z,r,3);return i[0],{osVersion:i[1],version:i[2],type:"android"}}}return{}}(n);r=Object.assign({},r,{isWebView:!0},i)}return t.dispatch(Z(r)),r}return t.getState(K)},deps:{store:c.kR,envManager:l.vC}}),(0,s.J)({provide:v.DG,useFactory:function(e){var t=e.appInfo,n=e.userAgent,r=e.webviewInitParams;return function(){var e,i=t.appName;return null!=r&&r.isWebView?"w"+i:n&&(e=n,q[W()(["device","type"],e)])?"m"+i:i}},deps:{appInfo:u.Qo,userAgent:p.N,options:{token:_.Dv,optional:!0},webviewInitParams:_.VO}}),(0,s.J)({provide:v.Q6,useFactory:function(e){var t=e.appInfo;return function(){return[t.appName,"m"+t.appName,"w"+t.appName]}},deps:{appInfo:u.Qo}}),(0,s.J)({provide:_.o3,useClass:F,deps:{pubsub:d.k3,router:f.l1,options:{token:_.Dv,optional:!0},eventea:{token:h.Bv,optional:!0},initParams:_.VO,statistClient:{token:b.E,optional:!0},oldWebviewUrl:J.OLD_WEBVIEW_URLS_TOKEN,pageService:f.Y9,roleModelV2:z.dP,store:c.kR,envManager:l.vC}}),(0,s.J)({provide:m.Yv,multi:!0,useFactory:function(e){var t=e.webView,n=e.store;return function(){var e=(0,r.Z)(o().mark((function e(r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.isWebView){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return i=n.getState(y.p),e.abrupt("return",t.askNavigate(r,i.accessLevel));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{webView:_.o3,store:c.kR}})]}),j(B=function(){})||B)},99186:function(e,t,n){"use strict";n.d(t,{Dv:function(){return o},VO:function(){return a},o3:function(){return i}});var r=n(59999),i=(0,r.V3)("webviewToken"),o=(0,r.V3)("webviewOptions"),a=(0,r.V3)("webviewInitParams")},46210:function(){},47037:function(e,t,n){"use strict";n.r(t);var r=n(44121),i=n(59999),o=n(67570),a=n(44488),s=n(54143),u=n(24592),c=n(82571),l=n(47997),d=(n(38418),n(21664),n(99186)),f=n(85336),p=n(97937),v=n(90130),h=0;t.default=function(){var e=(0,a.x)({BoxyRenderer:l.Nn,eventea:(0,i.jt)(o.Bv),analitycs:u.t3,webview:{optional:!0,token:d.o3},envManager:c.vC,commandLineTimings:(0,i.jt)(f.X)}),t=e.BoxyRenderer,n=e.eventea,g=e.analitycs,m=e.webview,y=e.commandLineTimings,b=(0,s.y)();return(0,p.h)({eventea:n,commandLineTimings:y,urlMask:b.path}),(0,r.useEffect)((function(){if(h++,null==n||n.send({project:"supreme",event:"pageRendered",payload:{routeName:b.name,count:h,dcoGeneralId:g.state.dcoGeneralId}}),1===h&&null!=m&&m.isWebView){var e,t=performance.measure("webview-render","page-open");if(null==n||n.send({project:"supreme",event:"webview.page.opened",payload:{duration:(null==t?void 0:t.duration)||0}}),"inlineWebview"in window)return null==(e=window.inlineWebview)||null==e.unSubscribeClick||e.unSubscribeClick(),m.isSendPageLoaded=!0,void delete window.inlineWebview;m.pageLoad()}}),[b.name]),(0,v.jsx)(t,{routeName:b.name},b.name)}},24015:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}}),n(38418);var r,i=n(44488),o=n(67570),a=n(30176),s=n(44121),u=n(59999),c=n(2576),l=n(33464),d=n(37621),f=n(56873),p=n(68613),v=n(83998),h=n.n(v),g=n(84117),m=n(62426),y=n(90130),b=function(){var e=(0,i.x)({cdnResources:m.CDN_RESOURCES_TOKEN,userAgent:l.N,router:f.l1,store:d.kR,mainPageUrl:m.MAIN_PAGE_URL_TOKEN}),t=e.cdnResources,n=e.userAgent,r=e.router,o=e.store,a=e.mainPageUrl,s="mobile"===n.device.type,u=t.notFoundImage,c=!!o.getState(g.RF);return(0,y.jsx)("div",{className:h().container,children:(0,y.jsx)("div",{className:"not-found-error "+(c?h().errorFailRoute:""),children:(0,y.jsx)(p.m,{description:"Она была удалена, или ссылка неверная. Проверьте данные или обратитесь в поддержку",enableActionButton:!0,actionButtonProps:{onClick:function(){return r.navigate(a)},theme:{background:"var(--tui-background-accent-1)"}},image:{alt:"не найдено",src:u},title:"Такой страницы нет",isMobile:s,embedded:c})})})},_=n(99186),E=function(){var e=(0,i.x)({eventea:(0,u.jt)(o.Bv),webview:{optional:!0,token:_.o3}}),t=e.eventea,n=e.webview;return(0,s.useEffect)((function(){null==t||t.send({project:"supreme",event:"not-found-requests"}),null!=n&&n.isWebView&&(null==n||n.sendPostMessageToMobile({type:c.WebViewMessageType.error,value:{title:"Такой страницы нет",subtitle:"Она была удалена, или ссылка неверная. Проверьте данные или обратитесь в поддержку"}}))}),[t,n]),r||(r=(0,y.jsx)(a.Z,{fit:"x",children:(0,y.jsx)(b,{})}))};E.renderMode="client",E.seo={metaTags:{title:"404 | Т-Банк"}};var w=E},18175:function(e,t,n){"use strict";n.r(t),n.d(t,{WebviewDebug:function(){return p}});var r,i,o=n(96589),a=n(44488),s=(n(38418),n(21664),n(15688)),u=n(84117),c=n(28531),l=n(85048),d=n(90130),f=(0,o.Vo)({chunkName:function(){return"components-WebviewDebugComponent"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("components-WebviewDebugComponent").then(n.bind(n,25960))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 25960}}),p=function(){var e=(0,a.x)({webview:{optional:!0,token:c.WEBVIEW_MANAGER_TOKEN},router:u.kg,finance:{optional:!0,token:s.MICRO_DI_FINANCIAL_DATA_VIEW_TOKEN}}),t=e.webview,n=e.router,o=e.finance;return(0,d.jsxs)("div",{children:[(0,d.jsx)(l.S,{fallback:r||(r=(0,d.jsx)("div",{children:"не загрузилось"})),children:(0,d.jsx)(f,{webview:t,router:n,finance:o})}),i||(i=(0,d.jsx)("div",{children:"Webview Debug Page"}))]})}},21476:function(e,t,n){"use strict";n.r(t),n.d(t,{WebviewPreload:function(){return u}});var r,i=n(44488),o=(n(38418),n(21664),n(44121)),a=n(28531),s=n(90130),u=function(){var e=(0,i.x)({webview:{optional:!0,token:a.WEBVIEW_MANAGER_TOKEN}}).webview;return(0,o.useEffect)((function(){null==e||e.pageLoad()}),[e]),r||(r=(0,s.jsx)("div",{"data-qa-type":"webview-preload"}))}},69297:function(e,t,n){"use strict";n.r(t),n.d(t,{WebviewRedirect:function(){return l}});var r,i=n(59999),o=n(44488),a=n(56873),s=n(44121),u=n(83173),c=n(90130),l=function(){var e=(0,o.x)({router:(0,i.jt)(a.l1)}).router;return(0,s.useEffect)((function(){var t=null==e?void 0:e.getCurrentUrl().query.redirecturl;t&&(0,u.isTrustedUrl)(t)&&(window.location.href=t)}),[e]),r||(r=(0,c.jsx)("div",{"data-qa-type":"webview-redirect"}))}},76765:function(e,t,n){"use strict";n.r(t),n.d(t,{trustedHostNames:function(){return r}});var r=["www.mvideo.ru","www.eldorado.ru","ostin.com"]},83173:function(e,t,n){"use strict";n.r(t),n.d(t,{isTrustedUrl:function(){return i}});var r=n(76765),i=function(e){try{var t=new URL(e);return!!r.trustedHostNames.includes(t.hostname)}catch(e){}return!1}},62992:function(e,t,n){"use strict";n.d(t,{A:function(){return a},N:function(){return s}});var r=n(97570),i=n(33464),o=n(8050),a=(0,n(59999).V3)("SATISFIES_BROWSER"),s=(0,r.J)({provide:a,useFactory:function(e){var t=e.userAgent,n=(0,o.L)(t,void 0,{forceMinimumUnknownVersions:!0});return null===n||n},deps:{userAgent:i.N}})},88763:function(e,t,n){"use strict";n.d(t,{h:function(){return d}});var r=n(33926),i=n(58903),o=n(97570),a=n(80772),s=n(33464),u=n(82571),c=["name","url"],l=[{name:"dsHeading",url:"DSHeading.woff2",style:"normal",weight:"400",display:"swap"},{name:"dsHeading",url:"DSHeading_Medium.woff2",style:"normal",weight:"500",display:"swap"},{name:"dsHeading",url:"DSHeading_Bold.woff2",style:"normal",weight:"700",display:"swap"},{name:"dsText",url:"NeueHaasUnicaW1G-Regular.woff2",style:"normal",weight:"400",display:"swap"},{name:"dsText",url:"NeueHaasUnicaW1G-Medium.woff2",style:"normal",weight:"500",display:"swap"}],d=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(i.Z,[(0,o.J)({provide:a.Bi.init,useFactory:function(e){var t=e.userAgent,n=e.envManager;return function(){var e="mobile"===t.device.type;if("true"===n.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")){var i=n.get("CDN_RESOURCES")||"https://cdn.tbank.ru";e||"undefined"==typeof FontFace||l.forEach((function(e){var t=e.name,n=e.url,o=(0,r.Z)(e,c),a=new FontFace(t,"url("+i+"frontend-libraries/npm/react-kit-font/2.0.0/"+n+")",Object.assign({},o));return document.fonts.add(a),a.load()}))}}},deps:{userAgent:s.N,envManager:u.vC}})])},68211:function(e,t,n){"use strict";n.d(t,{u:function(){return o}});var r=n(43732),i=n(97570),o="true"===n(53188).env.MOCKER_ENABLED?[(0,i.J)({provide:r.o1,useValue:{clear:function(){},delete:function(){return!1},dump:function(){return[]},load:function(){},get:function(){},set:function(){},has:function(){return!1},peek:function(){},size:0}})]:[]},62426:function(e,t,n){"use strict";n.d(t,{ACDN_RESOURCES_TOKEN:function(){return l.l0},APP_TITLE_TOKEN:function(){return l.PQ},AUTH_PAGE_URL_TOKEN:function(){return l.an},AUTH_REDIRECT_URL_TOKEN:function(){return l.z9},CDN_RESOURCES_TOKEN:function(){return l.Tm},CHAT_URL_TOKEN:function(){return l.W6},CONTEXT_AUTH_PAGE_URL_TOKEN:function(){return l.sH},CONTEXT_AUTH_REDIRECT_URL_TOKEN:function(){return l.Wx},IS_CONTEXT_AUTH_PAGE_TOKEN:function(){return l.CY},IS_NAV_SCOPE_TOKEN:function(){return l.Er},LOCAL_STORAGE_SERVICE_TOKEN:function(){return s.LOCAL_STORAGE_SERVICE_TOKEN},MAIN_PAGE_URL_TOKEN:function(){return l.r2},NAV_SCOPE_TOKEN:function(){return l.PB},NOT_FOUND_URL_TOKEN:function(){return l.n4},OLD_WEBVIEW_URLS_TOKEN:function(){return l.SS},PWA_LOGOUT_REDIRECT_URL_TOKEN:function(){return l.zB},SATISFIES_BROWSER_TOKEN:function(){return f.A},WEBVIEW_DEBUG_URL_TOKEN:function(){return l.NT},WEBVIEW_PRELOAD_URL_TOKEN:function(){return l.lZ},WEBVIEW_REDIRECT_URL_TOKEN:function(){return l.Bm},fontsProvider:function(){return r.h},inMemoryCacheProvider:function(){return i.u},installTypeProvider:function(){return c.R},localStorageServiceProvider:function(){return s.localStorageServiceProvider},microDiEnvsProvider:function(){return o.o},routeResolveExtendProvider:function(){return d.T},satisfiesBrowserProvider:function(){return f.N},supremeEnvsProvider:function(){return u.K},supremeUrlsProvider:function(){return l.yi},userAgentProvider:function(){return a.r}});var r=n(88763),i=n(68211),o=n(84072),a=n(50479),s=n(62332);n.o(s,"ACDN_RESOURCES_TOKEN")&&n.d(t,{ACDN_RESOURCES_TOKEN:function(){return s.ACDN_RESOURCES_TOKEN}}),n.o(s,"APP_TITLE_TOKEN")&&n.d(t,{APP_TITLE_TOKEN:function(){return s.APP_TITLE_TOKEN}}),n.o(s,"AUTH_PAGE_URL_TOKEN")&&n.d(t,{AUTH_PAGE_URL_TOKEN:function(){return s.AUTH_PAGE_URL_TOKEN}}),n.o(s,"AUTH_REDIRECT_URL_TOKEN")&&n.d(t,{AUTH_REDIRECT_URL_TOKEN:function(){return s.AUTH_REDIRECT_URL_TOKEN}}),n.o(s,"CDN_RESOURCES_TOKEN")&&n.d(t,{CDN_RESOURCES_TOKEN:function(){return s.CDN_RESOURCES_TOKEN}}),n.o(s,"CHAT_URL_TOKEN")&&n.d(t,{CHAT_URL_TOKEN:function(){return s.CHAT_URL_TOKEN}}),n.o(s,"CONTEXT_AUTH_PAGE_URL_TOKEN")&&n.d(t,{CONTEXT_AUTH_PAGE_URL_TOKEN:function(){return s.CONTEXT_AUTH_PAGE_URL_TOKEN}}),n.o(s,"CONTEXT_AUTH_REDIRECT_URL_TOKEN")&&n.d(t,{CONTEXT_AUTH_REDIRECT_URL_TOKEN:function(){return s.CONTEXT_AUTH_REDIRECT_URL_TOKEN}}),n.o(s,"IS_CONTEXT_AUTH_PAGE_TOKEN")&&n.d(t,{IS_CONTEXT_AUTH_PAGE_TOKEN:function(){return s.IS_CONTEXT_AUTH_PAGE_TOKEN}}),n.o(s,"IS_NAV_SCOPE_TOKEN")&&n.d(t,{IS_NAV_SCOPE_TOKEN:function(){return s.IS_NAV_SCOPE_TOKEN}}),n.o(s,"MAIN_PAGE_URL_TOKEN")&&n.d(t,{MAIN_PAGE_URL_TOKEN:function(){return s.MAIN_PAGE_URL_TOKEN}}),n.o(s,"NAV_SCOPE_TOKEN")&&n.d(t,{NAV_SCOPE_TOKEN:function(){return s.NAV_SCOPE_TOKEN}}),n.o(s,"NOT_FOUND_URL_TOKEN")&&n.d(t,{NOT_FOUND_URL_TOKEN:function(){return s.NOT_FOUND_URL_TOKEN}}),n.o(s,"OLD_WEBVIEW_URLS_TOKEN")&&n.d(t,{OLD_WEBVIEW_URLS_TOKEN:function(){return s.OLD_WEBVIEW_URLS_TOKEN}}),n.o(s,"PWA_LOGOUT_REDIRECT_URL_TOKEN")&&n.d(t,{PWA_LOGOUT_REDIRECT_URL_TOKEN:function(){return s.PWA_LOGOUT_REDIRECT_URL_TOKEN}}),n.o(s,"SATISFIES_BROWSER_TOKEN")&&n.d(t,{SATISFIES_BROWSER_TOKEN:function(){return s.SATISFIES_BROWSER_TOKEN}}),n.o(s,"WEBVIEW_DEBUG_URL_TOKEN")&&n.d(t,{WEBVIEW_DEBUG_URL_TOKEN:function(){return s.WEBVIEW_DEBUG_URL_TOKEN}}),n.o(s,"WEBVIEW_PRELOAD_URL_TOKEN")&&n.d(t,{WEBVIEW_PRELOAD_URL_TOKEN:function(){return s.WEBVIEW_PRELOAD_URL_TOKEN}}),n.o(s,"WEBVIEW_REDIRECT_URL_TOKEN")&&n.d(t,{WEBVIEW_REDIRECT_URL_TOKEN:function(){return s.WEBVIEW_REDIRECT_URL_TOKEN}}),n.o(s,"installTypeProvider")&&n.d(t,{installTypeProvider:function(){return s.installTypeProvider}}),n.o(s,"routeResolveExtendProvider")&&n.d(t,{routeResolveExtendProvider:function(){return s.routeResolveExtendProvider}}),n.o(s,"satisfiesBrowserProvider")&&n.d(t,{satisfiesBrowserProvider:function(){return s.satisfiesBrowserProvider}}),n.o(s,"supremeEnvsProvider")&&n.d(t,{supremeEnvsProvider:function(){return s.supremeEnvsProvider}}),n.o(s,"supremeUrlsProvider")&&n.d(t,{supremeUrlsProvider:function(){return s.supremeUrlsProvider}});var u=n(53474),c=n(3973),l=n(63802),d=n(83252),f=n(62992)},3973:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var r=n(97570),i=n(53402),o=n(33411),a=(0,r.J)({provide:i.h,useFactory:function(e){return(0,e.isPwa)()?"pwa":"notPwa"},deps:{isPwa:o.Im}})},62332:function(e,t,n){"use strict";n.d(t,{LOCAL_STORAGE_SERVICE_TOKEN:function(){return i.A},localStorageServiceProvider:function(){return r.N}});var r=n(91099),i=n(65704),o=n(44597);n.o(o,"ACDN_RESOURCES_TOKEN")&&n.d(t,{ACDN_RESOURCES_TOKEN:function(){return o.ACDN_RESOURCES_TOKEN}}),n.o(o,"APP_TITLE_TOKEN")&&n.d(t,{APP_TITLE_TOKEN:function(){return o.APP_TITLE_TOKEN}}),n.o(o,"AUTH_PAGE_URL_TOKEN")&&n.d(t,{AUTH_PAGE_URL_TOKEN:function(){return o.AUTH_PAGE_URL_TOKEN}}),n.o(o,"AUTH_REDIRECT_URL_TOKEN")&&n.d(t,{AUTH_REDIRECT_URL_TOKEN:function(){return o.AUTH_REDIRECT_URL_TOKEN}}),n.o(o,"CDN_RESOURCES_TOKEN")&&n.d(t,{CDN_RESOURCES_TOKEN:function(){return o.CDN_RESOURCES_TOKEN}}),n.o(o,"CHAT_URL_TOKEN")&&n.d(t,{CHAT_URL_TOKEN:function(){return o.CHAT_URL_TOKEN}}),n.o(o,"CONTEXT_AUTH_PAGE_URL_TOKEN")&&n.d(t,{CONTEXT_AUTH_PAGE_URL_TOKEN:function(){return o.CONTEXT_AUTH_PAGE_URL_TOKEN}}),n.o(o,"CONTEXT_AUTH_REDIRECT_URL_TOKEN")&&n.d(t,{CONTEXT_AUTH_REDIRECT_URL_TOKEN:function(){return o.CONTEXT_AUTH_REDIRECT_URL_TOKEN}}),n.o(o,"IS_CONTEXT_AUTH_PAGE_TOKEN")&&n.d(t,{IS_CONTEXT_AUTH_PAGE_TOKEN:function(){return o.IS_CONTEXT_AUTH_PAGE_TOKEN}}),n.o(o,"IS_NAV_SCOPE_TOKEN")&&n.d(t,{IS_NAV_SCOPE_TOKEN:function(){return o.IS_NAV_SCOPE_TOKEN}}),n.o(o,"MAIN_PAGE_URL_TOKEN")&&n.d(t,{MAIN_PAGE_URL_TOKEN:function(){return o.MAIN_PAGE_URL_TOKEN}}),n.o(o,"NAV_SCOPE_TOKEN")&&n.d(t,{NAV_SCOPE_TOKEN:function(){return o.NAV_SCOPE_TOKEN}}),n.o(o,"NOT_FOUND_URL_TOKEN")&&n.d(t,{NOT_FOUND_URL_TOKEN:function(){return o.NOT_FOUND_URL_TOKEN}}),n.o(o,"OLD_WEBVIEW_URLS_TOKEN")&&n.d(t,{OLD_WEBVIEW_URLS_TOKEN:function(){return o.OLD_WEBVIEW_URLS_TOKEN}}),n.o(o,"PWA_LOGOUT_REDIRECT_URL_TOKEN")&&n.d(t,{PWA_LOGOUT_REDIRECT_URL_TOKEN:function(){return o.PWA_LOGOUT_REDIRECT_URL_TOKEN}}),n.o(o,"SATISFIES_BROWSER_TOKEN")&&n.d(t,{SATISFIES_BROWSER_TOKEN:function(){return o.SATISFIES_BROWSER_TOKEN}}),n.o(o,"WEBVIEW_DEBUG_URL_TOKEN")&&n.d(t,{WEBVIEW_DEBUG_URL_TOKEN:function(){return o.WEBVIEW_DEBUG_URL_TOKEN}}),n.o(o,"WEBVIEW_PRELOAD_URL_TOKEN")&&n.d(t,{WEBVIEW_PRELOAD_URL_TOKEN:function(){return o.WEBVIEW_PRELOAD_URL_TOKEN}}),n.o(o,"WEBVIEW_REDIRECT_URL_TOKEN")&&n.d(t,{WEBVIEW_REDIRECT_URL_TOKEN:function(){return o.WEBVIEW_REDIRECT_URL_TOKEN}}),n.o(o,"installTypeProvider")&&n.d(t,{installTypeProvider:function(){return o.installTypeProvider}}),n.o(o,"routeResolveExtendProvider")&&n.d(t,{routeResolveExtendProvider:function(){return o.routeResolveExtendProvider}}),n.o(o,"satisfiesBrowserProvider")&&n.d(t,{satisfiesBrowserProvider:function(){return o.satisfiesBrowserProvider}}),n.o(o,"supremeEnvsProvider")&&n.d(t,{supremeEnvsProvider:function(){return o.supremeEnvsProvider}}),n.o(o,"supremeUrlsProvider")&&n.d(t,{supremeUrlsProvider:function(){return o.supremeUrlsProvider}})},91099:function(e,t,n){"use strict";n.d(t,{N:function(){return u}});var r=n(97570),i=n(67570),o=n(65704),a="__ls_test__",s=function(){function e(e){var t=e.eventea;this.eventea=void 0,this._isAvailable=void 0,this.eventea=t,this._isAvailable=function(e){try{return window.localStorage.setItem(a,"whatever"),window.localStorage.removeItem(a),!0}catch(t){return null==e||e.sendOnce({project:"supreme",event:"localstorage-unavailable"}),!1}}(t),this.isAvailable=this.isAvailable.bind(this),this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this)}var t=e.prototype;return t.isAvailable=function(){return this._isAvailable},t.getItem=function(e,t){if(!this._isAvailable)return null!=t?t:null;try{var n,r;return null!=(n=null!=(r=window.localStorage.getItem(e))?r:t)?n:null}catch(e){var i;return null==(i=this.eventea)||i.sendOnce({project:"supreme",event:"localstorage-unavailable"}),null!=t?t:null}},t.setItem=function(e,t){if(this._isAvailable)try{window.localStorage.setItem(e,t)}catch(e){var n;null==(n=this.eventea)||n.sendOnce({project:"supreme",event:"localstorage-unavailable"})}},t.removeItem=function(e){if(this._isAvailable)try{window.localStorage.removeItem(e)}catch(e){var t;null==(t=this.eventea)||t.sendOnce({project:"supreme",event:"localstorage-unavailable"})}},e}(),u=(0,r.J)({provide:o.A,useClass:s,deps:{eventea:{token:i.Bv,optional:!0}}})},65704:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var r=(0,n(59999).V3)("LOCAL_STORAGE_SERVICE")},44597:function(){},84072:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(97570),i=n(82571),o=n(15688),a=[(0,r.J)({provide:i.sQ,multi:!0,useValue:[{key:"TINKOFF_API"},{key:"BUNDLES_API"},{key:"SME_NAVIGATION_CONTEXT_API_BASE_URL"},{key:"INVEST_BOX_API_BASE_URL"},{key:"LOYALTY_API_BASE_URL"},{key:"NAV_USER_INFO_API_BASE_URL"},{key:"POLICY_API_BASE_URL"},{key:"PORTFOLIOS_API_BASE_URL"},{key:"STORIES_API_BASE_URL"},{key:"PROVIDERS_API_BASE_URL"},{key:"SEARCH_API_BASE_URL"},{key:"PREFILL_API_BASE_URL"},{key:"GUS_ADAPTER_BASE_URL"},{key:"PARACHUTE_API_BASE_URL"},{key:"LIFESTYLE_API_BASE_URL"},{key:"PG_API_BASE_URL"},{key:"BAF_CLIENT_API_BASE_URL"},{key:"SECURITY_WORD_API_BASE_URL"},{key:"TRADING_API_BASE_URL"},{key:"INVEST_DOCUMENTS_API_BASE_URL"},{key:"DADATA_API_BASE_URL"},{key:"MYHOME_API_BASE_URL"},{key:"MYAUTO_API_BASE_URL"},{key:"YANDEX_GEOCODE_API_BASE_URL"},{key:"TAPI_BASE_URL"},{key:"T_PROTECTION_API_BASE_URL"},{key:"T_PROTECTION_RAW_API_BASE_URL"},{key:"SHOPPING_API_BASE_URL"},{key:"CX_EVOLUTION_API_BASE_URL"},{key:"T_REVIEW_API_BASE_URL"},{key:"GEO_API_BASE_URL"},{key:"INVEST_PENSION_API_BASE_URL"},{key:"INVEST_GATEWAY_BASE_URL"},{key:"ATOMYZE_REDIRECT_BASE_URL"},{key:"MYBANK_BFF_API_BASE_URL"},{key:"TAG_SHUBA_API_BASE_URL"},{key:"MOBILE_USER_BASE_URL"},{key:"LIFESTYLE_WS_BASE_URL"},{key:"BONUSES_MAP_KEY"},{key:"LIFESTYLE_FUEL_MAP_KEY"},{key:"LIFESTYLE_GROCERY_MAP_KEY"},{key:"APPLE_ID_API_BASE_URL"},{key:"OPERATIONS_MAP_KEY"},{key:"LIFESTYLE_FUEL_APP_ID"},{key:"NAV_USER_INFO_API_SSO_AUTHORIZE_URL"},{key:"NAV_USER_INFO_API_SSO_COMPLETE_URL"},{key:"NAV_USER_INFO_API_SSO_ERROR_URL"},{key:"NAV_USER_INFO_API_SSO_FINALIZE_URL"},{key:"NAV_USER_INFO_API_SSO_VALIDATE_URL"},{key:"ACDN_RESOURCES"},{key:"ACDN_FALLBACK_RESOURCES"},{key:"MOBILE_CDN_URL"},{key:"EXTERNAL_SOURCE_DATA_BASE_URL"},{key:"EXTERNAL_SOURCE_DATA_FALLBACK_BASE_URL"}]}),(0,r.J)({provide:o.MICRO_DI_ENV_TOKEN,useFactory:function(e){var t=e.envManager;return{bundlesApiBaseUrl:t.get("BUNDLES_API"),motherApi:t.get("TINKOFF_API"),smeNavigationContextApiBaseUrl:t.get("SME_NAVIGATION_CONTEXT_API_BASE_URL"),investboxApiBaseUrl:t.get("INVEST_BOX_API_BASE_URL"),loyaltyApiBaseUrl:t.get("LOYALTY_API_BASE_URL"),navUserInfoApiBaseUrl:t.get("NAV_USER_INFO_API_BASE_URL"),policyApiBaseUrl:t.get("POLICY_API_BASE_URL"),portfoliosApiBaseUrl:t.get("PORTFOLIOS_API_BASE_URL"),storiesApiBaseUrl:t.get("STORIES_API_BASE_URL"),providersApiBaseUrl:t.get("PROVIDERS_API_BASE_URL"),searchApiBaseUrl:t.get("SEARCH_API_BASE_URL"),prefillApiBaseUrl:t.get("PREFILL_API_BASE_URL"),gusAdapterApiBaseUrl:t.get("GUS_ADAPTER_BASE_URL"),parachuteApiBaseUrl:t.get("PARACHUTE_API_BASE_URL"),lifestyleApiBaseUrl:t.get("LIFESTYLE_API_BASE_URL"),pgApiBaseUrl:t.get("PG_API_BASE_URL"),tradingApiBaseUrl:t.get("TRADING_API_BASE_URL"),investDocumentsApiBaseUrl:t.get("INVEST_DOCUMENTS_API_BASE_URL"),securityWordApiBaseUrl:t.get("SECURITY_WORD_API_BASE_URL"),dadataApiBaseUrl:t.get("DADATA_API_BASE_URL"),myhomeApiBaseUrl:t.get("MYHOME_API_BASE_URL"),myautoApiBaseUrl:t.get("MYAUTO_API_BASE_URL"),yandexGeocodeApiBaseUrl:t.get("YANDEX_GEOCODE_API_BASE_URL"),lifestyleWsBaseUrl:t.get("LIFESTYLE_WS_BASE_URL"),bafClientApiBaseUrl:t.get("BAF_CLIENT_API_BASE_URL"),appleIdApiBaseUrl:t.get("APPLE_ID_API_BASE_URL"),tapiBaseUrl:t.get("TAPI_BASE_URL"),tProtectionApiBaseUrl:t.get("T_PROTECTION_API_BASE_URL"),tProtectionRawApiBaseUrl:t.get("T_PROTECTION_RAW_API_BASE_URL"),shoppingApiBaseUrl:t.get("SHOPPING_API_BASE_URL"),navUserInfoApiSsoAuthorizeUrl:t.get("NAV_USER_INFO_API_SSO_AUTHORIZE_URL"),navUserInfoApiSsoCompleteUrl:t.get("NAV_USER_INFO_API_SSO_COMPLETE_URL"),navUserInfoApiSsoErrorUrl:t.get("NAV_USER_INFO_API_SSO_ERROR_URL"),navUserInfoApiSsoFinalizeUrl:t.get("NAV_USER_INFO_API_SSO_FINALIZE_URL"),navUserInfoApiSsoValidateUrl:t.get("NAV_USER_INFO_API_SSO_VALIDATE_URL"),bonusesMapKey:t.get("BONUSES_MAP_KEY"),lifestyleFuelMapKey:t.get("LIFESTYLE_FUEL_MAP_KEY"),lifestyleGroceryMapKey:t.get("LIFESTYLE_GROCERY_MAP_KEY"),operationsMapKey:t.get("OPERATIONS_MAP_KEY"),lifestyleFuelAppId:t.get("LIFESTYLE_FUEL_APP_ID"),cdnUrl:t.get("ACDN_RESOURCES"),cdnFallbackUrl:t.get("ACDN_FALLBACK_RESOURCES"),mobileCdnUrl:t.get("MOBILE_CDN_URL"),cxEvolutionApiBaseUrl:t.get("CX_EVOLUTION_API_BASE_URL"),trevApiBaseUrl:t.get("T_REVIEW_API_BASE_URL"),geoApiBaseUrl:t.get("GEO_API_BASE_URL"),investPensionApiBaseUrl:t.get("INVEST_PENSION_API_BASE_URL"),investGatewayBaseUrl:t.get("INVEST_GATEWAY_BASE_URL"),atomyzeRedirectBaseUrl:t.get("ATOMYZE_REDIRECT_BASE_URL"),mybankBffApiBaseUrl:t.get("MYBANK_BFF_API_BASE_URL"),shubaApiBaseUrl:t.get("TAG_SHUBA_API_BASE_URL"),mobileUserBaseUrl:t.get("MOBILE_USER_BASE_URL"),externalSourceDataBaseUrl:t.get("EXTERNAL_SOURCE_DATA_BASE_URL"),externalSourceDataFallbackBaseUrl:t.get("EXTERNAL_SOURCE_DATA_FALLBACK_BASE_URL")}},deps:{envManager:i.vC}})]},83252:function(e,t,n){"use strict";n.d(t,{T:function(){return m}});var r=n(45232),i=n(17935),o=n.n(i),a=n(97570),s=n(20076),u=n(82571),c=n(59999),l=(0,c.V3)("GET_RESPONSE_REQUEST_TIMEOUT"),d=(0,c.V3)("GET_RESPONSE_BLACK_LIST_TOKEN"),f=n(7777),p=n(63802),v={provide:u.sQ,multi:!0,useValue:[{key:"GET_RESPONSE_CLIENT_TIMEOUT",validator:Number.isInteger,optional:!0},{key:"GET_RESPONSE_SERVER_TIMEOUT",validator:Number.isInteger,optional:!0},{key:"FF_SUPREME_DCO_PROJECT",optional:!0}]},h={provide:l,useFactory:function(e){var t=e.envManager;return Number(t.get("GET_RESPONSE_CLIENT_TIMEOUT"))||4e3},deps:{envManager:u.vC}},g={provide:d,useFactory:function(e){var t=e.userAgent,n=e.chatURL,r=[e.contextAuthPageURL,e.notFoundURL];return"desktop"===t.device.type?[].concat(r,[n]):r},deps:{userAgent:n(33464).N,chatURL:p.W6,contextAuthPageURL:p.sH,notFoundURL:p.n4}},m=[(0,a.J)({provide:s.eZ,multi:!0,useFactory:function(e){var t=e.envManager,n=e.timeout,i=e.pwaDco,a=e.navScope,s=e.blackList;return function(e){return function(){var u=(0,r.Z)(o().mark((function r(u){var c,l,d,f,p,v,h,g;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l=u.url,d=u.requestOptions,f=l.pathname.startsWith(a),p=s.some((function(e){return l.pathname.includes(e)})),f&&!p){r.next=5;break}return r.abrupt("return",{route:null});case 5:return v="true"===t.get("FF_SUPREME_DCO_PROJECT"),h=Object.keys(l.query).find((function(e){return e.match(/_prefetch/)})),g=Object.assign({},u,{requestOptions:Object.assign({},d,{timeout:n,query:Object.assign({},d.query||{},h&&l.query[h]?(c={},c[h]=!0,c):{},i(),v?{service:"supreme"}:{})})}),r.abrupt("return",e(g));case 9:case"end":return r.stop()}}),r)})));return function(e){return u.apply(this,arguments)}}()}},deps:{envManager:u.vC,timeout:l,pwaDco:f.S,navScope:p.PB,blackList:d}}),v,h,g]},53474:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(97570),i=n(82571),o=function(e){var t="value is not a string array";try{var n=JSON.parse(e);return!(!Array.isArray(n)||!n.every((function(e){return"string"==typeof e})))||t}catch(e){return t}},a=[(0,r.J)({provide:i.sQ,multi:!0,useValue:[{key:"TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",optional:!0},{key:"APP_VERSION",optional:!0},{key:"ASSETS_PREFIX",optional:!0},{key:"ACDN_FALLBACK_RESOURCES",optional:!0},{key:"GET_CONTENT_CACHE_URL",optional:!0},{key:"TRAMVAI_ROUTE_STRICT_APP_ID",value:"true"},{key:"DESKTOP_NAVIGATION",optional:!0},{key:"DESKTOP_FOOTER",optional:!0},{key:"MOBILE_NAVIGATION",optional:!0},{key:"MOBILE_FOOTER",optional:!0},{key:"FF_PAYMENTS_3DS_POST",optional:!0},{key:"IOS_PWA_COPY_LINK_ENABLED",optional:!0},{key:"IOS_PWA_COPY_LINK",optional:!0},{key:"IFRAME_CONTEXT_AUTH_TIMEOUT",optional:!0},{key:"SSO_CONTEXT_AUTH_TIMEOUT",optional:!0},{key:"MAIN_THEME_COLOR",optional:!0},{key:"SSR_MAPPING_REQUEST_TIMEOUT",optional:!0},{key:"CSR_MAPPING_REQUEST_TIMEOUT",optional:!0},{key:"IS_CONTEXT_AUTH_ON_MYBANK_AUTH",optional:!0},{key:"WEBVIEW_DEEPLINK_PREFIXES",optional:!0},{key:"WEBVIEW_OLD_URLS",optional:!0,validator:o},{key:"FF_WEBVIEW_SSR_CLIENT_RESOURCE_LOAD",optional:!0},{key:"FF_MDDC_CERT_CHECK_ENABLED",optional:!0},{key:"MDDC_CERT_CHECK_URL",optional:!0},{key:"FF_SERVICE_WORKER_HTML_HANDLER",optional:!0},{key:"FF_SERVER_REDIRECT_TO_AUTH_PAGE",optional:!0},{key:"FF_PWA_ADVANCED_SERVER_REDIRECT",optional:!0},{key:"FF_PWA_ADVANCED_SERVER_REDIRECT_WUID_FIRST_SYMBOL_WHITELIST",optional:!0},{key:"FF_WEBVIEW_DEBUG_PAGE",optional:!0},{key:"FF_WEBVIEW_RELOAD_PAGE",optional:!0},{key:"IS_CONTEXT_AUTH_ENABLED",optional:!0},{key:"CSP_STAND_TYPE",optional:!0},{key:"FF_USE_LAZY_CHAT_LOADING",optional:!0},{key:"FF_SSR_CLIENT_RESOURCE_LOAD",optional:!0},{key:"FF_SSO_WEBVIEW_WAIT_TIME",optional:!0},{key:"FF_ENABLE_CHANGE_AUTH_TYPE_WEBVIEW",optional:!0},{key:"FF_FILTER_BLOCKS_USE_ROLE2",optional:!0},{key:"FF_SHOW_YELLOW_STATUS_BAR_AT_SPLASHSCREEN",optional:!0},{key:"AUTH_REDIRECT_URL_QUERY_PARAMS",optional:!0},{key:"FF_CSP_LAX_IMAGE_SOURCE",optional:!0},{key:"DONT_USE_MOUNT_TO_SET_FORM_LOADED",optional:!0},{key:"FF_WEBVIEW_NO_UNAUTH_LOGOUT",optional:!0},{key:"FF_ENABLE_FORMAT_DETECTION",optional:!0},{key:"FF_WEBVIEW_NO_SESSION_STRATEGY",optional:!0},{key:"FF_WEBVIEW_CONTINOUS_SESSION_PING",optional:!0},{key:"FF_WEBVIEW_REAUTHORIZE",optional:!0},{key:"FF_WEBVIEW_SEND_METRIC_NOEVENTEA",optional:!0},{key:"EARLY_HINTS_ENABLED",optional:!0},{key:"FF_PAGE_HEALTH_ANALYTICS_INLINE",optional:!0,dehydrate:!1},{key:"PAGE_HEALTH_ANALYTICS_PATHNAMES",optional:!0,dehydrate:!1,validator:o},{key:"CLIENT_RENDER_MODE_PAGES",optional:!0,validator:o},{key:"IB_APP_TYPE_EXPIRE_TIME",optional:!0}]})]},63802:function(e,t,n){"use strict";n.d(t,{l0:function(){return T},PQ:function(){return u},an:function(){return c},z9:function(){return l},Tm:function(){return A},W6:function(){return d},sH:function(){return f},Wx:function(){return p},CY:function(){return v},Er:function(){return m},r2:function(){return h},PB:function(){return g},n4:function(){return y},SS:function(){return b},zB:function(){return _},NT:function(){return E},lZ:function(){return w},Bm:function(){return S},yi:function(){return L}});var r=n(58903),i=n(97570),o=n(82571),a=n(59999),s=(0,a.V3)("APP_PREFIX"),u=(0,a.V3)("APP_TITLE"),c=(0,a.V3)("AUTH_PAGE_URL"),l=(0,a.V3)("AUTH_REDIRECT_URL"),d=(0,a.V3)("CHAT_URL"),f=(0,a.V3)("CONTEXT_AUTH_PAGE_URL"),p=(0,a.V3)("CONTEXT_AUTH_REDIRECT_URL"),v=(0,a.V3)("IS_CONTEXT_AUTH_PAGE"),h=(0,a.V3)("MAIN_PAGE_URL"),g=(0,a.V3)("NAV_SCOPE_TOKEN"),m=(0,a.V3)("IS_NAV_SCOPE_TOKEN"),y=(0,a.V3)("NOT_FOUND_URL"),b=(0,a.V3)("OLD_WEBVIEW_URLS_TOKEN"),_=(0,a.V3)("PWA_LOGOUT_REDIRECT_URL"),E=(0,a.V3)("WEBVIEW_DEBUG_URL_TOKEN"),w=(0,a.V3)("WEBVIEW_PRELOAD_URL_TOKEN"),S=(0,a.V3)("WEBVIEW_REDIRECT_URL_TOKEN"),T=(0,a.V3)("ACDN_RESOURCES"),A=(0,a.V3)("CDN_RESOURCES"),k=[(0,i.J)({provide:v,useFactory:function(e){var t=e.contextAuthPageUrl;return function(e){return!!e&&e.startsWith(t)}},deps:{contextAuthPageUrl:f}}),(0,i.J)({provide:p,useFactory:function(e){var t=e.contextAuthPageUrl;return function(e){return e?t+"?redirectTo="+encodeURIComponent(e):t}},deps:{contextAuthPageUrl:f}}),(0,i.J)({provide:f,useFactory:function(e){return"/"+e.appPrefix+"/auth/"},deps:{appPrefix:s}}),(0,i.J)({provide:_,useFactory:function(e){return(0,e.authRedirectUrl)(e.mainPageUrl)},deps:{authRedirectUrl:l,mainPageUrl:h}}),(0,i.J)({provide:l,useFactory:function(e){return function(t){var n=e.authPageUrl,r=e.envManager.get("AUTH_REDIRECT_URL_QUERY_PARAMS");return[n,"?redirectTo="+encodeURIComponent(t),r?"&"+r:""].join("")}},deps:{authPageUrl:c,envManager:o.vC}}),(0,i.J)({provide:c,useValue:"/auth/login/"})],O=n(52967),C=[(0,i.J)({provide:O.AT,useFactory:function(e){return e.navScope},deps:{navScope:g}}),(0,i.J)({provide:m,useFactory:function(e){var t=e.navScope;return function(e){return e.startsWith(t)}},deps:{navScope:g}}),(0,i.J)({provide:g,useFactory:function(e){return"/"+e.appPrefix},deps:{appPrefix:s}}),(0,i.J)({provide:s,useFactory:function(e){return e.envManager.get("APP_PREFIX")},deps:{envManager:o.vC}}),(0,i.J)({provide:o.sQ,multi:!0,useValue:[{key:"APP_PREFIX",validator:function(e){return!!e||"Failed to get env.APP_PREFIX"}}]})],R=[(0,i.J)({provide:y,multi:!1,useFactory:function(e){return"/"+e.appPrefix+"/*"},deps:{appPrefix:s}}),(0,i.J)({provide:d,multi:!1,useFactory:function(e){return"/"+e.appPrefix+"/chat/"},deps:{appPrefix:s}}),(0,i.J)({provide:E,multi:!1,useFactory:function(e){return"/"+e.appPrefix+"/webview-debug/"},deps:{appPrefix:s}}),(0,i.J)({provide:w,multi:!1,useFactory:function(e){return"/"+e.appPrefix+"/wvpreload/"},deps:{appPrefix:s}}),(0,i.J)({provide:S,multi:!1,useFactory:function(e){return"/"+e.appPrefix+"/webview-redirect/"},deps:{appPrefix:s}}),(0,i.J)({provide:b,multi:!1,useFactory:function(e){var t=e.envManager.get("WEBVIEW_OLD_URLS");return t?JSON.parse(t):[]},deps:{appPrefix:s,envManager:o.vC}}),(0,i.J)({provide:h,useFactory:function(e){return"/"+e.appPrefix+"/"},deps:{appPrefix:s}})],I=(0,a.V3)("get cdn icon path token"),N=[(0,i.J)({provide:I,useFactory:function(e){var t=e.envToken;return function(){return t.get("ACDN_RESOURCES")+"params/common_front/resourses/icons/new/"}},deps:{envToken:o.vC}}),(0,i.J)({provide:T,useFactory:function(e){var t=e.envManager.get("ACDN_RESOURCES")||"";return{effectiveTypeCheckFile:t+"performance/effective_type_check_file_small",defaultPushWebIcon:t+"params/common_front/resourses/pwa/images/tui-marker-icon.1686920883846.svg"}},deps:{envManager:o.vC}}),(0,i.J)({provide:A,useFactory:function(e){var t=e.envManager.get("CDN_RESOURCES")||"";return{commonErrorImage:t+"frontend-libraries/npm/images/1.0.0/image-common-error.png",notFoundImage:t+"frontend-libraries/npm/images/1.0.0/image-404.png",appleTouchStartupImage:t+"params/common_front/resourses/pwa/splash-screen/apple-touch-startup-image-"}},deps:{envManager:o.vC}}),(0,i.J)({provide:o.sQ,multi:!0,useValue:[{key:"CDN_RESOURCES",validator:function(e){return!!e||"Failed to get env.CDN_RESOURCES"}},{key:"ACDN_RESOURCES",validator:function(e){return!!e||"Failed to get env.ACDN_RESOURCES"}}]})],M={mybank:"Т-Банк",lk:"Т-Страхование"},x=[(0,i.J)({provide:u,useFactory:function(e){var t=e.appPrefix;return M[t]},deps:{appPrefix:s}})];function P(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var L=[].concat(P(r.Z,k),P(r.Z,R),P(r.Z,C),P(r.Z,N),P(r.Z,x))},50479:function(e,t,n){"use strict";n.d(t,{r:function(){return u}});var r=n(33464),i=n(66824),o=n(37621),a=n(82571),s=n(95967),u=[{provide:r.N,useFactory:function(e){var t=e.store;if(e.envManager.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")){var n=(0,s.H)(navigator.userAgent);return t.dispatch((0,i.X)(n)),n}return t.getState(i.c)},deps:{store:o.kR,envManager:a.vC}}]},24240:function(e,t,n){"use strict";var r;n.d(t,{Fn:function(){return s},WK:function(){return o},iv:function(){return i},sy:function(){return u},yP:function(){return a}});var i="rgb(255, 255, 255)",o="#ffdd2d",a="ticket",s={signout:"/sign_out",logout:"/auth/logout",webimAuth:"/webim_auth"},u=((r={})[s.signout]="sign_out",r[s.logout]="auth/logout",r)},29956:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=(0,n(59999).V3)("EVENTEA_PROJECT_TOKEN")},58232:function(e,t,n){"use strict";function r(e){return"string"==typeof(null==e?void 0:e.message)}n.d(t,{n:function(){return r}})},17062:function(e,t,n){"use strict";function r(){var e=function(){try{var e=performance.getEntriesByType("navigation");return e.length>0?e[0].type:function(e){var t=performance.navigation,n=t.TYPE_NAVIGATE,r=t.TYPE_RELOAD,i=t.TYPE_BACK_FORWARD;switch(t.TYPE_RESERVED,e){case n:return"navigate";case r:return"reload";case i:return"back_forward";default:return"unknown"}}(performance.navigation.type)}catch(e){return"unknown"}}();return"reload"===e||"unknown"===e?e:"not-reload"}n.d(t,{Y:function(){return r}})},64999:function(e,t,n){"use strict";e.exports=n.p+"0cbb125d9312097440cb9f080f278f84.svg"},25251:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},50029:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},30168:function(e,t,n){var r=n(25251);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},80195:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},56330:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},14193:function(e,t,n){var r=n(42792),i=n(56402);e.exports=function(e,t,n){if(r())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var a=new(e.bind.apply(e,o));return n&&i(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports},40941:function(e,t,n){var r=n(20721);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},98400:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},25426:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},95552:function(e,t,n){var r=n(56402);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},97218:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},37154:function(e){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},42792:function(e){function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},72987:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},95829:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},42294:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},55527:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},37710:function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},98772:function(e,t,n){var r=n(25595).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),a=new x(r||[]);return s(o,"_invoke",{value:R(e,n,a)}),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var h="suspendedStart",g="suspendedYield",m="executing",y="completed",b={};function _(){}function E(){}function w(){}var S={};f(S,c,(function(){return this}));var T=Object.getPrototypeOf,A=T&&T(T(P([])));A&&A!==o&&a.call(A,c)&&(S=A);var k=w.prototype=_.prototype=Object.create(S);function O(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,s,u){var c=v(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function R(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=I(s,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=v(e,n,r);if("normal"===c.type){if(i=r.done?y:g,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=v(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=w,s(k,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:E,configurable:!0}),E.displayName=f(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,d,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},O(C.prototype),f(C.prototype,l,(function(){return this})),n.AsyncIterator=C,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new C(p(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(k),f(k,d,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},56402:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1953:function(e,t,n){var r=n(50029),i=n(95829),o=n(64576),a=n(42294);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},28385:function(e,t,n){var r=n(50029),i=n(72987),o=n(64576),a=n(42294);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},37151:function(e,t,n){var r=n(30168),i=n(72987),o=n(64576),a=n(55527);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},3134:function(e,t,n){var r=n(25595).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},20721:function(e,t,n){var r=n(25595).default,i=n(3134);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},25595:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},64576:function(e,t,n){var r=n(25251);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},91715:function(e,t,n){var r=n(25426),i=n(56402),o=n(37154),a=n(14193);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},17935:function(e,t,n){var r=n(98772)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},85643:function(e,t,n){"use strict";var r=(0,n(97218).default)(n(98400)),i=n(50672),o=n(80157),a=n(31843),s=n(63479);e.exports=(0,r.default)({},i,o,a,s)},50672:function(e){"use strict";e.exports={"yellow-100":"#FFDD2D","yellow-200":"#FCC521","yellow-300":"#FAB619","black-100":"#909090","black-200":"#666666","black-300":"#333333","black-400":"#000000","gray-100":"#F5F5F6","gray-200":"#E7E8EA","gray-300":"#CBCFD3","gray-400":"#959BA4","gray-500":"#79818C","gray-600":"#616871","lightBlue-100":"#ECF1F7","lightBlue-200":"#E4EBF3","lightBlue-300":"#DDE4ED","blue-100":"#1771E6","blue-200":"#1464CC","blue-300":"#0953B3","green-100":"#39B54A","green-200":"#2CA53A","green-300":"#168821","red-100":"#E01F19","red-200":"#D3120E","red-300":"#C40B08",white:"#FFFFFF"}},80157:function(e,t,n){"use strict";var r=n(50672);e.exports={primary:r["yellow-100"],"status-warning":r["yellow-100"],"primary-hover":r["yellow-200"],"status-warning-hover":r["yellow-200"],"primary-active":r["yellow-300"],"status-warning-active":r["yellow-300"],"whiteblock-hover":r["gray-100"],"card-secondary":r["gray-100"],border:r["gray-200"],"border-dark":r["gray-300"],"border-darker":r["gray-400"],status:r["gray-400"],"text-alternate":r["gray-400"],"status-hover":r["gray-500"],"textfield-placeholder":r["gray-500"],"border-focus":r["gray-600"],"textfield-placeholder-hover":r["gray-600"],"status-active":r["gray-600"],textfield:r["lightBlue-100"],secondary:r["lightBlue-100"],"textfield-hover":r["lightBlue-200"],"secondary-hover":r["lightBlue-200"],"secondary-active":r["lightBlue-300"],"blank-black":r["black-300"],"blank-white":r.white,"card-primary":r.white,"text-inverse":r.white,"outline-border":r["blue-100"],link:r["blue-100"],"outline-border-hover":r["blue-200"],"link-hover":r["blue-200"],"outline-border-active":r["blue-300"],"link-active":r["blue-300"],"status-success":r["green-100"],"status-success-hover":r["green-200"],"status-success-active":r["green-300"],"status-error":r["red-100"],"status-error-hover":r["red-200"],"status-error-active":r["red-300"],"true-black":r["black-400"]}},31843:function(e){"use strict";e.exports={mustard:"#ffd450",texas:"#ffb74c",tan:"#f8a34d",salmon:"#ff8863",bittersweet:"#ff7b76",sienna:"#ee805d",pinkie:"#ff78a7",charm:"#d45d8c",amethyst:"#bc71c9",helio:"#a381ff",lilac:"#8f75d1",malibu:"#7caeff",havelock:"#65a7e0",picton:"#4dc3f7",mint:"#4bd0e1",fountain:"#4eb6c2",puertorico:"#4fbdb2",bay:"#4da197",forest:"#73b077",york:"#81c785",feijoa:"#aed57f"}},63479:function(e,t,n){"use strict";var r=n(50672);e.exports={"text-primary":"rgba(0, 0, 0, 0.8)","text-secondary":"rgba(0, 0, 0, 0.54)","text-placeholder-hover":"rgba(0, 0, 0, 0.54)","text-tertiary":"rgba(0, 0, 0, 0.4)","text-placeholder":"rgba(0, 0, 0, 0.4)","text-primary-inverse":"rgba(255, 255, 255, 1)","text-secondary-inverse":"rgba(255, 255, 255, 0.72)","text-link":r["blue-100"],"text-link-hover":r["blue-300"],"text-green":r["green-300"],"text-success":r["green-300"],"text-error":r["red-300"],"text-red":r["red-300"]}},77531:function(e){"use strict";e.exports={SPACING_ALIAS:{tiny:"spacing-tiny",xxxs:"spacing-xxxs",xxs:"spacing-xxs",xs:"spacing-xs",s:"spacing-s",m:"spacing-m",l:"spacing-l",xl:"spacing-xl",xxl:"spacing-xxl",xxxl:"spacing-xxxl",huge:"spacing-huge"},SHADOW_ALIAS:{default:"shadow-default",sidebar:"shadow-sidebar",modal:"shadow-modal",popover:"shadow-popover",dropdown:"shadow-dropdown",defaultHover:"shadow-default-hover",modalMobile:"shadow-modal-mobile",tooltip:"shadow-tooltip"},MEDIA_ALIAS:{phoneSmall:"PHONE_SMALL",phoneGiant:"PHONE_GIANT",phone:"PHONE",mediumTablets:"MEDIUM_TABLETS",tablets:"TABLETS",mobile:"MOBILE",desktop:"DESKTOP",desktopSmall:"DESKTOP_SMALL",desktopMedium:"DESKTOP_MEDIUM",desktopLargeBoard:"DESKTOP_LARGE_BOARD",desktopLarge:"DESKTOP_LARGE",desktopExtraLarge:"DESKTOP_EXTRA_LARGE",tabletS:"TABLET_S",tabletL:"TABLET_L",desktopS:"DESKTOP_S",desktopMd:"DESKTOP_MD",desktopM:"DESKTOP_M",desktopL:"DESKTOP_L"},LAYERS_ALIAS:{hidden:"layer-hidden",zero:"layer-zero",normal:"layer-normal",popover:"layer-popover",navigation:"layer-navigation",overlay:"layer-overlay",alert:"layer-alerts"},BORDER_ALIAS:{defaultS:"border-default-s",defaultL:"border-default-l",radiusS:"border-radius-s",radiusL:"border-radius-l"}}},18717:function(e){"use strict";e.exports={"border-default-s":"1px solid #B3B3B3","border-default-l":"2px solid #B3B3B3","border-radius-s":"4px","border-radius-l":"8px"}},33105:function(e){"use strict";e.exports={D_12:12,D_18:18,D_24:24,D_30:30,D_36:36,D_42:42,D_48:48,D_60:60,D_66:66,D_78:78,D_84:84,D_90:90,D_102:102,D_108:108,D_120:120,D_138:138,D_174:174,D_198:198}},33086:function(e){"use strict";e.exports={M_30:30,M_36:36,M_42:42,M_60:60,M_66:66,M_78:78,M_84:84,M_120:120,M_138:138}},52675:function(e,t,n){"use strict";var r=(0,n(97218).default)(n(98400)),i=n(18717),o=n(33105),a=n(33086),s=n(23367),u=n(12098),c=n(23188),l=n(65894),d=n(77531);e.exports=(0,r.default)({border:i,iconDesktopSizes:o,iconMobileSizes:a,layers:s,media:u,shadow:c,spacing:l},d)},23367:function(e){"use strict";e.exports={"layer-hidden":-1,"layer-zero":0,"layer-normal":1,"layer-popover":100,"layer-navigation":200,"layer-overlay":300,"layer-alerts":400}},12098:function(e){"use strict";e.exports={PHONE_SMALL:370,PHONE_GIANT:541,PHONE:599,MEDIUM_TABLETS:600,TABLETS:600,MOBILE:1023,DESKTOP:1024,DESKTOP_SMALL:1024,DESKTOP_MEDIUM:1360,DESKTOP_LARGE_BOARD:1600,DESKTOP_LARGE:1600,DESKTOP_EXTRA_LARGE:1716,TABLET_S:600,TABLET_L:768,DESKTOP_S:1024,DESKTOP_MD:1280,DESKTOP_M:1360,DESKTOP_L:1600}},23188:function(e){"use strict";e.exports={"shadow-default":"0px 4px 24px rgba(0, 0, 0, .12)","shadow-default-hover":"0px 12px 36px rgba(0, 0, 0, .2)","shadow-sidebar":"4px 0px 24px rgba(0, 0, 0, .12)","shadow-modal":"0px 18px 30px rgba(51, 51, 51, .52)","shadow-modal-mobile":"0px -16px 28px rgba(51, 51, 51, .24)","shadow-popover":"0px 25px 15px rgba(0, 0, 0, 0.03), 0px 11px 11px rgba(0, 0, 0, 0.04), 0px 3px 6px rgba(0, 0, 0, 0.05)","shadow-dropdown":"0px 25px 15px rgba(0, 0, 0, 0.03), 0px 11px 11px rgba(0, 0, 0, 0.04), 0px 3px 6px rgba(0, 0, 0, 0.05)","shadow-tooltip":"0px 6px 15px rgba(0,0,0,.2)"}},65894:function(e){"use strict";e.exports={"spacing-tiny":"2px","spacing-xxxs":"4px","spacing-xxs":"8px","spacing-xs":"12px","spacing-s":"16px","spacing-m":"20px","spacing-l":"24px","spacing-xl":"32px","spacing-xxl":"48px","spacing-xxxl":"64px","spacing-huge":"128px"}},10521:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},86717:function(e,t,n){"use strict";var r=n(46972),i=n(89498),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},78700:function(e,t,n){"use strict";var r=n(51023),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},48729:function(e,t,n){"use strict";var r=n(63387),i=n(36546),o=n(72251),a=function(e){return function(t,n,a){var s=r(t),u=o(s);if(0===u)return!e&&-1;var c,l=i(a,u);if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},24480:function(e,t,n){"use strict";var r=n(45015),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},75715:function(e,t,n){"use strict";var r=n(85650),i=n(46972),o=n(24480),a=n(38470)("toStringTag"),s=Object,u="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:u?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},36481:function(e,t,n){"use strict";var r=n(25923),i=n(41411),o=n(43877),a=n(35100);e.exports=function(e,t,n){for(var s=i(t),u=a.f,c=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},59224:function(e,t,n){"use strict";var r=n(13171),i=n(35100),o=n(54394);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},54394:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},66052:function(e,t,n){"use strict";var r=n(46972),i=n(35100),o=n(26582),a=n(58449);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&o(n,c,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},58449:function(e,t,n){"use strict";var r=n(23425),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},13171:function(e,t,n){"use strict";var r=n(16133);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},89150:function(e,t,n){"use strict";var r=n(23425),i=n(51023),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},90781:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},46073:function(e,t,n){"use strict";var r=n(23425).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},51914:function(e,t,n){"use strict";var r,i,o=n(23425),a=n(46073),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},51063:function(e,t,n){"use strict";var r=n(23425),i=n(43877).f,o=n(59224),a=n(66052),s=n(58449),u=n(36481),c=n(88105);e.exports=function(e,t){var n,l,d,f,p,v=e.target,h=e.global,g=e.stat;if(n=h?r:g?r[v]||s(v,{}):r[v]&&r[v].prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(p=i(n,l))&&p.value:n[l],!c(h?l:v+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},16133:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},34279:function(e,t,n){"use strict";var r=n(16133);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2796:function(e,t,n){"use strict";var r=n(34279),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},62273:function(e,t,n){"use strict";var r=n(13171),i=n(25923),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},45015:function(e,t,n){"use strict";var r=n(34279),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},79080:function(e,t,n){"use strict";var r=n(23425),i=n(46972);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},99015:function(e,t,n){"use strict";var r=n(86717),i=n(71753);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},59889:function(e,t,n){"use strict";var r=n(45015),i=n(88596),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,v=r.length,h=l;return void 0!==d&&(d=i(d),h=c),s(f,h,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>v){var f=o(l/10);return 0===f?i:f<=v?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},23425:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},25923:function(e,t,n){"use strict";var r=n(45015),i=n(88596),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},9515:function(e){"use strict";e.exports={}},31393:function(e,t,n){"use strict";var r=n(13171),i=n(16133),o=n(89150);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},62743:function(e,t,n){"use strict";var r=n(45015),i=n(16133),o=n(24480),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},98948:function(e,t,n){"use strict";var r=n(45015),i=n(46972),o=n(42555),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},76921:function(e,t,n){"use strict";var r,i,o,a=n(56558),s=n(23425),u=n(51023),c=n(59224),l=n(25923),d=n(42555),f=n(83955),p=n(9515),v="Object already initialized",h=s.TypeError,g=s.WeakMap;if(a||d.state){var m=d.state||(d.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(e,t){if(m.has(e))throw new h(v);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},o=function(e){return m.has(e)}}else{var y=f("state");p[y]=!0,r=function(e,t){if(l(e,y))throw new h(v);return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return n}}}},46972:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},88105:function(e,t,n){"use strict";var r=n(16133),i=n(46972),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n===l||n!==c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},71753:function(e){"use strict";e.exports=function(e){return null==e}},51023:function(e,t,n){"use strict";var r=n(46972);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},27554:function(e){"use strict";e.exports=!1},95695:function(e,t,n){"use strict";var r=n(51023),i=n(24480),o=n(38470)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},53081:function(e,t,n){"use strict";var r=n(79080),i=n(46972),o=n(78434),a=n(81990),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},72251:function(e,t,n){"use strict";var r=n(29266);e.exports=function(e){return r(e.length)}},26582:function(e,t,n){"use strict";var r=n(45015),i=n(16133),o=n(46972),a=n(25923),s=n(13171),u=n(62273).CONFIGURABLE,c=n(98948),l=n(76921),d=l.enforce,f=l.get,p=String,v=Object.defineProperty,h=r("".slice),g=r("".replace),m=r([].join),y=s&&!i((function(){return 8!==v((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===h(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?v(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&v(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&v(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=m(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return o(this)&&f(this).source||c(this)}),"toString")},52947:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},35100:function(e,t,n){"use strict";var r=n(13171),i=n(31393),o=n(96027),a=n(78700),s=n(15091),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},43877:function(e,t,n){"use strict";var r=n(13171),i=n(2796),o=n(92864),a=n(54394),s=n(63387),u=n(15091),c=n(25923),l=n(31393),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},15168:function(e,t,n){"use strict";var r=n(74911),i=n(90781).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},73186:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},78434:function(e,t,n){"use strict";var r=n(45015);e.exports=r({}.isPrototypeOf)},74911:function(e,t,n){"use strict";var r=n(45015),i=n(25923),o=n(63387),a=n(48729).indexOf,s=n(9515),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}},92864:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},23045:function(e,t,n){"use strict";var r=n(2796),i=n(46972),o=n(51023),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},41411:function(e,t,n){"use strict";var r=n(79080),i=n(45015),o=n(15168),a=n(73186),s=n(78700),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},42612:function(e,t,n){"use strict";var r=n(78700);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},73364:function(e,t,n){"use strict";var r=n(2796),i=n(25923),o=n(78434),a=n(42612),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},74989:function(e,t,n){"use strict";var r=n(71753),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},83955:function(e,t,n){"use strict";var r=n(16052),i=n(98461),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},42555:function(e,t,n){"use strict";var r=n(27554),i=n(23425),o=n(58449),a="__core-js_shared__",s=e.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},16052:function(e,t,n){"use strict";var r=n(42555);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},5407:function(e,t,n){"use strict";var r=n(51914),i=n(16133),o=n(23425).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},36546:function(e,t,n){"use strict";var r=n(35436),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},63387:function(e,t,n){"use strict";var r=n(62743),i=n(74989);e.exports=function(e){return r(i(e))}},35436:function(e,t,n){"use strict";var r=n(52947);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},29266:function(e,t,n){"use strict";var r=n(35436),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},88596:function(e,t,n){"use strict";var r=n(74989),i=Object;e.exports=function(e){return i(r(e))}},85131:function(e,t,n){"use strict";var r=n(2796),i=n(51023),o=n(53081),a=n(99015),s=n(23045),u=n(38470),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},15091:function(e,t,n){"use strict";var r=n(85131),i=n(53081);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},85650:function(e,t,n){"use strict";var r={};r[n(38470)("toStringTag")]="z",e.exports="[object z]"===String(r)},88775:function(e,t,n){"use strict";var r=n(75715),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},89498:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},98461:function(e,t,n){"use strict";var r=n(45015),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},81990:function(e,t,n){"use strict";var r=n(5407);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},96027:function(e,t,n){"use strict";var r=n(13171),i=n(16133);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},56558:function(e,t,n){"use strict";var r=n(23425),i=n(46972),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},38470:function(e,t,n){"use strict";var r=n(23425),i=n(16052),o=n(25923),a=n(98461),s=n(5407),u=n(81990),c=r.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(c,e)?c[e]:d("Symbol."+e)),l[e]}},47035:function(e,t,n){"use strict";var r=n(51063),i=n(2796),o=n(45015),a=n(74989),s=n(46972),u=n(71753),c=n(95695),l=n(88775),d=n(99015),f=n(73364),p=n(59889),v=n(38470),h=n(27554),g=v("replace"),m=TypeError,y=o("".indexOf),b=o("".replace),_=o("".slice),E=Math.max;r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,v,w,S,T,A,k,O,C=a(this),R=0,I="";if(!u(e)){if((n=c(e))&&(r=l(a(f(e))),!~y(r,"g")))throw new m("`.replaceAll` does not allow non-global regexes");if(o=d(e,g))return i(o,e,C,t);if(h&&n)return b(l(C),e,t)}for(v=l(C),w=l(e),(S=s(t))||(t=l(t)),T=w.length,A=E(1,T),k=y(v,w);-1!==k;)O=S?l(t(w,k,v)):p(w,v,k,[],void 0,t),I+=_(v,R,k)+O,R=k+T,k=k+A>v.length?-1:y(v,w,k+A);return R<v.length&&(I+=_(v,R)),I}})},13677:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},62234:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},65641:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},45232:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},7027:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(46175);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},20986:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{Z:function(){return r}})},35207:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(65207);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},97459:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},82366:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},33926:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{Z:function(){return r}})},65207:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},52723:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(62234),i=n(71021),o=n(82366);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},58903:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(13677),i=n(97459),o=n(71021);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},36289:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72228);function i(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},46175:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72228),i=n(36289);function o(e){var t=(0,i.Z)(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},72228:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},71021:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(13677);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},26566:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return a}});var i=n(65207);function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(o=function(){return!!e})()}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(o())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a}(e,arguments,r(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(n,e)},a(e)}},39535:function(e,t,n){"use strict";n.d(t,{$q:function(){return _},Yk:function(){return f},ZP:function(){return A}});var r=n(7027),i=n(35207),o=n(26566),a=n(52723),s=n(45232),u=n(17935);function c(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var l=function(){};function d(e){return e?btoa(String.fromCharCode.apply(null,new Uint8Array(e))):null}var f={host:"https://api.tinkoff.ru/v1/",subscribe:"register_for_push_notification",unsubscribe:"",status:"set_push_notification_status",store:"store",log:"log",fetchRequestInit:{}};function p(e,t){return e.every((function(e){return e in t}))}var v=function(){function e(e){var t=(void 0===e?{}:e).appKey;this.db=void 0,this.storeName=void 0,this.storeName="tinkoff-push"+(t?"--"+t:""),this.db=null}var t=e.prototype;return t.get=function(){var e=(0,s.Z)(u.mark((function e(t){var n;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withStore("readonly",(function(e){n=e.get(t)}));case 2:return e.abrupt("return",n.result);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.set=function(){var e=(0,s.Z)(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withStore("readwrite",(function(e){e.put(n,t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t._getDB=function(){var e=this;return this.db||(this.db=new Promise((function(t,n){var r=indexedDB.open(e.storeName,1);r.onerror=function(){return n(r.error)},r.onupgradeneeded=function(){return r.result.createObjectStore("keyval")},r.onsuccess=function(){return t(r.result)}}))),this.db},t._withStore=function(){var e=(0,s.Z)(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getDB();case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,i){var o=r.transaction("keyval",t);o.oncomplete=function(){return e()},o.onerror=function(){return i(o.error)},n(o.objectStore("keyval"))})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e}();function h(e,t){return void 0===t&&(t=encodeURIComponent),"?"+Object.entries(e).map((function(e){var n=c(a.Z,e,2),r=n[0],i=n[1];return t(r)+"="+t(i)})).join("&")}var g=function(e){function t(t){var n;return(n=e.call(this,t)||this).name="PermissionError",n.message=t||n.name,n.stack=(new Error).stack,n}return(0,i.Z)(t,e),t}((0,o.Z)(Error));function m(e,t){void 0===e&&(e=10),void 0===t&&(t="");var n=Math.random().toString(36).slice(2);return n.length>=10?t+n:m(e,t)}var y,b={title:"Tinkoff.ru",lang:"RU",body:"",icon:"https://www.tinkoff.ru/apple-touch-icon-180x180.png",silent:!1},_={INIT:{id:"INIT",interactive:!1,subscribed:!1},UNSUPPORTED:{id:"UNSUPPORTED",interactive:!1,subscribed:!1},PERMISSION_DENIED:{id:"PERMISSION_DENIED",interactive:!1,subscribed:!1},PERMISSION_GRANTED:{id:"PERMISSION_GRANTED",interactive:!0,subscribed:!1},PERMISSION_PROMPT:{id:"PERMISSION_PROMPT",interactive:!0,subscribed:!1},ERROR:{id:"ERROR",interactive:!1,subscribed:!1},STARTING_SUBSCRIBE:{id:"STARTING_SUBSCRIBE",interactive:!1,subscribed:!1},SUBSCRIBED:{id:"SUBSCRIBED",interactive:!0,subscribed:!0},STARTING_UNSUBSCRIBE:{id:"STARTING_UNSUBSCRIBE",interactive:!1,subscribed:!1},UNSUBSCRIBED:{id:"UNSUBSCRIBED",interactive:!0,subscribed:!1}},E={UNSUPPORTED:!0,PERMISSION_DENIED:!0,ERROR:!0},w={webServiceURL:"https://safaripush.tcsbank.ru",webSitePushId:"web.www.push.tinkoff.ru",firmware:"safari"},S={locale:"ru_RU",timezone:(y=-1*(new Date).getTimezoneOffset(),(y<0?"-":"+")+function(e){var t=Math.floor(Math.abs(e/60));return t>9?t.toString():"0"+t.toString()}(y)+":"+function(e){var t=Math.abs(e%60);return t>9?t.toString():"0"+t.toString()}(y))},T=function(){function e(t){var n,r=t.api,i=t.logCb,o=void 0===i?l:i,a=t.serviceWorker,s=void 0===a?"":a,u=t.settings,c=t.appKey,d=t.stateChangeCb,p=void 0===d?l:d,h=t.subscriptionUpdateCb,g=void 0===h?l:h;this.api=void 0,this.logCb=void 0,this.notifications=void 0,this.serviceWorkerName=void 0,this.settings=void 0,this.state=void 0,this.stateChangeCb=void 0,this.subscriptionChangeCb=void 0,this.subscription=null,this.deviceTokenSafari=void 0,this.db=void 0,this.appKey=void 0,this.safariDefaultSettings=void 0,this.logCb=o,this.serviceWorkerName=s,this.stateChangeCb=p,this.subscriptionChangeCb=g,this.appKey=c,this.api=Object.assign({},f,r),this.settings=Object.assign({},S,u),this.notifications=new Map,this.state=Object.assign({},_.INIT),this.db=new v({appKey:c}),this.safariDefaultSettings=(n=u.wuid,Object.assign({},w,{clientId:"",deviceStringId:null!=n?n:""})),e.checkSupport()?(this._setState(e.getPermissionState()),E[this.state.id]||this._init()):this._setState(_.UNSUPPORTED)}e.checkSupport=function(){return e._isOldSafari?p(["safari"],window)&&p(["pushNotification"],window.safari):p(["serviceWorker"],window.navigator)&&p(["Notification","Map","Promise"],window)},e.getPermissionState=function(){return{denied:_.PERMISSION_DENIED,granted:_.PERMISSION_GRANTED,default:_.PERMISSION_PROMPT}[Notification.permission]||_.ERROR},e.getSubscription=function(){var t=(0,s.Z)(u.mark((function t(){var n;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._isOldSafari){t.next=5;break}return t.next=3,window.navigator.serviceWorker.ready;case 3:return n=t.sent,t.abrupt("return",n.pushManager.getSubscription().catch((function(){return null})));case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.requestPermission=function(){return new Promise((function(e,t){switch(Notification.permission){case"denied":t(new g("Push messages are blocked."));break;case"granted":e();break;case"default":Notification.requestPermission((function(n){"granted"!==n?t(new g("Couldn't obtain permission. requestPermission return: "+n)):e()}));break;default:t(new Error("Unknown permission type"))}}))};var t=e.prototype;return t.showNotification=function(){var t=(0,s.Z)(u.mark((function t(n,r){var i,o,s,l,d,f,p,v,h=this;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),i=Object.assign({},b,r),o=i.tag||m(),(s=i.data||{})._source="PUSH_JS_WINDOW",s.closeOnClick=i.closeOnClick,s.focusOnClick=i.focusOnClick,this.notifications.has(o)&&(clearTimeout(null==(l=this.notifications)||null==(l=l.get(o))?void 0:l.timeout),this.notifications.delete(o)),t.next=10,e.requestPermission();case 10:if(e._isOldSafari){t.next=23;break}return t.next=13,window.navigator.serviceWorker.ready;case 13:return f=t.sent,t.next=16,f.showNotification(n,Object.assign({},i,{data:s,tag:o}));case 16:return t.next=18,f.getNotifications({tag:o});case 18:p=t.sent,v=c(a.Z,p,1),d=v[0],t.next=24;break;case 23:d=new Notification(n,Object.assign({},i,{data:s,tag:o}));case 24:return this.notifications.set(o,{notification:d,timeout:i.timeout?setTimeout((function(){return h.closeNotification(o)}),i.timeout):void 0}),t.abrupt("return",d);case 26:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.closeNotification=function(e){if(this.notifications.has(e)){var t=this.notifications.get(e);clearTimeout(null==t?void 0:t.timeout),null==t||t.notification.close(),this.notifications.delete(e)}return Promise.resolve()},t.closeAllNotifications=function(){return this.notifications.forEach((function(e){clearTimeout(e.timeout),e.notification.close()})),this.notifications.clear(),Promise.resolve()},t.subscribe=function(){var t=(0,s.Z)(u.mark((function t(n,r){return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!1),t.prev=1,t.next=4,this._waitDocumentReady();case 4:return t.abrupt("return",e._isOldSafari?this._subscribeSafari(n):this._subscribeNormal(n,r));case 7:throw t.prev=7,t.t0=t.catch(1),this._setState(t.t0 instanceof g?e.getPermissionState():_.ERROR,t.t0),t.t0;case 11:case"end":return t.stop()}}),t,this,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}(),t.unsubscribe=function(){var t=(0,s.Z)(u.mark((function t(){return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(e._isOldSafari?this._unsubscribeSafari():this._unsubscribeNormal()).catch(l);case 2:this.logCb("Unsubscribed successfully.");case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t._init=function(){var t=(0,s.Z)(u.mark((function t(){var n,r=this;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.set("api",this.api);case 2:if(this._addListener(),e._isOldSafari){t.next=6;break}return t.next=6,this._installServiceWorker();case 6:return t.next=8,e.getSubscription().catch((function(e){r._setState(_.ERROR,e)}));case 8:if(n=t.sent){t.next=12;break}return this._setState(_.UNSUBSCRIBED),t.abrupt("return");case 12:this._setState(_.SUBSCRIBED),e._isOldSafari||this._updateSubscription(n);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t._setState=function(e,t){var n=Object.assign({},e,{permissionState:Notification.permission});this.state=Object.assign({},this.state,n),this.stateChangeCb(this.state,t)},t._updateSubscription=function(e){this.logCb("Subscription update: ",e),this.subscription=e,this.subscriptionChangeCb(this.subscription)},t._addListener=function(){var t=this;e._isOldSafari||window.navigator.serviceWorker.addEventListener("message",(function(e){var n=function(e,t){var n;void 0===t&&(t={});try{n=JSON.parse(e)}catch(e){n=t}return n}(e.data,{}),r=e.data;if(null!=r&&r.redirectURL)window.location.href=r.redirectURL;else if("PUSH_JS_SW"===n.source&&(t.logCb("Message from SW: ",n.data),n.data&&n.data.eventName&&n.data.tag&&t.notifications.has(n.data.tag)&&e.ports)){var i,o=n.data,a=o.tag,s=o.eventName;e.ports[0].postMessage("OK"),null==(i=t.notifications.get(a))||i.notification.dispatchEvent(new Event(s)),"close"===s&&t.notifications.delete(a)}}))},t._installServiceWorker=function(){var e=this;return this.serviceWorkerName?window.navigator.serviceWorker.register(this.serviceWorkerName+(this.appKey?"?webPushAppKey="+this.appKey:"")).catch((function(t){throw e._setState(_.ERROR,t),t})):window.navigator.serviceWorker.ready},t._handleSubscribe=function(e){return this._updateSubscription(e),this._setState(_.SUBSCRIBED),Promise.resolve(e)},t._handleUnsubscribe=function(){return this._updateSubscription(null),this._setState(_.UNSUBSCRIBED),Promise.resolve()},t._getQuery=function(t){var n,r,i,o;return"unsubscribe"===t?{notificationId:e._isOldSafari?this.deviceTokenSafari:null==(o=this.subscription)?void 0:o.endpoint}:Object.assign({},function(e,t){for(var n={},r={},i=0,o=e.length;i<o;)r[e[i]]=1,i+=1;for(var a in t)Object.prototype.hasOwnProperty.call(r,a)||(n[a]=t[a]);return n}(["safari","applicationServerKey"],this.settings),e._isOldSafari?{newNotificationId:this.deviceTokenSafari}:{auth:d(null==(n=this.subscription)?void 0:n.getKey("auth")),newNotificationId:null==(r=this.subscription)?void 0:r.endpoint,publicKey:d(null==(i=this.subscription)?void 0:i.getKey("p256dh"))})},t._apiRequest=function(){var t=(0,s.Z)(u.mark((function t(n){var r,i,o;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.api[n]){t.next=2;break}throw new Error('API method for action "'+n+'" is not specified.');case 2:if(this.subscription||e._isOldSafari){t.next=4;break}throw new Error("Something went wrong, there is no subscription!");case 4:return r=this._getQuery(n),i=this.api.host+this.api[n]+h(r),this.logCb("Performing API request"),this.logCb("API query",r),t.next=10,fetch(i,this.api.fetchRequestInit).then((function(e){return e.json()}));case 10:return o=t.sent,this.logCb("API response: ",o),t.abrupt("return",{response:o,query:r,performedRequest:!0});case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t._subscribeNormal=function(){var t=(0,s.Z)(u.mark((function t(n,r){var i,o,a,s;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!1),t.next=3,e.getSubscription();case 3:if(!(o=t.sent)||r){t.next=8;break}return t.next=7,this._handleSubscribe(o);case 7:return t.abrupt("return",{performedRequest:!1});case 8:return"object"==typeof n&&(this.settings=Object.assign({},this.settings,n)),this._setState(_.STARTING_SUBSCRIBE),t.next=12,e.requestPermission();case 12:return t.next=14,window.navigator.serviceWorker.ready;case 14:return a=t.sent,t.next=17,a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.settings.applicationServerKey});case 17:return s=t.sent,t.next=20,this._handleSubscribe(s);case 20:return t.next=22,this.db.get("subscription");case 22:return this.settings.oldNotificationId=t.sent,t.next=25,this.db.set("settings",Object.assign({},this.settings));case 25:return t.next=27,this.db.set("subscription",null==(i=this.subscription)?void 0:i.endpoint);case 27:return t.abrupt("return",this._apiRequest("subscribe"));case 28:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t._checkRemotePermission=function(e){var t=this;return new Promise((function(n,r){var i=Object.assign({},t.safariDefaultSettings,t.settings.safari);"default"===e.permission?window.safari.pushNotification.requestPermission(i.webServiceURL,i.webSitePushId,{clientId:i.clientId,deviceStringId:i.deviceStringId,firmware:i.firmware,locale:t.settings.locale,timezone:t.settings.timezone,applicationVersion:t.settings.appVersion},(function(e){var t=e.permission;"denied"===t?r(new Error("denied")):"granted"===t&&n(e.deviceToken)})):"denied"===e.permission?r(new Error("denied")):"granted"===e.permission&&n(e.deviceToken)}))},t._subscribeSafari=function(){var e=(0,s.Z)(u.mark((function e(t){var n,r,i,o=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"object"==typeof t&&(this.settings=Object.assign({},this.settings,t)),this._setState(_.STARTING_SUBSCRIBE),n=Object.assign({},this.safariDefaultSettings,this.settings.safari),r=window.safari.pushNotification.permission(n.webSitePushId),i=!1,e.next=7,this._checkRemotePermission(r).then((function(e){o.deviceTokenSafari=e,i=!0})).catch((function(e){o.logCb("Push messages are unavailable (status: "+e.message+")")}));case 7:if(!i){e.next=10;break}return this._setState(_.SUBSCRIBED),e.abrupt("return",this._apiRequest("subscribe"));case 10:throw this._setState(_.UNSUBSCRIBED),new Error("Push messages are unavailable");case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t._waitDocumentReady=function(){var e=(0,s.Z)(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("readystatechange",(function(){"complete"!==document.readyState&&"interactive"!==document.readyState||e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t._unsubscribeNormal=function(){var t=(0,s.Z)(u.mark((function t(){var n;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._setState(_.STARTING_UNSUBSCRIBE),t.next=3,e.getSubscription();case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Promise.all([n.unsubscribe(),this._handleUnsubscribe(),this._apiRequest("unsubscribe")]);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t._unsubscribeSafari=function(){var e=(0,s.Z)(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._setState(_.STARTING_UNSUBSCRIBE),this._setState(_.UNSUBSCRIBED),e.next=4,this._apiRequest("unsubscribe");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),(0,r.Z)(e,null,[{key:"_isOldSafari",get:function(){var e=!("PushManager"in window),t=!("serviceWorker"in window),n=!!window.safari;return e&&n&&t}}]),e}(),A=T},80476:function(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:function(){return L},__assign:function(){return o},__asyncDelegator:function(){return A},__asyncGenerator:function(){return T},__asyncValues:function(){return k},__await:function(){return S},__awaiter:function(){return v},__classPrivateFieldGet:function(){return M},__classPrivateFieldIn:function(){return P},__classPrivateFieldSet:function(){return x},__createBinding:function(){return g},__decorate:function(){return s},__disposeResources:function(){return j},__esDecorate:function(){return c},__exportStar:function(){return m},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return N},__importStar:function(){return I},__makeTemplateObject:function(){return O},__metadata:function(){return p},__param:function(){return u},__propKey:function(){return d},__read:function(){return b},__rest:function(){return a},__rewriteRelativeImportExtension:function(){return B},__runInitializers:function(){return l},__setFunctionName:function(){return f},__spread:function(){return _},__spreadArray:function(){return w},__spreadArrays:function(){return E},__values:function(){return y}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),f=!1,p=n.length-1;p>=0;p--){var v={};for(var h in r)v[h]="access"===h?{}:r[h];for(var h in r.access)v.access[h]=r.access[h];v.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var g=(0,n[p])("accessor"===u?{get:d.get,set:d.set}:d[c],v);if("accessor"===u){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(s=a(g.get))&&(d.get=s),(s=a(g.set))&&(d.set=s),(s=a(g.init))&&i.unshift(s)}else(s=a(g))&&("field"===u?i.unshift(s):d[c]=s)}l&&Object.defineProperty(l,r.name,d),f=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function v(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function E(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function w(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=i[e](t)).value instanceof S?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function A(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},R=function(e){return R=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},R(e)};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=R(e),r=0;r<n.length;r++)"default"!==n[r]&&g(t,e,n[r]);return C(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function P(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var D="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function j(e){function t(t){e.error=e.hasError?new D(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function i(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,(function(e){return t(e),i()}))}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function B(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,r,i,o){return n?t?".jsx":".js":!r||i&&o?r+i+"."+o.toLowerCase()+"js":e})):e}t.default={__extends:i,__assign:o,__rest:a,__decorate:s,__param:u,__esDecorate:c,__runInitializers:l,__propKey:d,__setFunctionName:f,__metadata:p,__awaiter:v,__generator:h,__createBinding:g,__exportStar:m,__values:y,__read:b,__spread:_,__spreadArrays:E,__spreadArray:w,__await:S,__asyncGenerator:T,__asyncDelegator:A,__asyncValues:k,__makeTemplateObject:O,__importStar:I,__importDefault:N,__classPrivateFieldGet:M,__classPrivateFieldSet:x,__classPrivateFieldIn:P,__addDisposableResource:L,__disposeResources:j,__rewriteRelativeImportExtension:B}},78897:function(e){"use strict";e.exports=JSON.parse('["/csr/","/mybank/","/mybank/3dsecure/end/","/mybank/accounts/cashloan/:accountId/","/mybank/accounts/cashloan/:accountId/repayment/full/","/mybank/accounts/cashloan/:accountId/repayment/part/","/mybank/accounts/cashloan/educational/:accountId/","/mybank/accounts/credit/:accountId/","/mybank/accounts/credit/:accountId/limits/","/mybank/accounts/debit/:accountId/","/mybank/accounts/deposit/:accountId/","/mybank/accounts/investbox/","/mybank/accounts/investbox/:brokerAccountId/","/mybank/accounts/investbox/:brokerAccountId/documents/","/mybank/accounts/investbox/:brokerAccountId/reports/","/mybank/accounts/investloan/:accountId/","/mybank/accounts/junior/:accountId/","/mybank/accounts/npf/","/mybank/accounts/npf/employer-info/","/mybank/accounts/npf/government-info/","/mybank/accounts/npf/invest-income-info/","/mybank/accounts/npf/operations/","/mybank/accounts/npf/tax-info/","/mybank/accounts/pos/:accountId/","/mybank/accounts/pos/:accountId/repayment/full/","/mybank/accounts/pos/:accountId/repayment/part/","/mybank/accounts/saving/:accountId/","/mybank/auth/","/mybank/bonuses/","/mybank/bonuses/cashback-fest/","/mybank/bonuses/categories/:categoryCode/","/mybank/bonuses/high-cashback/offer/:id/","/mybank/bonuses/history/:accountId/","/mybank/bonuses/history/:accountId/destination/","/mybank/bonuses/monopoly/offers/","/mybank/bonuses/offers/:offerId/","/mybank/bonuses/redeem-success/","/mybank/bonuses/redeem/:accountId/","/mybank/bonuses/special-offers/","/mybank/cards/:ucid/","/mybank/cards/credit-cards/online-sign/","/mybank/cards/credit-cards/sign-plastic/","/mybank/cards/credit-cards/wv-installment/","/mybank/chat/","/mybank/education/activation/","/mybank/gifts/:giftId/","/mybank/gifts/:giftId/accept/","/mybank/gifts/:giftId/compensate-success/","/mybank/gifts/:giftId/full-used/","/mybank/gorod/","/mybank/gorod/afisha/:city/:service/:eventName/","/mybank/gorod/afisha/:city/:service/:eventName/widget/","/mybank/gorod/allservices/","/mybank/gorod/fuel/","/mybank/gorod/orders/","/mybank/gorod/shopping/","/mybank/gorod/shopping/product/:productId/","/mybank/gorod/shopping/search/","/mybank/gorod/shopping/shop/:shopId/","/mybank/gorod/shopping/shop/:shopId/brands/","/mybank/gorod/shopping/shop/:shopId/categories/","/mybank/gorod/shopping/shop/:shopId/search/","/mybank/gorod/shopping/shops/","/mybank/gorod/shopping/shops/:partnerTag/","/mybank/gorod/travel/","/mybank/insurance/","/mybank/insurance/claim/:policyId/:claimNumber/payoutoffer/auto/","/mybank/insurance/insurance-app-webview-new-product/","/mybank/insurance/oneclick/osago/:policyId/","/mybank/insurance/policy/kasko/:policyId/","/mybank/insurance/policy/mortgage/:policyId/","/mybank/insurance/policy/osago/:policyId/","/mybank/loans/cash-loan/approval/wv-installment/","/mybank/loans/cash-loan/online-sign/wv-installment/","/mybank/mb-confirmation/","/mybank/new-product/","/mybank/new-product/business/","/mybank/new-product/business/bizreg/ip-onboarding/","/mybank/new-product/cards/","/mybank/new-product/cards/credit-cards/platinum/","/mybank/new-product/cards/credit-cards/tinkoff-platinum-reviews/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/dlya-vigodi-i-bonuses/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/drugoe/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/krupnie-pokupki/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/na-vsyakiy-sluchai/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/neojidannie-traty/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/pogisit-kredit/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/povsednevnie-raskhodi/","/mybank/new-product/cards/credit-cards/tinkoff-platinum/reviews/","/mybank/new-product/cards/test-offer/","/mybank/new-product/cards/test_offer/","/mybank/new-product/credit/","/mybank/new-product/family/","/mybank/new-product/insurance/","/mybank/new-product/invest/","/mybank/new-product/loans/","/mybank/new-product/more/","/mybank/new-product/new/","/mybank/new-product/savings-account/","/mybank/new-product/savings/","/mybank/new-product/savings/fixed-percent/","/mybank/new-product/savings/make_profit/","/mybank/new-product/savings/withdraw-without-loss/","/mybank/new-product/sim/","/mybank/new-product/t-cards/","/mybank/new-product/welcome/","/mybank/new-product/y.andrienko/","/mybank/new-pwa/","/mybank/operations/","/mybank/operations/desktop/","/mybank/payments/","/mybank/payments/agreement/","/mybank/payments/bills/p-:providerId/pay/","/mybank/payments/bills/search-by-uin/p-:providerId/","/mybank/payments/bills/success/:paymentId/","/mybank/payments/categories/","/mybank/payments/categories/mobile-connection/","/mybank/payments/easy_zone/","/mybank/payments/investbox/:brokerAccountId/replenishment/","/mybank/payments/investbox/:brokerAccountId/withdrawal/:instrumentUid/","/mybank/payments/investbox/replenishment/success/:paymentId/","/mybank/payments/investbox/withdrawal/success/:paymentId/","/mybank/payments/npf/replenishment/","/mybank/payments/npf/replenishment/success/:paymentId/","/mybank/payments/persons/phone/","/mybank/payments/qr-pay/:qrId/","/mybank/payments/qr-storage-subscription/","/mybank/payments/qr-storage-subscription/:legalEntityId/:subscriptionId?/","/mybank/payments/qr-subscription/:qrId/","/mybank/payments/quick/accounts-pay/","/mybank/payments/quick/replenishment/","/mybank/payments/quick/transfers/","/mybank/payments/sbp-me2me-in/:invoiceId/","/mybank/payments/scan/","/mybank/payments/success/:paymentId/","/mybank/payments/transfer-between-accounts/","/mybank/payments/transfer-card-to-card/","/mybank/payments/transfers/","/mybank/pension/","/mybank/pension/product/","/mybank/profile/","/mybank/profile/address/","/mybank/profile/protect-or-return-money/","/mybank/profile/security-word/","/mybank/profile/security/","/mybank/repair/new-product/","/mybank/settings/","/mybank/settings/iosapps/step0/","/mybank/settings/iosapps/step1/","/mybank/settings/iosapps/step2/","/mybank/settings/iosapps/step3/","/mybank/settings/iosapps/step4/","/mybank/settings/iosapps/step5/","/mybank/settings/iosapps/step6/","/mybank/split/","/mybank/statements/","/mybank/statements/agreement/","/mybank/statements/available-balance/","/mybank/statements/debt/","/mybank/statements/movement-funds/","/mybank/statements/requisites/","/mybank/statements/salary-transfer/","/mybank/statements/success/:extensionId/","/mybank/subscription/find-my-kids/","/mybank/subscription/premier/","/mybank/subscription/start/","/mybank/subscription/wink/","/mybank/subscription/x5/","/mybank/webview-debug/","/mybank/webview-payment/","/mybank/webview-redirect/","/mybank/wvpreload/","/supreme/","/supreme/csr/","/supreme/ssr/","/tests/failed/"]')},44250:function(e){"use strict";e.exports=JSON.parse('[{"name":"nodejs","version":"0.2.0","date":"2011-08-26","lts":false,"security":false,"v8":"2.3.8.0"},{"name":"nodejs","version":"0.3.0","date":"2011-08-26","lts":false,"security":false,"v8":"2.5.1.0"},{"name":"nodejs","version":"0.4.0","date":"2011-08-26","lts":false,"security":false,"v8":"3.1.2.0"},{"name":"nodejs","version":"0.5.0","date":"2011-08-26","lts":false,"security":false,"v8":"3.1.8.25"},{"name":"nodejs","version":"0.6.0","date":"2011-11-04","lts":false,"security":false,"v8":"3.6.6.6"},{"name":"nodejs","version":"0.7.0","date":"2012-01-17","lts":false,"security":false,"v8":"3.8.6.0"},{"name":"nodejs","version":"0.8.0","date":"2012-06-22","lts":false,"security":false,"v8":"3.11.10.10"},{"name":"nodejs","version":"0.9.0","date":"2012-07-20","lts":false,"security":false,"v8":"3.11.10.15"},{"name":"nodejs","version":"0.10.0","date":"2013-03-11","lts":false,"security":false,"v8":"3.14.5.8"},{"name":"nodejs","version":"0.11.0","date":"2013-03-28","lts":false,"security":false,"v8":"3.17.13.0"},{"name":"nodejs","version":"0.12.0","date":"2015-02-06","lts":false,"security":false,"v8":"3.28.73.0"},{"name":"nodejs","version":"4.0.0","date":"2015-09-08","lts":false,"security":false,"v8":"4.5.103.30"},{"name":"nodejs","version":"4.1.0","date":"2015-09-17","lts":false,"security":false,"v8":"4.5.103.33"},{"name":"nodejs","version":"4.2.0","date":"2015-10-12","lts":"Argon","security":false,"v8":"4.5.103.35"},{"name":"nodejs","version":"4.3.0","date":"2016-02-09","lts":"Argon","security":false,"v8":"4.5.103.35"},{"name":"nodejs","version":"4.4.0","date":"2016-03-08","lts":"Argon","security":false,"v8":"4.5.103.35"},{"name":"nodejs","version":"4.5.0","date":"2016-08-16","lts":"Argon","security":false,"v8":"4.5.103.37"},{"name":"nodejs","version":"4.6.0","date":"2016-09-27","lts":"Argon","security":true,"v8":"4.5.103.37"},{"name":"nodejs","version":"4.7.0","date":"2016-12-06","lts":"Argon","security":false,"v8":"4.5.103.43"},{"name":"nodejs","version":"4.8.0","date":"2017-02-21","lts":"Argon","security":false,"v8":"4.5.103.45"},{"name":"nodejs","version":"4.9.0","date":"2018-03-28","lts":"Argon","security":true,"v8":"4.5.103.53"},{"name":"nodejs","version":"5.0.0","date":"2015-10-29","lts":false,"security":false,"v8":"4.6.85.28"},{"name":"nodejs","version":"5.1.0","date":"2015-11-17","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.2.0","date":"2015-12-09","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.3.0","date":"2015-12-15","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.4.0","date":"2016-01-06","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.5.0","date":"2016-01-21","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.6.0","date":"2016-02-09","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.7.0","date":"2016-02-23","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.8.0","date":"2016-03-09","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.9.0","date":"2016-03-16","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.10.0","date":"2016-04-01","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.11.0","date":"2016-04-21","lts":false,"security":false,"v8":"4.6.85.31"},{"name":"nodejs","version":"5.12.0","date":"2016-06-23","lts":false,"security":false,"v8":"4.6.85.32"},{"name":"nodejs","version":"6.0.0","date":"2016-04-26","lts":false,"security":false,"v8":"5.0.71.35"},{"name":"nodejs","version":"6.1.0","date":"2016-05-05","lts":false,"security":false,"v8":"5.0.71.35"},{"name":"nodejs","version":"6.2.0","date":"2016-05-17","lts":false,"security":false,"v8":"5.0.71.47"},{"name":"nodejs","version":"6.3.0","date":"2016-07-06","lts":false,"security":false,"v8":"5.0.71.52"},{"name":"nodejs","version":"6.4.0","date":"2016-08-12","lts":false,"security":false,"v8":"5.0.71.60"},{"name":"nodejs","version":"6.5.0","date":"2016-08-26","lts":false,"security":false,"v8":"5.1.281.81"},{"name":"nodejs","version":"6.6.0","date":"2016-09-14","lts":false,"security":false,"v8":"5.1.281.83"},{"name":"nodejs","version":"6.7.0","date":"2016-09-27","lts":false,"security":true,"v8":"5.1.281.83"},{"name":"nodejs","version":"6.8.0","date":"2016-10-12","lts":false,"security":false,"v8":"5.1.281.84"},{"name":"nodejs","version":"6.9.0","date":"2016-10-18","lts":"Boron","security":false,"v8":"5.1.281.84"},{"name":"nodejs","version":"6.10.0","date":"2017-02-21","lts":"Boron","security":false,"v8":"5.1.281.93"},{"name":"nodejs","version":"6.11.0","date":"2017-06-06","lts":"Boron","security":false,"v8":"5.1.281.102"},{"name":"nodejs","version":"6.12.0","date":"2017-11-06","lts":"Boron","security":false,"v8":"5.1.281.108"},{"name":"nodejs","version":"6.13.0","date":"2018-02-10","lts":"Boron","security":false,"v8":"5.1.281.111"},{"name":"nodejs","version":"6.14.0","date":"2018-03-28","lts":"Boron","security":true,"v8":"5.1.281.111"},{"name":"nodejs","version":"6.15.0","date":"2018-11-27","lts":"Boron","security":true,"v8":"5.1.281.111"},{"name":"nodejs","version":"6.16.0","date":"2018-12-26","lts":"Boron","security":false,"v8":"5.1.281.111"},{"name":"nodejs","version":"6.17.0","date":"2019-02-28","lts":"Boron","security":true,"v8":"5.1.281.111"},{"name":"nodejs","version":"7.0.0","date":"2016-10-25","lts":false,"security":false,"v8":"5.4.500.36"},{"name":"nodejs","version":"7.1.0","date":"2016-11-08","lts":false,"security":false,"v8":"5.4.500.36"},{"name":"nodejs","version":"7.2.0","date":"2016-11-22","lts":false,"security":false,"v8":"5.4.500.43"},{"name":"nodejs","version":"7.3.0","date":"2016-12-20","lts":false,"security":false,"v8":"5.4.500.45"},{"name":"nodejs","version":"7.4.0","date":"2017-01-04","lts":false,"security":false,"v8":"5.4.500.45"},{"name":"nodejs","version":"7.5.0","date":"2017-01-31","lts":false,"security":false,"v8":"5.4.500.48"},{"name":"nodejs","version":"7.6.0","date":"2017-02-21","lts":false,"security":false,"v8":"5.5.372.40"},{"name":"nodejs","version":"7.7.0","date":"2017-02-28","lts":false,"security":false,"v8":"5.5.372.41"},{"name":"nodejs","version":"7.8.0","date":"2017-03-29","lts":false,"security":false,"v8":"5.5.372.43"},{"name":"nodejs","version":"7.9.0","date":"2017-04-11","lts":false,"security":false,"v8":"5.5.372.43"},{"name":"nodejs","version":"7.10.0","date":"2017-05-02","lts":false,"security":false,"v8":"5.5.372.43"},{"name":"nodejs","version":"8.0.0","date":"2017-05-30","lts":false,"security":false,"v8":"5.8.283.41"},{"name":"nodejs","version":"8.1.0","date":"2017-06-08","lts":false,"security":false,"v8":"5.8.283.41"},{"name":"nodejs","version":"8.2.0","date":"2017-07-19","lts":false,"security":false,"v8":"5.8.283.41"},{"name":"nodejs","version":"8.3.0","date":"2017-08-08","lts":false,"security":false,"v8":"6.0.286.52"},{"name":"nodejs","version":"8.4.0","date":"2017-08-15","lts":false,"security":false,"v8":"6.0.286.52"},{"name":"nodejs","version":"8.5.0","date":"2017-09-12","lts":false,"security":false,"v8":"6.0.287.53"},{"name":"nodejs","version":"8.6.0","date":"2017-09-26","lts":false,"security":false,"v8":"6.0.287.53"},{"name":"nodejs","version":"8.7.0","date":"2017-10-11","lts":false,"security":false,"v8":"6.1.534.42"},{"name":"nodejs","version":"8.8.0","date":"2017-10-24","lts":false,"security":false,"v8":"6.1.534.42"},{"name":"nodejs","version":"8.9.0","date":"2017-10-31","lts":"Carbon","security":false,"v8":"6.1.534.46"},{"name":"nodejs","version":"8.10.0","date":"2018-03-06","lts":"Carbon","security":false,"v8":"6.2.414.50"},{"name":"nodejs","version":"8.11.0","date":"2018-03-28","lts":"Carbon","security":true,"v8":"6.2.414.50"},{"name":"nodejs","version":"8.12.0","date":"2018-09-10","lts":"Carbon","security":false,"v8":"6.2.414.66"},{"name":"nodejs","version":"8.13.0","date":"2018-11-20","lts":"Carbon","security":false,"v8":"6.2.414.72"},{"name":"nodejs","version":"8.14.0","date":"2018-11-27","lts":"Carbon","security":true,"v8":"6.2.414.72"},{"name":"nodejs","version":"8.15.0","date":"2018-12-26","lts":"Carbon","security":false,"v8":"6.2.414.75"},{"name":"nodejs","version":"8.16.0","date":"2019-04-16","lts":"Carbon","security":false,"v8":"6.2.414.77"},{"name":"nodejs","version":"8.17.0","date":"2019-12-17","lts":"Carbon","security":true,"v8":"6.2.414.78"},{"name":"nodejs","version":"9.0.0","date":"2017-10-31","lts":false,"security":false,"v8":"6.2.414.32"},{"name":"nodejs","version":"9.1.0","date":"2017-11-07","lts":false,"security":false,"v8":"6.2.414.32"},{"name":"nodejs","version":"9.2.0","date":"2017-11-14","lts":false,"security":false,"v8":"6.2.414.44"},{"name":"nodejs","version":"9.3.0","date":"2017-12-12","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.4.0","date":"2018-01-10","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.5.0","date":"2018-01-31","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.6.0","date":"2018-02-21","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.7.0","date":"2018-03-01","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.8.0","date":"2018-03-07","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.9.0","date":"2018-03-21","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.10.0","date":"2018-03-28","lts":false,"security":true,"v8":"6.2.414.46"},{"name":"nodejs","version":"9.11.0","date":"2018-04-04","lts":false,"security":false,"v8":"6.2.414.46"},{"name":"nodejs","version":"10.0.0","date":"2018-04-24","lts":false,"security":false,"v8":"6.6.346.24"},{"name":"nodejs","version":"10.1.0","date":"2018-05-08","lts":false,"security":false,"v8":"6.6.346.27"},{"name":"nodejs","version":"10.2.0","date":"2018-05-23","lts":false,"security":false,"v8":"6.6.346.32"},{"name":"nodejs","version":"10.3.0","date":"2018-05-29","lts":false,"security":false,"v8":"6.6.346.32"},{"name":"nodejs","version":"10.4.0","date":"2018-06-06","lts":false,"security":false,"v8":"6.7.288.43"},{"name":"nodejs","version":"10.5.0","date":"2018-06-20","lts":false,"security":false,"v8":"6.7.288.46"},{"name":"nodejs","version":"10.6.0","date":"2018-07-04","lts":false,"security":false,"v8":"6.7.288.46"},{"name":"nodejs","version":"10.7.0","date":"2018-07-18","lts":false,"security":false,"v8":"6.7.288.49"},{"name":"nodejs","version":"10.8.0","date":"2018-08-01","lts":false,"security":false,"v8":"6.7.288.49"},{"name":"nodejs","version":"10.9.0","date":"2018-08-15","lts":false,"security":false,"v8":"6.8.275.24"},{"name":"nodejs","version":"10.10.0","date":"2018-09-06","lts":false,"security":false,"v8":"6.8.275.30"},{"name":"nodejs","version":"10.11.0","date":"2018-09-19","lts":false,"security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.12.0","date":"2018-10-10","lts":false,"security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.13.0","date":"2018-10-30","lts":"Dubnium","security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.14.0","date":"2018-11-27","lts":"Dubnium","security":true,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.15.0","date":"2018-12-26","lts":"Dubnium","security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.16.0","date":"2019-05-28","lts":"Dubnium","security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.17.0","date":"2019-10-22","lts":"Dubnium","security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.18.0","date":"2019-12-17","lts":"Dubnium","security":true,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.19.0","date":"2020-02-05","lts":"Dubnium","security":true,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.20.0","date":"2020-03-26","lts":"Dubnium","security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.21.0","date":"2020-06-02","lts":"Dubnium","security":true,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.22.0","date":"2020-07-21","lts":"Dubnium","security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.23.0","date":"2020-10-27","lts":"Dubnium","security":false,"v8":"6.8.275.32"},{"name":"nodejs","version":"10.24.0","date":"2021-02-23","lts":"Dubnium","security":true,"v8":"6.8.275.32"},{"name":"nodejs","version":"11.0.0","date":"2018-10-23","lts":false,"security":false,"v8":"7.0.276.28"},{"name":"nodejs","version":"11.1.0","date":"2018-10-30","lts":false,"security":false,"v8":"7.0.276.32"},{"name":"nodejs","version":"11.2.0","date":"2018-11-15","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.3.0","date":"2018-11-27","lts":false,"security":true,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.4.0","date":"2018-12-07","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.5.0","date":"2018-12-18","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.6.0","date":"2018-12-26","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.7.0","date":"2019-01-17","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.8.0","date":"2019-01-24","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.9.0","date":"2019-01-30","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.10.0","date":"2019-02-14","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.11.0","date":"2019-03-05","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.12.0","date":"2019-03-14","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.13.0","date":"2019-03-28","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.14.0","date":"2019-04-10","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"11.15.0","date":"2019-04-30","lts":false,"security":false,"v8":"7.0.276.38"},{"name":"nodejs","version":"12.0.0","date":"2019-04-23","lts":false,"security":false,"v8":"7.4.288.21"},{"name":"nodejs","version":"12.1.0","date":"2019-04-29","lts":false,"security":false,"v8":"7.4.288.21"},{"name":"nodejs","version":"12.2.0","date":"2019-05-07","lts":false,"security":false,"v8":"7.4.288.21"},{"name":"nodejs","version":"12.3.0","date":"2019-05-21","lts":false,"security":false,"v8":"7.4.288.27"},{"name":"nodejs","version":"12.4.0","date":"2019-06-04","lts":false,"security":false,"v8":"7.4.288.27"},{"name":"nodejs","version":"12.5.0","date":"2019-06-26","lts":false,"security":false,"v8":"7.5.288.22"},{"name":"nodejs","version":"12.6.0","date":"2019-07-03","lts":false,"security":false,"v8":"7.5.288.22"},{"name":"nodejs","version":"12.7.0","date":"2019-07-23","lts":false,"security":false,"v8":"7.5.288.22"},{"name":"nodejs","version":"12.8.0","date":"2019-08-06","lts":false,"security":false,"v8":"7.5.288.22"},{"name":"nodejs","version":"12.9.0","date":"2019-08-20","lts":false,"security":false,"v8":"7.6.303.29"},{"name":"nodejs","version":"12.10.0","date":"2019-09-04","lts":false,"security":false,"v8":"7.6.303.29"},{"name":"nodejs","version":"12.11.0","date":"2019-09-25","lts":false,"security":false,"v8":"7.7.299.11"},{"name":"nodejs","version":"12.12.0","date":"2019-10-11","lts":false,"security":false,"v8":"7.7.299.13"},{"name":"nodejs","version":"12.13.0","date":"2019-10-21","lts":"Erbium","security":false,"v8":"7.7.299.13"},{"name":"nodejs","version":"12.14.0","date":"2019-12-17","lts":"Erbium","security":true,"v8":"7.7.299.13"},{"name":"nodejs","version":"12.15.0","date":"2020-02-05","lts":"Erbium","security":true,"v8":"7.7.299.13"},{"name":"nodejs","version":"12.16.0","date":"2020-02-11","lts":"Erbium","security":false,"v8":"7.8.279.23"},{"name":"nodejs","version":"12.17.0","date":"2020-05-26","lts":"Erbium","security":false,"v8":"7.8.279.23"},{"name":"nodejs","version":"12.18.0","date":"2020-06-02","lts":"Erbium","security":true,"v8":"7.8.279.23"},{"name":"nodejs","version":"12.19.0","date":"2020-10-06","lts":"Erbium","security":false,"v8":"7.8.279.23"},{"name":"nodejs","version":"12.20.0","date":"2020-11-24","lts":"Erbium","security":false,"v8":"7.8.279.23"},{"name":"nodejs","version":"12.21.0","date":"2021-02-23","lts":"Erbium","security":true,"v8":"7.8.279.23"},{"name":"nodejs","version":"12.22.0","date":"2021-03-30","lts":"Erbium","security":false,"v8":"7.8.279.23"},{"name":"nodejs","version":"13.0.0","date":"2019-10-22","lts":false,"security":false,"v8":"7.8.279.17"},{"name":"nodejs","version":"13.1.0","date":"2019-11-05","lts":false,"security":false,"v8":"7.8.279.17"},{"name":"nodejs","version":"13.2.0","date":"2019-11-21","lts":false,"security":false,"v8":"7.9.317.23"},{"name":"nodejs","version":"13.3.0","date":"2019-12-03","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.4.0","date":"2019-12-17","lts":false,"security":true,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.5.0","date":"2019-12-18","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.6.0","date":"2020-01-07","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.7.0","date":"2020-01-21","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.8.0","date":"2020-02-05","lts":false,"security":true,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.9.0","date":"2020-02-18","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.10.0","date":"2020-03-04","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.11.0","date":"2020-03-12","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.12.0","date":"2020-03-26","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.13.0","date":"2020-04-14","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"13.14.0","date":"2020-04-29","lts":false,"security":false,"v8":"7.9.317.25"},{"name":"nodejs","version":"14.0.0","date":"2020-04-21","lts":false,"security":false,"v8":"8.1.307.30"},{"name":"nodejs","version":"14.1.0","date":"2020-04-29","lts":false,"security":false,"v8":"8.1.307.31"},{"name":"nodejs","version":"14.2.0","date":"2020-05-05","lts":false,"security":false,"v8":"8.1.307.31"},{"name":"nodejs","version":"14.3.0","date":"2020-05-19","lts":false,"security":false,"v8":"8.1.307.31"},{"name":"nodejs","version":"14.4.0","date":"2020-06-02","lts":false,"security":true,"v8":"8.1.307.31"},{"name":"nodejs","version":"14.5.0","date":"2020-06-30","lts":false,"security":false,"v8":"8.3.110.9"},{"name":"nodejs","version":"14.6.0","date":"2020-07-20","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.7.0","date":"2020-07-29","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.8.0","date":"2020-08-11","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.9.0","date":"2020-08-27","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.10.0","date":"2020-09-08","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.11.0","date":"2020-09-15","lts":false,"security":true,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.12.0","date":"2020-09-22","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.13.0","date":"2020-09-29","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.14.0","date":"2020-10-15","lts":false,"security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.15.0","date":"2020-10-27","lts":"Fermium","security":false,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.16.0","date":"2021-02-23","lts":"Fermium","security":true,"v8":"8.4.371.19"},{"name":"nodejs","version":"14.17.0","date":"2021-05-11","lts":"Fermium","security":false,"v8":"8.4.371.23"},{"name":"nodejs","version":"14.18.0","date":"2021-09-28","lts":"Fermium","security":false,"v8":"8.4.371.23"},{"name":"nodejs","version":"14.19.0","date":"2022-02-01","lts":"Fermium","security":false,"v8":"8.4.371.23"},{"name":"nodejs","version":"14.20.0","date":"2022-07-07","lts":"Fermium","security":true,"v8":"8.4.371.23"},{"name":"nodejs","version":"14.21.0","date":"2022-11-01","lts":"Fermium","security":false,"v8":"8.4.371.23"},{"name":"nodejs","version":"15.0.0","date":"2020-10-20","lts":false,"security":false,"v8":"8.6.395.16"},{"name":"nodejs","version":"15.1.0","date":"2020-11-04","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.2.0","date":"2020-11-10","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.3.0","date":"2020-11-24","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.4.0","date":"2020-12-09","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.5.0","date":"2020-12-22","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.6.0","date":"2021-01-14","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.7.0","date":"2021-01-25","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.8.0","date":"2021-02-02","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.9.0","date":"2021-02-18","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.10.0","date":"2021-02-23","lts":false,"security":true,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.11.0","date":"2021-03-03","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.12.0","date":"2021-03-17","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.13.0","date":"2021-03-31","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"15.14.0","date":"2021-04-06","lts":false,"security":false,"v8":"8.6.395.17"},{"name":"nodejs","version":"16.0.0","date":"2021-04-20","lts":false,"security":false,"v8":"9.0.257.17"},{"name":"nodejs","version":"16.1.0","date":"2021-05-04","lts":false,"security":false,"v8":"9.0.257.24"},{"name":"nodejs","version":"16.2.0","date":"2021-05-19","lts":false,"security":false,"v8":"9.0.257.25"},{"name":"nodejs","version":"16.3.0","date":"2021-06-03","lts":false,"security":false,"v8":"9.0.257.25"},{"name":"nodejs","version":"16.4.0","date":"2021-06-23","lts":false,"security":false,"v8":"9.1.269.36"},{"name":"nodejs","version":"16.5.0","date":"2021-07-14","lts":false,"security":false,"v8":"9.1.269.38"},{"name":"nodejs","version":"16.6.0","date":"2021-07-29","lts":false,"security":true,"v8":"9.2.230.21"},{"name":"nodejs","version":"16.7.0","date":"2021-08-18","lts":false,"security":false,"v8":"9.2.230.21"},{"name":"nodejs","version":"16.8.0","date":"2021-08-25","lts":false,"security":false,"v8":"9.2.230.21"},{"name":"nodejs","version":"16.9.0","date":"2021-09-07","lts":false,"security":false,"v8":"9.3.345.16"},{"name":"nodejs","version":"16.10.0","date":"2021-09-22","lts":false,"security":false,"v8":"9.3.345.19"},{"name":"nodejs","version":"16.11.0","date":"2021-10-08","lts":false,"security":false,"v8":"9.4.146.19"},{"name":"nodejs","version":"16.12.0","date":"2021-10-20","lts":false,"security":false,"v8":"9.4.146.19"},{"name":"nodejs","version":"16.13.0","date":"2021-10-26","lts":"Gallium","security":false,"v8":"9.4.146.19"},{"name":"nodejs","version":"16.14.0","date":"2022-02-08","lts":"Gallium","security":false,"v8":"9.4.146.24"},{"name":"nodejs","version":"16.15.0","date":"2022-04-26","lts":"Gallium","security":false,"v8":"9.4.146.24"},{"name":"nodejs","version":"16.16.0","date":"2022-07-07","lts":"Gallium","security":true,"v8":"9.4.146.24"},{"name":"nodejs","version":"16.17.0","date":"2022-08-16","lts":"Gallium","security":false,"v8":"9.4.146.26"},{"name":"nodejs","version":"16.18.0","date":"2022-10-12","lts":"Gallium","security":false,"v8":"9.4.146.26"},{"name":"nodejs","version":"16.19.0","date":"2022-12-13","lts":"Gallium","security":false,"v8":"9.4.146.26"},{"name":"nodejs","version":"16.20.0","date":"2023-03-28","lts":"Gallium","security":false,"v8":"9.4.146.26"},{"name":"nodejs","version":"17.0.0","date":"2021-10-19","lts":false,"security":false,"v8":"9.5.172.21"},{"name":"nodejs","version":"17.1.0","date":"2021-11-09","lts":false,"security":false,"v8":"9.5.172.25"},{"name":"nodejs","version":"17.2.0","date":"2021-11-30","lts":false,"security":false,"v8":"9.6.180.14"},{"name":"nodejs","version":"17.3.0","date":"2021-12-17","lts":false,"security":false,"v8":"9.6.180.15"},{"name":"nodejs","version":"17.4.0","date":"2022-01-18","lts":false,"security":false,"v8":"9.6.180.15"},{"name":"nodejs","version":"17.5.0","date":"2022-02-10","lts":false,"security":false,"v8":"9.6.180.15"},{"name":"nodejs","version":"17.6.0","date":"2022-02-22","lts":false,"security":false,"v8":"9.6.180.15"},{"name":"nodejs","version":"17.7.0","date":"2022-03-09","lts":false,"security":false,"v8":"9.6.180.15"},{"name":"nodejs","version":"17.8.0","date":"2022-03-22","lts":false,"security":false,"v8":"9.6.180.15"},{"name":"nodejs","version":"17.9.0","date":"2022-04-07","lts":false,"security":false,"v8":"9.6.180.15"},{"name":"nodejs","version":"18.0.0","date":"2022-04-18","lts":false,"security":false,"v8":"10.1.124.8"},{"name":"nodejs","version":"18.1.0","date":"2022-05-03","lts":false,"security":false,"v8":"10.1.124.8"},{"name":"nodejs","version":"18.2.0","date":"2022-05-17","lts":false,"security":false,"v8":"10.1.124.8"},{"name":"nodejs","version":"18.3.0","date":"2022-06-02","lts":false,"security":false,"v8":"10.2.154.4"},{"name":"nodejs","version":"18.4.0","date":"2022-06-16","lts":false,"security":false,"v8":"10.2.154.4"},{"name":"nodejs","version":"18.5.0","date":"2022-07-06","lts":false,"security":true,"v8":"10.2.154.4"},{"name":"nodejs","version":"18.6.0","date":"2022-07-13","lts":false,"security":false,"v8":"10.2.154.13"},{"name":"nodejs","version":"18.7.0","date":"2022-07-26","lts":false,"security":false,"v8":"10.2.154.13"},{"name":"nodejs","version":"18.8.0","date":"2022-08-24","lts":false,"security":false,"v8":"10.2.154.13"},{"name":"nodejs","version":"18.9.0","date":"2022-09-07","lts":false,"security":false,"v8":"10.2.154.15"},{"name":"nodejs","version":"18.10.0","date":"2022-09-28","lts":false,"security":false,"v8":"10.2.154.15"},{"name":"nodejs","version":"18.11.0","date":"2022-10-13","lts":false,"security":false,"v8":"10.2.154.15"},{"name":"nodejs","version":"18.12.0","date":"2022-10-25","lts":"Hydrogen","security":false,"v8":"10.2.154.15"},{"name":"nodejs","version":"18.13.0","date":"2023-01-05","lts":"Hydrogen","security":false,"v8":"10.2.154.23"},{"name":"nodejs","version":"18.14.0","date":"2023-02-01","lts":"Hydrogen","security":false,"v8":"10.2.154.23"},{"name":"nodejs","version":"18.15.0","date":"2023-03-05","lts":"Hydrogen","security":false,"v8":"10.2.154.26"},{"name":"nodejs","version":"18.16.0","date":"2023-04-12","lts":"Hydrogen","security":false,"v8":"10.2.154.26"},{"name":"nodejs","version":"19.0.0","date":"2022-10-17","lts":false,"security":false,"v8":"10.7.193.13"},{"name":"nodejs","version":"19.1.0","date":"2022-11-14","lts":false,"security":false,"v8":"10.7.193.20"},{"name":"nodejs","version":"19.2.0","date":"2022-11-29","lts":false,"security":false,"v8":"10.8.168.20"},{"name":"nodejs","version":"19.3.0","date":"2022-12-14","lts":false,"security":false,"v8":"10.8.168.21"},{"name":"nodejs","version":"19.4.0","date":"2023-01-05","lts":false,"security":false,"v8":"10.8.168.25"},{"name":"nodejs","version":"19.5.0","date":"2023-01-24","lts":false,"security":false,"v8":"10.8.168.25"},{"name":"nodejs","version":"19.6.0","date":"2023-02-01","lts":false,"security":false,"v8":"10.8.168.25"},{"name":"nodejs","version":"19.7.0","date":"2023-02-21","lts":false,"security":false,"v8":"10.8.168.25"},{"name":"nodejs","version":"19.8.0","date":"2023-03-14","lts":false,"security":false,"v8":"10.8.168.25"},{"name":"nodejs","version":"19.9.0","date":"2023-04-10","lts":false,"security":false,"v8":"10.8.168.25"},{"name":"nodejs","version":"20.0.0","date":"2023-04-17","lts":false,"security":false,"v8":"11.3.244.4"},{"name":"nodejs","version":"20.1.0","date":"2023-05-03","lts":false,"security":false,"v8":"11.3.244.8"},{"name":"nodejs","version":"20.2.0","date":"2023-05-16","lts":false,"security":false,"v8":"11.3.244.8"},{"name":"nodejs","version":"20.3.0","date":"2023-06-08","lts":false,"security":false,"v8":"11.3.244.8"},{"name":"nodejs","version":"20.4.0","date":"2023-07-04","lts":false,"security":false,"v8":"11.3.244.8"}]')},2619:function(e){"use strict";e.exports=JSON.parse('{"v0.8":{"start":"2012-06-25","end":"2014-07-31"},"v0.10":{"start":"2013-03-11","end":"2016-10-31"},"v0.12":{"start":"2015-02-06","end":"2016-12-31"},"v4":{"start":"2015-09-08","lts":"2015-10-12","maintenance":"2017-04-01","end":"2018-04-30","codename":"Argon"},"v5":{"start":"2015-10-29","maintenance":"2016-04-30","end":"2016-06-30"},"v6":{"start":"2016-04-26","lts":"2016-10-18","maintenance":"2018-04-30","end":"2019-04-30","codename":"Boron"},"v7":{"start":"2016-10-25","maintenance":"2017-04-30","end":"2017-06-30"},"v8":{"start":"2017-05-30","lts":"2017-10-31","maintenance":"2019-01-01","end":"2019-12-31","codename":"Carbon"},"v9":{"start":"2017-10-01","maintenance":"2018-04-01","end":"2018-06-30"},"v10":{"start":"2018-04-24","lts":"2018-10-30","maintenance":"2020-05-19","end":"2021-04-30","codename":"Dubnium"},"v11":{"start":"2018-10-23","maintenance":"2019-04-22","end":"2019-06-01"},"v12":{"start":"2019-04-23","lts":"2019-10-21","maintenance":"2020-11-30","end":"2022-04-30","codename":"Erbium"},"v13":{"start":"2019-10-22","maintenance":"2020-04-01","end":"2020-06-01"},"v14":{"start":"2020-04-21","lts":"2020-10-27","maintenance":"2021-10-19","end":"2023-04-30","codename":"Fermium"},"v15":{"start":"2020-10-20","maintenance":"2021-04-01","end":"2021-06-01"},"v16":{"start":"2021-04-20","lts":"2021-10-26","maintenance":"2022-10-18","end":"2023-09-11","codename":"Gallium"},"v17":{"start":"2021-10-19","maintenance":"2022-04-01","end":"2022-06-01"},"v18":{"start":"2022-04-19","lts":"2022-10-25","maintenance":"2023-10-18","end":"2025-04-30","codename":"Hydrogen"},"v19":{"start":"2022-10-18","maintenance":"2023-04-01","end":"2023-06-01"},"v20":{"start":"2023-04-18","lts":"2023-10-24","maintenance":"2024-10-22","end":"2026-04-30","codename":""}}')}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}},r=!0;try{o[e].call(n.exports,n,n.exports,s),r=!1}finally{r&&delete a[e]}return n.exports}s.m=o,s.c=a,s.amdO={},e=[],s.O=function(t,n,r,i){if(!n){var o=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],i=e[l][2];for(var a=!0,u=0;u<n.length;u++)(!1&i||o>=i)&&Object.keys(s.O).every((function(e){return s.O[e](n[u])}))?n.splice(u--,1):(a=!1,i<o&&(o=i));if(a){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);s.r(i);var o={};t=t||[null,n({}),n([]),n(n)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(t){o[t]=function(){return e[t]}}));return o.default=function(){return e},s.d(i,o),i},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))},s.u=function(e){return e+"."+{"component-BaseBanner-BaseBanner":"b90d065ad38eb97f","component-MobileSafariBanner-MobileSafariBanner":"1e35690f27abb27b","components-WebviewDebugComponent":"675762f2c6b05b2b","IosPwaSheet-IosPwaSheet":"9a6ee24474d1f9e9","tramvai-web-performance-rum":"4199f2cb21c50b23","@_pages_AuthPage":"4288803c173ec854","@_pages_auth_ErrorMessages_message":"be8200774fd45b4b","@_pages_auth_authPage":"16909beb0471cdfa","@_pages_webviewDebug_components_SimpleButton":"250f2254d94e1a5e","@_pages_webviewDebug_components_WebviewLink":"8bbd41c8e830d0aa","Notifications-es":"dd786ac073b958ea","tramvai-workbox-window":"59ab5a561d932783"}[e]+".chunk.js"},s.miniCssF=function(e){return e+"."+{"component-BaseBanner-BaseBanner":"618180268063ab6f","component-MobileSafariBanner-MobileSafariBanner":"f1e319993a5fbb5b","components-WebviewDebugComponent":"12b9f8a141fdbeb3","IosPwaSheet-IosPwaSheet":"8bbd1c24f5a13f23","@_pages_AuthPage":"ccd367f977aa8c54","@_pages_auth_ErrorMessages_message":"4c02b68e0621f8ae","@_pages_auth_authPage":"ccd367f977aa8c54","Notifications-es":"76a9b8c7f8ef9367"}[e]+".chunk.css"},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},i="application:supreme:1.0.0:",s.l=function(e,t,n,o){if(r[e])r[e].push(t);else{var a,u;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+n){a=d;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=240,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+n),a.src=e,0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous")),r[e]=[t];var f=function(t,n){a.onerror=a.onload=null,clearTimeout(p);var i=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),24e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),u&&document.head.appendChild(a)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p=window.ap,function(){s.S={};var e={},t={};s.I=function(n,r){r||(r=[]);var i=t[n];if(i||(i=t[n]={}),!(r.indexOf(i)>=0)){if(r.push(i),e[n])return e[n];s.o(s.S,n)||(s.S[n]={});var o=s.S[n],a="application:supreme:1.0.0",u=function(e,t,n,r){var i=o[e]=o[e]||{},s=i[t];(!s||!s.loaded&&(!r!=!s.eager?r:a>s.from))&&(i[t]={get:n,from:a,eager:!!r})},c=[];return"default"===n&&(u("react-dom","18.2.0",(function(){return function(){return s(95468)}}),1),u("react/jsx-runtime","18.2.0",(function(){return function(){return s(57695)}}),1),u("react","18.2.0",(function(){return function(){return s(57203)}}),1)),e[n]=c.length?Promise.all(c).then((function(){return e[n]=1})):1}}}(),function(){var e=function(e){var t=function(e){return e.split(".").map((function(e){return+e==e?+e:e}))},n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),r=n[1]?t(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,t(n[2]))),n[3]&&(r.push([]),r.push.apply(r,t(n[3]))),r},t=function(t,n){var r=t[n];return Object.keys(r).reduce((function(t,n){return!t||!r[t].loaded&&function(t,n){t=e(t),n=e(n);for(var r=0;;){if(r>=t.length)return r<n.length&&"u"!=(typeof n[r])[0];var i=t[r],o=(typeof i)[0];if(r>=n.length)return"u"==o;var a=n[r],s=(typeof a)[0];if(o!=s)return"o"==o&&"n"==s||"s"==s||"u"==o;if("o"!=o&&"u"!=o&&i!=a)return i<a;r++}}(t,n)?n:t}),0)},n=function(e){return e.loaded=1,e.get()},r=function(e){return function(t,n,r,i){var o=s.I(t);return o&&o.then?o.then(e.bind(e,t,s.S[t],n,r,i)):e(t,s.S[t],n,r,i)}}((function(e,r,i,o){return r&&s.o(r,i)?function(e,r,i,o){var a=t(e,i);return n(e[i][a])}(r,0,i):o()})),i={},o={44121:function(){return r("default","react",(function(){return function(){return s(57203)}}))},90776:function(){return r("default","react-dom",(function(){return function(){return s(95468)}}))},90130:function(){return r("default","react/jsx-runtime",(function(){return function(){return s(57695)}}))}};[44121,90776,90130].forEach((function(e){s.m[e]=function(t){i[e]=0,delete s.c[e];var n=o[e]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+e);t.exports=n()}}));var a={};s.f.consumes=function(e,t){s.o(a,e)&&a[e].forEach((function(e){if(s.o(i,e))return t.push(i[e]);var n=function(t){i[e]=0,s.m[e]=function(n){delete s.c[e],n.exports=t()}},r=function(t){delete i[e],s.m[e]=function(n){throw delete s.c[e],t}};try{var a=o[e]();a.then?t.push(i[e]=a.then(n).catch(r)):n(a)}catch(e){r(e)}}))}}(),function(){if("undefined"!=typeof document){var e={platform:0};s.f.miniCss=function(t,n){e[t]?n.push(e[t]):0!==e[t]&&{"component-BaseBanner-BaseBanner":1,"component-MobileSafariBanner-MobileSafariBanner":1,"components-WebviewDebugComponent":1,"IosPwaSheet-IosPwaSheet":1,"@_pages_AuthPage":1,"@_pages_auth_ErrorMessages_message":1,"@_pages_auth_authPage":1,"Notifications-es":1}[t]&&n.push(e[t]=function(e){return new Promise((function(t,n){var r=s.miniCssF(e),i=s.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===e||i===t)return a}}(r,i))return t();!function(e,t,n,r,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(n){if(o.onerror=o.onload=null,"load"===n.type)r();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,o.parentNode&&o.parentNode.removeChild(o),i(u)}},o.href=t,0!==o.href.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),document.head.appendChild(o)}(e,i,0,t,n)}))}(t).then((function(){e[t]=0}),(function(n){throw delete e[t],n})))}}}(),function(){var e={platform:0};s.f.j=function(t,n){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=s.p+s.u(t),a=new Error;s.l(o,(function(n){if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],a=n[1],u=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(u)var l=u(s)}for(t&&t(n);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(l)},n=self.wsp=self.wsp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),s.nc=void 0;var u=s.O(void 0,["react"],(function(){return s(76802)}));u=s.O(u)}();